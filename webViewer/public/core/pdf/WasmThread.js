(function(){var e=e||{};e.scope={},e.arrayIteratorImpl=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}},e.arrayIterator=function(t){return{next:e.arrayIteratorImpl(t)}},e.makeIterator=function(t){var n="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return n?n.call(t):e.arrayIterator(t)},e.ASSUME_ES5=!1,e.ASSUME_NO_NATIVE_MAP=!1,e.ASSUME_NO_NATIVE_SET=!1,e.SIMPLE_FROUND_POLYFILL=!1,e.ISOLATE_POLYFILLS=!1,e.FORCE_POLYFILL_PROMISE=!1,e.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,e.getGlobal=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")},e.global=e.getGlobal(this),e.defineProperty=e.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},e.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x"),e.TRUST_ES6_POLYFILLS=!e.ISOLATE_POLYFILLS||e.IS_SYMBOL_NATIVE,e.polyfills={},e.propertyToPolyfillSymbol={},e.POLYFILL_PREFIX="$jscp$";e.polyfill=function(t,n,r,o){n&&(e.ISOLATE_POLYFILLS?e.polyfillIsolated(t,n,r,o):e.polyfillUnisolated(t,n,r,o))},e.polyfillUnisolated=function(t,n,r,o){for(r=e.global,t=t.split("."),o=0;o<t.length-1;o++){var i=t[o];if(!(i in r))return;r=r[i]}t=t[t.length-1],o=r[t],n=n(o),n!=o&&null!=n&&e.defineProperty(r,t,{configurable:!0,writable:!0,value:n})},e.polyfillIsolated=function(t,n,r,o){var i=t.split(".");t=1===i.length,o=i[0],o=!t&&o in e.polyfills?e.polyfills:e.global;for(var a=0;a<i.length-1;a++){var s=i[a];if(!(s in o))return;o=o[s]}i=i[i.length-1],r=e.IS_SYMBOL_NATIVE&&"es6"===r?o[i]:null,n=n(r),null!=n&&(t?e.defineProperty(e.polyfills,i,{configurable:!0,writable:!0,value:n}):n!==r&&(void 0===e.propertyToPolyfillSymbol[i]&&(r=1e9*Math.random()>>>0,e.propertyToPolyfillSymbol[i]=e.IS_SYMBOL_NATIVE?e.global.Symbol(i):e.POLYFILL_PREFIX+r+"$"+i),e.defineProperty(o,e.propertyToPolyfillSymbol[i],{configurable:!0,writable:!0,value:n})))},e.polyfill("Promise",(function(t){function n(){this.batch_=null}function r(e){return e instanceof i?e:new i((function(t,n){t(e)}))}if(t&&(!(e.FORCE_POLYFILL_PROMISE||e.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION&&"undefined"===typeof e.global.PromiseRejectionEvent)||!e.global.Promise||-1===e.global.Promise.toString().indexOf("[native code]")))return t;n.prototype.asyncExecute=function(e){if(null==this.batch_){this.batch_=[];var t=this;this.asyncExecuteFunction((function(){t.executeBatch_()}))}this.batch_.push(e)};var o=e.global.setTimeout;n.prototype.asyncExecuteFunction=function(e){o(e,0)},n.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var e=this.batch_;this.batch_=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.asyncThrow_(r)}}}this.batch_=null},n.prototype.asyncThrow_=function(e){this.asyncExecuteFunction((function(){throw e}))};var i=function(e){this.state_=0,this.result_=void 0,this.onSettledCallbacks_=[],this.isRejectionHandled_=!1;var t=this.createResolveAndReject_();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}};i.prototype.createResolveAndReject_=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.resolveTo_),reject:e(this.reject_)}},i.prototype.resolveTo_=function(e){if(e===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof i)this.settleSameAsPromise_(e);else{e:switch(typeof e){case"object":var t=null!=e;break e;case"function":t=!0;break e;default:t=!1}t?this.resolveToNonPromiseObj_(e):this.fulfill_(e)}},i.prototype.resolveToNonPromiseObj_=function(e){var t=void 0;try{t=e.then}catch(n){return void this.reject_(n)}"function"==typeof t?this.settleSameAsThenable_(t,e):this.fulfill_(e)},i.prototype.reject_=function(e){this.settle_(2,e)},i.prototype.fulfill_=function(e){this.settle_(1,e)},i.prototype.settle_=function(e,t){if(0!=this.state_)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.state_);this.state_=e,this.result_=t,2===this.state_&&this.scheduleUnhandledRejectionCheck_(),this.executeOnSettledCallbacks_()},i.prototype.scheduleUnhandledRejectionCheck_=function(){var t=this;o((function(){if(t.notifyUnhandledRejection_()){var n=e.global.console;"undefined"!==typeof n&&n.error(t.result_)}}),1)},i.prototype.notifyUnhandledRejection_=function(){if(this.isRejectionHandled_)return!1;var t=e.global.CustomEvent,n=e.global.Event,r=e.global.dispatchEvent;return"undefined"===typeof r||("function"===typeof t?t=new t("unhandledrejection",{cancelable:!0}):"function"===typeof n?t=new n("unhandledrejection",{cancelable:!0}):(t=e.global.document.createEvent("CustomEvent"),t.initCustomEvent("unhandledrejection",!1,!0,t)),t.promise=this,t.reason=this.result_,r(t))},i.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var e=0;e<this.onSettledCallbacks_.length;++e)a.asyncExecute(this.onSettledCallbacks_[e]);this.onSettledCallbacks_=null}};var a=new n;return i.prototype.settleSameAsPromise_=function(e){var t=this.createResolveAndReject_();e.callWhenSettled_(t.resolve,t.reject)},i.prototype.settleSameAsThenable_=function(e,t){var n=this.createResolveAndReject_();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},i.prototype.then=function(e,t){function n(e,t){return"function"==typeof e?function(t){try{r(e(t))}catch(n){o(n)}}:t}var r,o,a=new i((function(e,t){r=e,o=t}));return this.callWhenSettled_(n(e,r),n(t,o)),a},i.prototype.catch=function(e){return this.then(void 0,e)},i.prototype.callWhenSettled_=function(e,t){function n(){switch(r.state_){case 1:e(r.result_);break;case 2:t(r.result_);break;default:throw Error("Unexpected state: "+r.state_)}}var r=this;null==this.onSettledCallbacks_?a.asyncExecute(n):this.onSettledCallbacks_.push(n),this.isRejectionHandled_=!0},i.resolve=r,i.reject=function(e){return new i((function(t,n){n(e)}))},i.race=function(t){return new i((function(n,o){for(var i=e.makeIterator(t),a=i.next();!a.done;a=i.next())r(a.value).callWhenSettled_(n,o)}))},i.all=function(t){var n=e.makeIterator(t),o=n.next();return o.done?r([]):new i((function(e,t){function i(t){return function(n){a[t]=n,s--,0==s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,r(o.value).callWhenSettled_(i(a.length-1),t),o=n.next()}while(!o.done)}))},i}),"es6","es3"),function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n||4&n&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(t){return e[t]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/core",t(t.s=1)}([function(e,t,n){(function(e){n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return S})),n.d(t,"d",(function(){return _}));var r=n(4);n.n(r);var o=window,i=function(){return function(e,t){this.fsQ=this.fs_read_counter=0,this.needCallback=!1,this.fs_read_total=e,this.fsQ=t}}();o.AsyncFSHack={readingAsyncFS:0,readingCounter:0,readCalls:{}};var a=o.Module,s=0,l={},c=function(e){o.AsyncFSHack.readingAsyncFS=1,e in o.AsyncFSHack.readCalls||(o.AsyncFSHack.readCalls[e]=new i(o.AsyncFSHack.read_total,o.AsyncFSHack.q))},u=function(e){var t=o.AsyncFSHack.readCalls[e];++t.fs_read_counter,t.fs_read_counter>=t.fs_read_total&&(t.needCallback?a._finish_do_call_operation(t.fsQ):o.AsyncFSHack.readingAsyncFS=0,delete o.AsyncFSHack.readCalls[e])},h=function(e,t,n,r,o,i){this.lruList=[],this.chunkMap={},this.chunkReader={},this.chunkMap[t]=r,this.length=t,this.cacheDataSize=n,this.url=e,this.customHeaders=o,this.withCredentials=i,this.chunkSize=1048576};h.prototype={lruUpdate:function(e){var t=this.lruList.lastIndexOf(e);0<=t&&this.lruList.splice(t,1),this.lruList.push(e)},downloadChunk:function(e,t){var n=!1;if(e in this.chunkReader||(this.chunkReader[e]=[],n=!0),t&&this.chunkReader[e].push(t),n){t=Math.min(e+this.chunkSize,this.length)-1;var r=new XMLHttpRequest;if(r.open("GET",this.url,!0),r.responseType="arraybuffer",r.setRequestHeader("Range",["bytes=",e,"-",t].join("")),this.withCredentials&&(r.withCredentials=this.withCredentials),this.customHeaders)for(var o in this.customHeaders)r.setRequestHeader(o,this.customHeaders[o]);r.send();var i=this;r.onload=function(){if(200===r.status||206===r.status){var t=new Int8Array(r.response);i.writeChunk(t,e)}else window.parent.parentWarn("Failed to load data from"+i.url),t=new Int8Array(0);for(var n=i.chunkReader[e],o=0;o<n.length;o++)n[o](t);delete i.chunkReader[e]}}},hadChunk:function(e){return e in this.chunkMap},hasChunk:function(e){return this.chunkMap[e]},getCacheData:function(){return this.chunkMap[this.length]},updateCache:function(e){for(var t=0;t<e.length;t++){var n=e[t];this.hadChunk(n)&&(this.hasChunk(n)?this.lruUpdate(n):this.downloadChunk(n))}},wrapChunkRetrieval:function(e,t,n){this.downloadChunk(e,(function(e){n(e,t)}))},downloadChunks:function(e,t){for(var n=e.length,r=Array(n),o=0,i=function(e,i){r[i]=e,++o,o===n&&t(r)},a=0;a<n;++a)this.wrapChunkRetrieval(e[a][0],a,i)},readFromCache:function(e,t,n){var r=[],o=0,i=Math.floor(t/this.chunkSize)*this.chunkSize,a=t%this.chunkSize;for(t=this.chunkSize-a,t=t>n?n:t,this.chunkMap[i]?(a=this.chunkMap[i].subarray(a,a+t),e.set(a),this.lruUpdate(i)):this.hadChunk(i)?r.push([i,a,t,o]):(a=new Int8Array(t),e.set(a)),n-=t;0<n;)o+=t,i+=this.chunkSize,t=this.chunkSize>n?n:this.chunkSize,this.chunkMap[i]?(a=this.chunkMap[i].subarray(0,t),e.set(a,o),this.lruUpdate(i)):this.hadChunk(i)?r.push([i,0,t,o]):(a=new Int8Array(t),e.set(a,o)),n-=t;return r},writeChunk:function(e,t,n){n=n||0;var r=this.chunkMap[t],o=e.length,i=this.lruList.length>=a.chunkMax&&!r;o!==this.chunkSize||e.buffer.byteLength!==o?(i?(r=this.lruList.shift(),i=this.chunkMap[r],i.length<this.chunkSize&&(i=new Int8Array(this.chunkSize)),this.chunkMap[r]=null):i=r?this.chunkMap[t]:new Int8Array(this.chunkSize),i.subarray(n,n+o).set(e),e=i):i&&(r=this.lruList.shift(),this.chunkMap[r]=null),this.lruUpdate(t),this.chunkMap[t]=e}};var f=function(e){this.chunkStorage=e,this.position=0,this.length=this.chunkStorage.length};f.prototype={read:function(e,t,n,r){var i=r+n<=this.length,a=i?n:this.length-r,s=o.AsyncFSHack.readingCounter.toString();if(0<a){c(s);var l=e.subarray(t,t+a),h=this.chunkStorage.readFromCache(l,r,a);h.length?(o.AsyncFSHack.readCalls[s].needCallback=!0,this.chunkStorage.downloadChunks(h,(function(e){for(var t=0;t<e.length;++t){var n=h[t],r=e[t].subarray(n[1],n[1]+n[2]);l.set(r,n[3])}u(s)}))):i&&u(s),r+=a}else a=0;if(!i){if(c(s),t+=a,n-=a){i=this.chunkStorage.getCacheData(),n>i.length&&(n=i.length);var f=r-this.length;n-=f,e=e.subarray(t,t+n),t=i.subarray(f,f+n),e.set(t)}h&&h.length||u(s),r+=n,a+=n}return this.position=r,a},write:function(e,t,n,r){var o=r+n<=this.length,i=r+n<=this.length?n:this.length-r;if(0<i){var a=e.subarray(t,t+i),s=r%1048576;this.chunkStorage.writeChunk(a,r-s,s),r+=i}else i=0;return o||(a=t+i,(n-=i)&&(t=this.chunkStorage.getCacheData(),n>t.length&&(n=t.length),o=r-this.length,n-=o,a=e.subarray(a,a+n),t.subarray(o,o+n).set(a)),r+=n,i+=n),this.position=r,i},seek:function(e){this.position=e},close:function(){this.chunkStorage=null},getPos:function(){return this.position},getTotalSize:function(){return this.length+this.chunkStorage.cacheDataSize}};var d=function(e){this.file=e,this.filePosition=0,this.fileLength=e.size,this.readerPool=[]};d.prototype={readFromFile:function(e,t,n){var r=this.readerPool.length?this.readerPool.pop():new FileReader,o=this;r.onload=function(){var e=new Int8Array(r.result);o.readerPool.push(r),n(e)},r.readAsArrayBuffer(this.file.slice(t,t+e))},read:function(e,t,n,r){if(n=r+n<=this.fileLength?n:this.fileLength-r,0<n){var i=o.AsyncFSHack.readingCounter.toString();c(i);var a=e.subarray(t,t+n);o.AsyncFSHack.readCalls[i].needCallback=!0,this.readFromFile(n,r,(function(e){a.set(e),u(i)})),this.filePosition=r+n}return n},seek:function(e){this.filePosition=e},close:function(){this.reader=this.file=null},getPos:function(){return this.filePosition},getTotalSize:function(){return this.fileLength}};var p={open:function(e){var t=e.path.slice(1);e.provider=a.docs[t].chunkStorage?new f(a.docs[t].chunkStorage):new d(a.docs[t])},close:function(e){e.provider.close()},read:function(e,t,n,r,o){return e.provider.read(t,n,r,o)},llseek:function(t,n,r){if(t=t.provider,1===r?n+=t.getPos():2===r&&(n=t.getTotalSize()+n),0>n)throw new o.FS.ErrnoError(e.ERRNO_CODES.EINVAL);return t.seek(n),n},write:function(e,t,n,r,o){return r?e.provider.write(t,n,r,o):0}},y=function(e){if(!l[e]){var t=o.FS.makedev(3,5);o.FS.registerDevice(t,p),o.FS.mkdev(e,511,t),l[e]=!0}},v=function(e,t,n,r){var o="docdev"+ ++s;y(o);var i=Math.ceil((t+1048576-1)/1048576/8),l=new Int8Array(new ArrayBuffer(i));return e=new h(e,t,i,l,n,r),a.docs[o]={chunkStorage:e},o},b=function(e){var t="docdev"+ ++s;return y(t),a.docs[t]=e,t},S=function(e){o.FS.unlink(e),a.docs[e]&&delete a.docs[e]},_=function(e){var t=Object.prototype.toString.call(e);return"object"===typeof e&&null!==e&&("[object File]"===t||"[object Blob]"===t)}}).call(this,n(3))},function(e,t,n){e.exports=n(2)},function(e,t,n){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.r(t);var o,i=n(0),a=window;a.Module.onRuntimeInitialized=function(){l=!0,u||(s.handleMessage({action:"workerLoaded",data:{}}),u=!0),s.sendTestResponse(),a.PThread.receiveObjectTransfer=function(){var e=a.Module.GetNextResponseMessage();a.getThreadedWasmWorker().handleMessage(e),a.Module.PopNextResponseMessage()}},a.Module.locateFile=function(e){return o+e},a.Module.INITIAL_MEMORY=100663296;var s,l=!1,c=!1,u=!1,h=1,f=function e(t){if("object"===r(t)&&null!==t)if("undefined"!==typeof t.byteLength){var n="mainThreadArrayBuffer".concat(h);h++,t=new Uint8Array(t),a.FS.writeFile(n,t),t={handle:n,isArrayBufferRef:!0}}else for(n in t)t.hasOwnProperty(n)&&(t[n]=e(t[n]));return t},d=function e(t){if("object"===r(t)&&null!==t)if(t.isArrayBufferRef){var n=a.FS.readFile(t.handle,{encoding:"binary"});a.FS.unlink(t.handle),t=n.buffer}else if(t.constructor===Uint8Array)t=new Uint8Array(t).buffer;else for(n in t)t.hasOwnProperty(n)&&(t[n]=e(t[n]));return t},p=0,y={},v={},b={},S={},_=function(e){var t=e.action,n=e.data,r=e.callbackId;if("NewDoc"===t&&n)t=n.value,"url"===n.type?(t=Object(i.b)(t.url,t.size,t.customHeaders,t.withCredentials),v[r]=t,n.value.docDevId=t):Object(i.d)(t)&&(t=Object(i.a)(t),v[r]=t,n.value=t);else if("SaveDoc"!==t&&"SaveDocFromFixedElements"!==t||!n)"GetCanvas"===t&&n?(r=n.docId,r in S&&(t=S[r],t in a.Module.docs&&(t=a.Module.docs[t],"chunkStorage"in t&&(n=a.Module.GetRequiredChunkOffsetArray(r,n.pageIndex+1),n.length&&t.chunkStorage.updateCache(n))))):"DeleteDocument"===t&&n&&(n=n.docId,n in S&&(b[r]=n));else{t=n.docId;var o=n.finishedWithDocument,s="docFilePath".concat(p);y[r]={filePath:s,docId:t,finishedWithDocument:o},p++,n.filePath=s}a.Module.HandleMessage(f(e))};a.MainThreadLabel=!0,a.getThreadedWasmWorker=function(){return s};var g=function(e){window.parent.loadThreadedBackend(e,{"Wasm.wasm":1e7,"Wasm.js":15e4},window),this.eventListeners=[]};g.prototype={addEventListener:function(e,t){if("message"!==e)throw Error("event type ".concat(e," is not supported by WasmWorker."));this.eventListeners.push(t)},removeEventListener:function(e,t){"message"===e&&(this.eventListeners=this.eventListeners.filter((function(e){return e!==t})))},sendTestResponse:function(){l&&c&&(this.handleMessage({action:"test",data:{supportTypedArray:!0,supportTransfers:!0}}),this.postMessage=_)},postMessage:function(e){if("test"!==e.action)throw Error("Need to do handshake first!");c=!0,this.sendTestResponse()},handleMessage:function(e){var t=e.callbackId,n=e.data;if(t in v)n&&n.docId?S[n.docId]=v[t]:Object(i.c)(v[t]),delete v[t];else if(t in y){if(!e.hasOwnProperty("error")){var r=y[t].filePath,o=a.FS.readFile(r,{encoding:"binary"});n.fileData=o.buffer,n=y[t].docId,n in S&&(Object(i.c)(S[n]),delete S[n]),n&&!y[t].finishedWithDocument?S[n]=r:a.FS.unlink(r)}delete y[t]}else t in b&&(r=b[t],r in S&&(Object(i.c)(S[r]),delete S[r]),delete b[t]);e=d(e),window.parent.postMessage(e)},reset:function(){s=null,u=c=l=!1}};var k=function(){var e={},t=new Promise((function(t,n){e.resolve=t,e.reject=n}));return e.promise=t,e}(),w=function e(t){"object"===r(t.data)&&"action"in t.data&&"workerLoaded"===t.data.action&&(k.resolve(s),s.removeEventListener("message",e))};window.addEventListener("message",(function(e){e=e.data,"loadWasmWorker"===e.action?(o=e.workerFolder,s=new g("".concat(e.wasmSource,"PDFNetThreaded")),u||s.addEventListener("message",w)):s.postMessage(e)})),a.getWasmWorkerPromise=function(){return k.promise}},function(e,t){t=function(){return this}();try{t=t||new Function("return this")()}catch(n){"object"===typeof window&&(t=window)}e.exports=t},function(e,t){window.Module={chunkMax:100,docs:{}}}])}).call(this||window);