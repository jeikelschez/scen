(function(){var e=e||{};e.scope={},e.arrayIteratorImpl=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}},e.arrayIterator=function(t){return{next:e.arrayIteratorImpl(t)}},e.ASSUME_ES5=!1,e.ASSUME_NO_NATIVE_MAP=!1,e.ASSUME_NO_NATIVE_SET=!1,e.SIMPLE_FROUND_POLYFILL=!1,e.ISOLATE_POLYFILLS=!1,e.FORCE_POLYFILL_PROMISE=!1,e.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,e.defineProperty=e.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,o){return e==Array.prototype||e==Object.prototype||(e[t]=o.value),e},e.getGlobal=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var t=0;t<e.length;++t){var o=e[t];if(o&&o.Math==Math)return o}throw Error("Cannot find global object")},e.global=e.getGlobal(this),e.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x"),e.TRUST_ES6_POLYFILLS=!e.ISOLATE_POLYFILLS||e.IS_SYMBOL_NATIVE,e.polyfills={},e.propertyToPolyfillSymbol={},e.POLYFILL_PREFIX="$jscp$";e.polyfill=function(t,o,n,r){o&&(e.ISOLATE_POLYFILLS?e.polyfillIsolated(t,o,n,r):e.polyfillUnisolated(t,o,n,r))},e.polyfillUnisolated=function(t,o,n,r){for(n=e.global,t=t.split("."),r=0;r<t.length-1;r++){var a=t[r];if(!(a in n))return;n=n[a]}t=t[t.length-1],r=n[t],o=o(r),o!=r&&null!=o&&e.defineProperty(n,t,{configurable:!0,writable:!0,value:o})},e.polyfillIsolated=function(t,o,n,r){var a=t.split(".");t=1===a.length,r=a[0],r=!t&&r in e.polyfills?e.polyfills:e.global;for(var i=0;i<a.length-1;i++){var u=a[i];if(!(u in r))return;r=r[u]}a=a[a.length-1],n=e.IS_SYMBOL_NATIVE&&"es6"===n?r[a]:null,o=o(n),null!=o&&(t?e.defineProperty(e.polyfills,a,{configurable:!0,writable:!0,value:o}):o!==n&&(void 0===e.propertyToPolyfillSymbol[a]&&(n=1e9*Math.random()>>>0,e.propertyToPolyfillSymbol[a]=e.IS_SYMBOL_NATIVE?e.global.Symbol(a):e.POLYFILL_PREFIX+n+"$"+a),e.defineProperty(r,e.propertyToPolyfillSymbol[a],{configurable:!0,writable:!0,value:o})))},e.initSymbol=function(){},e.polyfill("Symbol",(function(t){if(t)return t;var o=function(t,o){this.$jscomp$symbol$id_=t,e.defineProperty(this,"description",{configurable:!0,writable:!0,value:o})};o.prototype.toString=function(){return this.$jscomp$symbol$id_};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",r=0,a=function(e){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new o(n+(e||"")+"_"+r++,e)};return a}),"es6","es3"),e.polyfill("Symbol.iterator",(function(t){if(t)return t;t=Symbol("Symbol.iterator");for(var o="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<o.length;n++){var r=e.global[o[n]];"function"===typeof r&&"function"!=typeof r.prototype[t]&&e.defineProperty(r.prototype,t,{configurable:!0,writable:!0,value:function(){return e.iteratorPrototype(e.arrayIteratorImpl(this))}})}return t}),"es6","es3"),e.iteratorPrototype=function(e){return e={next:e},e[Symbol.iterator]=function(){return this},e},e.underscoreProtoCanBeSet=function(){var e={a:!0},t={};try{return t.__proto__=e,t.a}catch(o){}return!1},e.setPrototypeOf=e.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:e.underscoreProtoCanBeSet()?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null,e.makeIterator=function(t){var o="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return o?o.call(t):e.arrayIterator(t)},e.generator={},e.generator.ensureIteratorResultIsObject_=function(e){if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object")},e.generator.Context=function(){this.isRunning_=!1,this.yieldAllIterator_=null,this.yieldResult=void 0,this.nextAddress=1,this.finallyAddress_=this.catchAddress_=0,this.finallyContexts_=this.abruptCompletion_=null},e.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0},e.generator.Context.prototype.stop_=function(){this.isRunning_=!1},e.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_},e.generator.Context.prototype.next_=function(e){this.yieldResult=e},e.generator.Context.prototype.throw_=function(e){this.abruptCompletion_={exception:e,isException:!0},this.jumpToErrorHandler_()},e.generator.Context.prototype.return=function(e){this.abruptCompletion_={return:e},this.nextAddress=this.finallyAddress_},e.generator.Context.prototype.jumpThroughFinallyBlocks=function(e){this.abruptCompletion_={jumpTo:e},this.nextAddress=this.finallyAddress_},e.generator.Context.prototype.yield=function(e,t){return this.nextAddress=t,{value:e}},e.generator.Context.prototype.yieldAll=function(t,o){t=e.makeIterator(t);var n=t.next();if(e.generator.ensureIteratorResultIsObject_(n),!n.done)return this.yieldAllIterator_=t,this.yield(n.value,o);this.yieldResult=n.value,this.nextAddress=o},e.generator.Context.prototype.jumpTo=function(e){this.nextAddress=e},e.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0},e.generator.Context.prototype.setCatchFinallyBlocks=function(e,t){this.catchAddress_=e,void 0!=t&&(this.finallyAddress_=t)},e.generator.Context.prototype.setFinallyBlock=function(e){this.catchAddress_=0,this.finallyAddress_=e||0},e.generator.Context.prototype.leaveTryBlock=function(e,t){this.nextAddress=e,this.catchAddress_=t||0},e.generator.Context.prototype.enterCatchBlock=function(e){return this.catchAddress_=e||0,e=this.abruptCompletion_.exception,this.abruptCompletion_=null,e},e.generator.Context.prototype.enterFinallyBlock=function(e,t,o){o?this.finallyContexts_[o]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_],this.catchAddress_=e||0,this.finallyAddress_=t||0},e.generator.Context.prototype.leaveFinallyBlock=function(e,t){if(t=this.finallyContexts_.splice(t||0)[0],t=this.abruptCompletion_=this.abruptCompletion_||t){if(t.isException)return this.jumpToErrorHandler_();void 0!=t.jumpTo&&this.finallyAddress_<t.jumpTo?(this.nextAddress=t.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=e},e.generator.Context.prototype.forIn=function(t){return new e.generator.Context.PropertyIterator(t)},e.generator.Context.PropertyIterator=function(e){for(var t in this.object_=e,this.properties_=[],e)this.properties_.push(t);this.properties_.reverse()},e.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var e=this.properties_.pop();if(e in this.object_)return e}return null},e.generator.Engine_=function(t){this.context_=new e.generator.Context,this.program_=t},e.generator.Engine_.prototype.next_=function(e){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.next,e,this.context_.next_):(this.context_.next_(e),this.nextStep_())},e.generator.Engine_.prototype.return_=function(e){this.context_.start_();var t=this.context_.yieldAllIterator_;return t?this.yieldAllStep_("return"in t?t["return"]:function(e){return{value:e,done:!0}},e,this.context_.return):(this.context_.return(e),this.nextStep_())},e.generator.Engine_.prototype.throw_=function(e){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],e,this.context_.next_):(this.context_.throw_(e),this.nextStep_())},e.generator.Engine_.prototype.yieldAllStep_=function(t,o,n){try{var r=t.call(this.context_.yieldAllIterator_,o);if(e.generator.ensureIteratorResultIsObject_(r),!r.done)return this.context_.stop_(),r;var a=r.value}catch(i){return this.context_.yieldAllIterator_=null,this.context_.throw_(i),this.nextStep_()}return this.context_.yieldAllIterator_=null,n.call(this.context_,a),this.nextStep_()},e.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var e=this.program_(this.context_);if(e)return this.context_.stop_(),{value:e.value,done:!1}}catch(t){this.context_.yieldResult=void 0,this.context_.throw_(t)}if(this.context_.stop_(),this.context_.abruptCompletion_){if(e=this.context_.abruptCompletion_,this.context_.abruptCompletion_=null,e.isException)throw e.exception;return{value:e.return,done:!0}}return{value:void 0,done:!0}},e.generator.Generator_=function(e){this.next=function(t){return e.next_(t)},this.throw=function(t){return e.throw_(t)},this.return=function(t){return e.return_(t)},this[Symbol.iterator]=function(){return this}},e.generator.createGenerator=function(t,o){return o=new e.generator.Generator_(new e.generator.Engine_(o)),e.setPrototypeOf&&t.prototype&&e.setPrototypeOf(o,t.prototype),o},e.asyncExecutePromiseGenerator=function(e){function t(t){return e.next(t)}function o(t){return e.throw(t)}return new Promise((function(n,r){function a(e){e.done?n(e.value):Promise.resolve(e.value).then(t,o).then(a,r)}a(e.next())}))},e.asyncExecutePromiseGeneratorFunction=function(t){return e.asyncExecutePromiseGenerator(t())},e.asyncExecutePromiseGeneratorProgram=function(t){return e.asyncExecutePromiseGenerator(new e.generator.Generator_(new e.generator.Engine_(t)))},e.polyfill("Promise",(function(t){function o(){this.batch_=null}function n(e){return e instanceof a?e:new a((function(t,o){t(e)}))}if(t&&(!(e.FORCE_POLYFILL_PROMISE||e.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION&&"undefined"===typeof e.global.PromiseRejectionEvent)||!e.global.Promise||-1===e.global.Promise.toString().indexOf("[native code]")))return t;o.prototype.asyncExecute=function(e){if(null==this.batch_){this.batch_=[];var t=this;this.asyncExecuteFunction((function(){t.executeBatch_()}))}this.batch_.push(e)};var r=e.global.setTimeout;o.prototype.asyncExecuteFunction=function(e){r(e,0)},o.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var e=this.batch_;this.batch_=[];for(var t=0;t<e.length;++t){var o=e[t];e[t]=null;try{o()}catch(n){this.asyncThrow_(n)}}}this.batch_=null},o.prototype.asyncThrow_=function(e){this.asyncExecuteFunction((function(){throw e}))};var a=function(e){this.state_=0,this.result_=void 0,this.onSettledCallbacks_=[],this.isRejectionHandled_=!1;var t=this.createResolveAndReject_();try{e(t.resolve,t.reject)}catch(o){t.reject(o)}};a.prototype.createResolveAndReject_=function(){function e(e){return function(n){o||(o=!0,e.call(t,n))}}var t=this,o=!1;return{resolve:e(this.resolveTo_),reject:e(this.reject_)}},a.prototype.resolveTo_=function(e){if(e===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof a)this.settleSameAsPromise_(e);else{e:switch(typeof e){case"object":var t=null!=e;break e;case"function":t=!0;break e;default:t=!1}t?this.resolveToNonPromiseObj_(e):this.fulfill_(e)}},a.prototype.resolveToNonPromiseObj_=function(e){var t=void 0;try{t=e.then}catch(o){return void this.reject_(o)}"function"==typeof t?this.settleSameAsThenable_(t,e):this.fulfill_(e)},a.prototype.reject_=function(e){this.settle_(2,e)},a.prototype.fulfill_=function(e){this.settle_(1,e)},a.prototype.settle_=function(e,t){if(0!=this.state_)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.state_);this.state_=e,this.result_=t,2===this.state_&&this.scheduleUnhandledRejectionCheck_(),this.executeOnSettledCallbacks_()},a.prototype.scheduleUnhandledRejectionCheck_=function(){var t=this;r((function(){if(t.notifyUnhandledRejection_()){var o=e.global.console;"undefined"!==typeof o&&o.error(t.result_)}}),1)},a.prototype.notifyUnhandledRejection_=function(){if(this.isRejectionHandled_)return!1;var t=e.global.CustomEvent,o=e.global.Event,n=e.global.dispatchEvent;return"undefined"===typeof n||("function"===typeof t?t=new t("unhandledrejection",{cancelable:!0}):"function"===typeof o?t=new o("unhandledrejection",{cancelable:!0}):(t=e.global.document.createEvent("CustomEvent"),t.initCustomEvent("unhandledrejection",!1,!0,t)),t.promise=this,t.reason=this.result_,n(t))},a.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var e=0;e<this.onSettledCallbacks_.length;++e)i.asyncExecute(this.onSettledCallbacks_[e]);this.onSettledCallbacks_=null}};var i=new o;return a.prototype.settleSameAsPromise_=function(e){var t=this.createResolveAndReject_();e.callWhenSettled_(t.resolve,t.reject)},a.prototype.settleSameAsThenable_=function(e,t){var o=this.createResolveAndReject_();try{e.call(t,o.resolve,o.reject)}catch(n){o.reject(n)}},a.prototype.then=function(e,t){function o(e,t){return"function"==typeof e?function(t){try{n(e(t))}catch(o){r(o)}}:t}var n,r,i=new a((function(e,t){n=e,r=t}));return this.callWhenSettled_(o(e,n),o(t,r)),i},a.prototype.catch=function(e){return this.then(void 0,e)},a.prototype.callWhenSettled_=function(e,t){function o(){switch(n.state_){case 1:e(n.result_);break;case 2:t(n.result_);break;default:throw Error("Unexpected state: "+n.state_)}}var n=this;null==this.onSettledCallbacks_?i.asyncExecute(o):this.onSettledCallbacks_.push(o),this.isRejectionHandled_=!0},a.resolve=n,a.reject=function(e){return new a((function(t,o){o(e)}))},a.race=function(t){return new a((function(o,r){for(var a=e.makeIterator(t),i=a.next();!i.done;i=a.next())n(i.value).callWhenSettled_(o,r)}))},a.all=function(t){var o=e.makeIterator(t),r=o.next();return r.done?n([]):new a((function(e,t){function a(t){return function(o){i[t]=o,u--,0==u&&e(i)}}var i=[],u=0;do{i.push(void 0),u++,n(r.value).callWhenSettled_(a(i.length-1),t),r=o.next()}while(!r.done)}))},a}),"es6","es3"),e.checkEs6ConformanceViaProxy=function(){try{var t={},o=Object.create(new e.global.Proxy(t,{get:function(e,n,r){return e==t&&"q"==n&&r==o}}));return!0===o.q}catch(n){return!1}},e.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1,e.ES6_CONFORMANCE=e.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&e.checkEs6ConformanceViaProxy(),e.owns=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.polyfill("WeakMap",(function(t){function o(){if(!t||!Object.seal)return!1;try{var e=Object.seal({}),o=Object.seal({}),n=new t([[e,2],[o,3]]);return 2==n.get(e)&&3==n.get(o)&&(n.delete(e),n.set(o,4),!n.has(e)&&4==n.get(o))}catch(r){return!1}}function n(){}function r(e){var t=typeof e;return"object"===t&&null!==e||"function"===t}function a(t){if(!e.owns(t,u)){var o=new n;e.defineProperty(t,u,{value:o})}}function i(t){if(!e.ISOLATE_POLYFILLS){var o=Object[t];o&&(Object[t]=function(e){return e instanceof n?e:(Object.isExtensible(e)&&a(e),o(e))})}}if(e.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(t&&e.ES6_CONFORMANCE)return t}else if(o())return t;var u="$jscomp_hidden_"+Math.random();i("freeze"),i("preventExtensions"),i("seal");var l=0,s=function(t){if(this.id_=(l+=Math.random()+1).toString(),t){t=e.makeIterator(t);for(var o;!(o=t.next()).done;)o=o.value,this.set(o[0],o[1])}};return s.prototype.set=function(t,o){if(!r(t))throw Error("Invalid WeakMap key");if(a(t),!e.owns(t,u))throw Error("WeakMap key fail: "+t);return t[u][this.id_]=o,this},s.prototype.get=function(t){return r(t)&&e.owns(t,u)?t[u][this.id_]:void 0},s.prototype.has=function(t){return r(t)&&e.owns(t,u)&&e.owns(t[u],this.id_)},s.prototype.delete=function(t){return!!(r(t)&&e.owns(t,u)&&e.owns(t[u],this.id_))&&delete t[u][this.id_]},s}),"es6","es3"),e.MapEntry=function(){},e.polyfill("Map",(function(t){function o(){if(e.ASSUME_NO_NATIVE_MAP||!t||"function"!=typeof t||!t.prototype.entries||"function"!=typeof Object.seal)return!1;try{var o=Object.seal({x:4}),n=new t(e.makeIterator([[o,"s"]]));if("s"!=n.get(o)||1!=n.size||n.get({x:4})||n.set({x:4},"t")!=n||2!=n.size)return!1;var r=n.entries(),a=r.next();return!a.done&&a.value[0]==o&&"s"==a.value[1]&&(a=r.next(),!(a.done||4!=a.value[0].x||"t"!=a.value[1]||!r.next().done))}catch(i){return!1}}if(e.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(t&&e.ES6_CONFORMANCE)return t}else if(o())return t;var n=new WeakMap,r=function(t){if(this.data_={},this.head_=u(),this.size=0,t){t=e.makeIterator(t);for(var o;!(o=t.next()).done;)o=o.value,this.set(o[0],o[1])}};r.prototype.set=function(e,t){e=0===e?0:e;var o=a(this,e);return o.list||(o.list=this.data_[o.id]=[]),o.entry?o.entry.value=t:(o.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:e,value:t},o.list.push(o.entry),this.head_.previous.next=o.entry,this.head_.previous=o.entry,this.size++),this},r.prototype.delete=function(e){return e=a(this,e),!(!e.entry||!e.list)&&(e.list.splice(e.index,1),e.list.length||delete this.data_[e.id],e.entry.previous.next=e.entry.next,e.entry.next.previous=e.entry.previous,e.entry.head=null,this.size--,!0)},r.prototype.clear=function(){this.data_={},this.head_=this.head_.previous=u(),this.size=0},r.prototype.has=function(e){return!!a(this,e).entry},r.prototype.get=function(e){return(e=a(this,e).entry)&&e.value},r.prototype.entries=function(){return i(this,(function(e){return[e.key,e.value]}))},r.prototype.keys=function(){return i(this,(function(e){return e.key}))},r.prototype.values=function(){return i(this,(function(e){return e.value}))},r.prototype.forEach=function(e,t){for(var o,n=this.entries();!(o=n.next()).done;)o=o.value,e.call(t,o[1],o[0],this)},r.prototype[Symbol.iterator]=r.prototype.entries;var a=function(t,o){var r=o&&typeof o;"object"==r||"function"==r?n.has(o)?r=n.get(o):(r=""+ ++l,n.set(o,r)):r="p_"+o;var a=t.data_[r];if(a&&e.owns(t.data_,r))for(t=0;t<a.length;t++){var i=a[t];if(o!==o&&i.key!==i.key||o===i.key)return{id:r,list:a,index:t,entry:i}}return{id:r,list:a,index:-1,entry:void 0}},i=function(t,o){var n=t.head_;return e.iteratorPrototype((function(){if(n){for(;n.head!=t.head_;)n=n.previous;for(;n.next!=n.head;)return n=n.next,{done:!1,value:o(n)};n=null}return{done:!0,value:void 0}}))},u=function(){var e={};return e.previous=e.next=e.head=e},l=0;return r}),"es6","es3"),e.checkStringArgs=function(e,t,o){if(null==e)throw new TypeError("The 'this' value for String.prototype."+o+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+o+" must not be a regular expression");return e+""},e.polyfill("String.prototype.endsWith",(function(t){return t||function(t,o){var n=e.checkStringArgs(this,t,"endsWith");t+="",void 0===o&&(o=n.length),o=Math.max(0,Math.min(0|o,n.length));for(var r=t.length;0<r&&0<o;)if(n[--o]!=t[--r])return!1;return 0>=r}}),"es6","es3"),e.findInternal=function(e,t,o){e instanceof String&&(e=String(e));for(var n=e.length,r=0;r<n;r++){var a=e[r];if(t.call(o,a,r,e))return{i:r,v:a}}return{i:-1,v:void 0}},e.polyfill("Array.prototype.find",(function(t){return t||function(t,o){return e.findInternal(this,t,o).v}}),"es6","es3"),e.assign=e.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(t,o){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var a in r)e.owns(r,a)&&(t[a]=r[a])}return t},e.polyfill("Set",(function(t){function o(){if(e.ASSUME_NO_NATIVE_SET||!t||"function"!=typeof t||!t.prototype.entries||"function"!=typeof Object.seal)return!1;try{var o=Object.seal({x:4}),n=new t(e.makeIterator([o]));if(!n.has(o)||1!=n.size||n.add(o)!=n||1!=n.size||n.add({x:4})!=n||2!=n.size)return!1;var r=n.entries(),a=r.next();return!a.done&&a.value[0]==o&&a.value[1]==o&&(a=r.next(),!a.done&&a.value[0]!=o&&4==a.value[0].x&&a.value[1]==a.value[0]&&r.next().done)}catch(i){return!1}}if(e.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(t&&e.ES6_CONFORMANCE)return t}else if(o())return t;var n=function(t){if(this.map_=new Map,t){t=e.makeIterator(t);for(var o;!(o=t.next()).done;)this.add(o.value)}this.size=this.map_.size};return n.prototype.add=function(e){return e=0===e?0:e,this.map_.set(e,e),this.size=this.map_.size,this},n.prototype.delete=function(e){return e=this.map_.delete(e),this.size=this.map_.size,e},n.prototype.clear=function(){this.map_.clear(),this.size=0},n.prototype.has=function(e){return this.map_.has(e)},n.prototype.entries=function(){return this.map_.entries()},n.prototype.values=function(){return this.map_.values()},n.prototype.keys=n.prototype.values,n.prototype[Symbol.iterator]=n.prototype.values,n.prototype.forEach=function(e,t){var o=this;this.map_.forEach((function(n){return e.call(t,n,n,o)}))},n}),"es6","es3"),e.iteratorFromArray=function(e,t){e instanceof String&&(e+="");var o=0,n=!1,r={next:function(){if(!n&&o<e.length){var r=o++;return{value:t(r,e[r]),done:!1}}return n=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r},e.polyfill("Array.prototype.keys",(function(t){return t||function(){return e.iteratorFromArray(this,(function(e){return e}))}}),"es6","es3"),function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var o={};t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:n})},t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,o){if(1&o&&(e=t(e)),8&o||4&o&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var r in e)t.d(n,r,function(t){return e[t]}.bind(null,r));return n},t.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/core/pdf/",t(t.s=22)}([function(e,t,o){o.d(t,"d",(function(){return i})),o.d(t,"e",(function(){return r})),o.d(t,"c",(function(){return u})),o.d(t,"a",(function(){return l})),o.d(t,"b",(function(){return a}));var n=o(3),r=function(e,t){Object(n.a)("disableLogs")||(t?console.warn(e+": "+t):console.warn(e))},a=function(e,t,o,n){void 0===n&&(n=!1);var a=o.pop();o=o.length?o.join(", ")+" and "+a:a,r(n?"'"+t+"' will be deprecated in version "+e+". Please use "+o+" instead.":"'"+t+"' is deprecated since version "+e+". Please use "+o+" instead.")},i=function(e,t){Object(n.a)("disableLogs")||(t?console.log(e+": "+t):console.log(e))},u=function(e){if(!Object(n.a)("disableLogs"))throw console.error(e),Error(e)},l=function(e,t){}},function(e,t,o){o.d(t,"c",(function(){return l})),o.d(t,"a",(function(){return s})),o.d(t,"b",(function(){return c})),o.d(t,"d",(function(){return d}));var n=o(17),r=console.log,a=console.warn,i=console.error,u=function(e){void 0===e&&(e=!0),e?(console.log=function(){},console.warn=function(){},console.error=function(){}):(console.log=r,console.warn=a,console.error=i)},l=function(){var e=Object(n.a)(location.search);u("1"===e.disableLogs)},s=function(e){e.on("disableLogs",(function(e){u(e.disabled)}))},c=function(e,t){return function(){}},d=function(e,t){t?console.warn(e+": "+t):console.warn(e)}},function(e,t,o){o.d(t,"g",(function(){return i})),o.d(t,"c",(function(){return u})),o.d(t,"h",(function(){return c})),o.d(t,"d",(function(){return d})),o.d(t,"f",(function(){return r})),o.d(t,"b",(function(){return a})),o.d(t,"i",(function(){return f})),o.d(t,"j",(function(){return M})),o.d(t,"e",(function(){return g})),o.d(t,"a",(function(){return y})),o(0);var n="undefined"===typeof window?self:window;e=function(){var e=navigator.userAgent.toLowerCase();return(e=/(msie) ([\w.]+)/.exec(e)||/(trident)(?:.*? rv:([\w.]+)|)/.exec(e))?parseInt(e[2],10):e}();var r=function(){var e=n.navigator.userAgent.match(/OPR/),t=n.navigator.userAgent.match(/Maxthon/),o=n.navigator.userAgent.match(/Edge/);return n.navigator.userAgent.match(/Chrome\/(.*?) /)&&!e&&!t&&!o}(),a=function(){if(!r)return null;var e=n.navigator.userAgent.match(/Chrome\/([0-9]+)\./);return e?parseInt(e[1],10):e}(),i=!!navigator.userAgent.match(/Edge/i)||navigator.userAgent.match(/Edg\/(.*?)/)&&n.navigator.userAgent.match(/Chrome\/(.*?) /),u=function(){if(!i)return null;var e=n.navigator.userAgent.match(/Edg\/([0-9]+)\./);return e?parseInt(e[1],10):e}();t=/iPad|iPhone|iPod/.test(n.navigator.platform)||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints;var l=function(){var e=n.navigator.userAgent.match(/.*\/([0-9\.]+)\s(Safari|Mobile).*/i);return e?parseFloat(e[1]):e}(),s=/^((?!chrome|android).)*safari/i.test(n.navigator.userAgent)||/^((?!chrome|android).)*$/.test(n.navigator.userAgent)&&t,c=n.navigator.userAgent.match(/Firefox/),d=function(){if(!c)return null;var e=n.navigator.userAgent.match(/Firefox\/([0-9]+)\./);return e?parseInt(e[1],10):e}(),f=!(e||!/Android|webOS|Touch|IEMobile|Silk/i.test(navigator.userAgent)&&!t);navigator.userAgent.match(/(iPad|iPhone|iPod)/i),n.navigator.userAgent.indexOf("Android");var h=/Mac OS X 10_13_6.*\(KHTML, like Gecko\)$/.test(n.navigator.userAgent),p=!!n.navigator.userAgent.match(/(iPad|iPhone).+\sOS\s((\d+)(_\d)*)/i)&&14<=parseInt(n.navigator.userAgent.match(/(iPad|iPhone).+\sOS\s((\d+)(_\d)*)/i)[3],10),M=function(){return!p&&(s&&14>l||h)},g=!(!self.WebAssembly||!self.WebAssembly.validate),y=-1<n.navigator.userAgent.indexOf("Edge/16")||-1<n.navigator.userAgent.indexOf("MSAppHost")},function(e,t,o){o.d(t,"a",(function(){return a})),o.d(t,"b",(function(){return i}));var n={},r={flattenedResources:!1,CANVAS_CACHE_SIZE:void 0,maxPagesBefore:void 0,maxPagesAhead:void 0,disableLogs:!1,wvsQueryParameters:{},_trnDebugMode:!1,_logFiltersEnabled:null},a=function(e){return r[e]},i=function(e,t){var o;r[e]=t,null===(o=n[e])||void 0===o||o.forEach((function(e){e(t)}))}},function(e,t,o){o.d(t,"a",(function(){return g})),o.d(t,"b",(function(){return C})),o.d(t,"c",(function(){return P}));var n=o(14),r=o(0),a=o(9),i=o(5),u="undefined"===typeof window?self:window,l=u.importScripts,s=!1,c=function(e,t){return s||(l(u.basePath+"decode.min.js"),s=!0),e=self.BrotliDecode(Object(i.b)(e)),t?e:Object(i.a)(e)},d=function(e,t){return Object(n.a)(void 0,void 0,Promise,(function(){var o;return Object(n.b)(this,(function(n){switch(n.label){case 0:return s?[3,2]:[4,Object(a.a)(self.Core.getWorkerPath()+"external/decode.min.js","Failed to download decode.min.js",window)];case 1:n.sent(),s=!0,n.label=2;case 2:return o=self.BrotliDecode(Object(i.b)(e)),[2,t?o:Object(i.a)(o)]}}))}))};(function(){function e(){this.remainingDataArrays=[]}e.prototype.processRaw=function(e){return e},e.prototype.processBrotli=function(e){return this.remainingDataArrays.push(e),null},e.prototype.GetNextChunk=function(e){return this.decodeFunction||(this.decodeFunction=0===e[0]&&97===e[1]&&115===e[2]&&109===e[3]?this.processRaw:this.processBrotli),this.decodeFunction(e)},e.prototype.End=function(){if(this.remainingDataArrays.length){for(var e=this.arrays,t=0,o=0;o<e.length;++o)t+=e[o].length;t=new Uint8Array(t);var n=0;for(o=0;o<e.length;++o){var r=e[o];t.set(r,n),n+=r.length}return c(t,!0)}return null}})();var f=!1,h=function(e){f||(l(u.basePath+"pako_inflate.min.js"),f=!0);var t=10;if("string"===typeof e){if(8&e.charCodeAt(3)){for(;0!==e.charCodeAt(t);++t);++t}}else if(8&e[3]){for(;0!==e[t];++t);++t}return e=Object(i.b)(e),e=e.subarray(t,e.length-8),u.pako.inflate(e,{windowBits:-15})},p=function(e,t){return t?e:Object(i.a)(e)},M=function(e){var t=!e.shouldOutputArray,o=new XMLHttpRequest;o.open("GET",e.url,e.isAsync);var n=t&&o.overrideMimeType;o.responseType=n?"text":"arraybuffer",n&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.send();var a=function(){var a=Date.now(),u=n?o.responseText:new Uint8Array(o.response);return Object(r.a)("worker","Result length is "+u.length),u.length<e.compressedMaximum?(u=e.decompressFunction(u,e.shouldOutputArray),Object(r.e)("There may be some degradation of performance. Your server has not been configured to serve .gz. and .br. files with the expected Content-Encoding. See http://www.pdftron.com/kb_content_encoding for instructions on how to resolve this."),l&&Object(r.a)("worker","Decompressed length is "+u.length)):t&&(u=Object(i.a)(u)),l&&Object(r.a)("worker",e.url+" Decompression took "+(Date.now()-a)),u};if(!e.isAsync){if(200===o.status||0===o.status)return a();throw Error("Failed to load "+e.url)}var u=new Promise((function(t,n){o.onload=function(){200===this.status||0===this.status?t(a()):n("Download Failed "+e.url)},o.onerror=function(){n("Network error occurred "+e.url)}}));return u},g=function(e){var t=e.lastIndexOf("/");-1===t&&(t=0);var o=e.slice(t).replace(".",".br.");return l||(o.endsWith(".js.mem")?o=o.replace(".js.mem",".mem"):o.endsWith(".js")&&(o=o.concat(".mem"))),e.slice(0,t)+o},y=function(e,t){var o=e.lastIndexOf("/");-1===o&&(o=0);var n=e.slice(o).replace(".",".gz.");return t.url=e.slice(0,o)+n,t.decompressFunction=h,M(t)},_=function(e,t){return t.url=g(e),t.decompressFunction=l?c:d,M(t)},m=function(e,t){return e.endsWith(".js.mem")?e=e.slice(0,-4):e.endsWith(".mem")&&(e=e.slice(0,-4)+".js.mem"),t.url=e,t.decompressFunction=p,M(t)},v=function(e,t,o,n){return e.catch((function(e){return Object(r.e)(e),n(t,o)}))},b=function(e,t,o){var n;if(o.isAsync){var a=t[0](e,o);for(n=1;n<t.length;++n)a=v(a,e,o,t[n]);return a}for(n=0;n<t.length;++n)try{return t[n](e,o)}catch(i){Object(r.e)(i.message)}throw Error("")},P=function(e,t,o,n){return b(e,[y,_,m],{compressedMaximum:t,isAsync:o,shouldOutputArray:n})},C=function(e,t,o,n){return b(e,[_,y,m],{compressedMaximum:t,isAsync:o,shouldOutputArray:n})}},function(e,t,o){o.d(t,"b",(function(){return n})),o.d(t,"a",(function(){return r}));var n=function(e){if("string"===typeof e){for(var t=new Uint8Array(e.length),o=e.length,n=0;n<o;n++)t[n]=e.charCodeAt(n);return t}return e},r=function(e){if("string"!==typeof e){for(var t,o="",n=0,r=e.length;n<r;)t=e.subarray(n,n+1024),n+=1024,o+=String.fromCharCode.apply(null,t);return o}return e}},function(e,t,o){o.d(t,"a",(function(){return n})),o.d(t,"d",(function(){return r})),o.d(t,"b",(function(){return a})),o.d(t,"c",(function(){return i}));var n="asm",r="ems",a="jsworker",i="wasm-threads"},function(e,t,o){function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var r,a,i;!function(o){"object"===n(t)&&"undefined"!==typeof e?e.exports=o():(a=[],r=o,i="function"===typeof r?r.apply(t,a):r,void 0===i||(e.exports=i))}((function(){return function e(t,o,n){function r(i,u){if(!o[i]){if(!t[i]){if(a)return a(i,!0);throw u=Error("Cannot find module '".concat(i,"'")),u.code="MODULE_NOT_FOUND",u}u=o[i]={exports:{}},t[i][0].call(u.exports,(function(e){return r(t[i][1][e]||e)}),u,u.exports,e,t,o,n)}return o[i].exports}for(var a=!1,i=0;i<n.length;i++)r(n[i]);return r}({1:[function(e,t,o){var n={}.hasOwnProperty,r=function(e,t){function o(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e};o=e("./PriorityQueue/AbstractPriorityQueue"),e=e("./PriorityQueue/ArrayStrategy"),o=function(e){function t(e){e||(e={}),e.strategy||(e.strategy=BinaryHeapStrategy),e.comparator||(e.comparator=function(e,t){return(e||0)-(t||0)}),t.__super__.constructor.call(this,e)}return r(t,e),t}(o),o.ArrayStrategy=e,t.exports=o},{"./PriorityQueue/AbstractPriorityQueue":2,"./PriorityQueue/ArrayStrategy":3}],2:[function(e,t,o){t.exports=function(){function e(e){if(null==(null!=e?e.strategy:void 0))throw"Must pass options.strategy, a strategy";if(null==(null!=e?e.comparator:void 0))throw"Must pass options.comparator, a comparator";this.priv=new e.strategy(e),this.length=0}return e.prototype.queue=function(e){this.length++,this.priv.queue(e)},e.prototype.dequeue=function(e){if(!this.length)throw"Empty queue";return this.length--,this.priv.dequeue()},e.prototype.peek=function(e){if(!this.length)throw"Empty queue";return this.priv.peek()},e.prototype.remove=function(e){this.priv.remove(e)&&--this.length},e.prototype.find=function(e){return 0<=this.priv.find(e)},e.prototype.removeAllMatching=function(e,t){e=this.priv.removeAllMatching(e,t),this.length-=e},e}()},{}],3:[function(e,t,o){var n=function(e,t,o){var n,r=0;for(n=e.length;r<n;){var a=r+n>>>1;0<=o(e[a],t)?r=a+1:n=a}return r};t.exports=function(){function e(e){var t;this.options=e,this.comparator=this.options.comparator,this.data=(null!=(t=this.options.initialValues)?t.slice(0):void 0)||[],this.data.sort(this.comparator).reverse()}return e.prototype.queue=function(e){var t=n(this.data,e,this.comparator);this.data.splice(t,0,e)},e.prototype.dequeue=function(){return this.data.pop()},e.prototype.peek=function(){return this.data[this.data.length-1]},e.prototype.find=function(e){var t=n(this.data,e,this.comparator)-1;return 0<=t&&!this.comparator(this.data[t],e)?t:-1},e.prototype.remove=function(e){return e=this.find(e),0<=e&&(this.data.splice(e,1),!0)},e.prototype.removeAllMatching=function(e,t){for(var o=0,n=this.data.length-1;0<=n;--n)if(e(this.data[n])){var r=this.data.splice(n,1)[0];t&&t(r),++o}return o},e}()},{}]},{},[1])(1)}))},function(e,t,o){(function(e){function n(e,t){this._id=e,this._clearFn=t}var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,a=Function.prototype.apply;t.setTimeout=function(){return new n(a.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new n(a.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},o(26),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,o(12))},function(e,t,o){function n(e,t,o){return new Promise((function(n){if(!e)return n();var a=o.document.createElement("script");a.type="text/javascript",a.onload=function(){n()},a.onerror=function(){t&&Object(r.e)(t),n()},a.src=e,o.document.getElementsByTagName("head")[0].appendChild(a)}))}o.d(t,"a",(function(){return n}));var r=o(0)},function(e,t,o){function n(e,t,o){function n(l){return u=u||Date.now(),l?(Object(r.a)("load","Try instantiateStreaming"),fetch(Object(a.a)(e)).then((function(e){return WebAssembly.instantiateStreaming(e,t)})).catch((function(t){return Object(r.a)("load","instantiateStreaming Failed "+e+" message "+t.message),n(!1)}))):Object(a.b)(e,o,!0,!0).then((function(e){return i=Date.now(),Object(r.a)("load","Request took "+(i-u)+" ms"),WebAssembly.instantiate(e,t)}))}var i,u;return n(!!WebAssembly.instantiateStreaming).then((function(e){return Object(r.a)("load","WASM compilation took "+(Date.now()-(i||u))+" ms"),e}))}o.d(t,"a",(function(){return n}));var r=o(0),a=o(4),i=o(9);o.d(t,"b",(function(){return i.a}))},function(t,o,n){n.d(o,"a",(function(){return r})),n.d(o,"b",(function(){return a})),n.d(o,"c",(function(){return i}));var r=function(){return e.asyncExecutePromiseGeneratorProgram((function(e){return e.return(WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])))}))},a=function(){return e.asyncExecutePromiseGeneratorProgram((function(e){return e.return(WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])))}))},i=function(){return e.asyncExecutePromiseGeneratorProgram((function(e){return e.return(WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])))}))}},function(e,t){t=function(){return this}();try{t=t||new Function("return this")()}catch(o){"object"===typeof window&&(t=window)}e.exports=t},function(e,t,o){o.d(t,"b",(function(){return i})),o.d(t,"a",(function(){return l}));var n=o(4),r=o(10),a=o(2),i=function(){return a.e&&!a.a&&!Object(a.j)()},u=function(){function e(e){var t=this;this.promise=e.then((function(e){t.response=e,t.status=200}))}return e.prototype.addEventListener=function(e,t){this.promise.then(t)},e}(),l=function(e,t,o){if(i()&&!o)self.Module.instantiateWasm=function(o,n){return Object(r.a)(e+"Wasm.wasm",o,t["Wasm.wasm"]).then((function(e){n(e.instance)}))},o=Object(n.b)(e+"Wasm.js.mem",t["Wasm.js.mem"],!1,!1);else{o=Object(n.b)((self.Module.asmjsPrefix?self.Module.asmjsPrefix:"")+e+".js.mem",t[".js.mem"],!1);var a=Object(n.c)((self.Module.memoryInitializerPrefixURL?self.Module.memoryInitializerPrefixURL:"")+e+".mem",t[".mem"],!0,!0);self.Module.memoryInitializerRequest=new u(a)}o=new Blob([o],{type:"application/javascript"}),importScripts(URL.createObjectURL(o))}},function(e,t,o){function n(e,t,o,n){function r(e){return e instanceof o?e:new o((function(t){t(e)}))}return new(o||(o=Promise))((function(o,a){function i(e){try{l(n.next(e))}catch(t){a(t)}}function u(e){try{l(n["throw"](e))}catch(t){a(t)}}function l(e){e.done?o(e.value):r(e.value).then(i,u)}l((n=n.apply(e,t||[])).next())}))}function r(e,t){function o(e){return function(t){return n([e,t])}}function n(o){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,a&&(i=2&o[0]?a["return"]:o[0]?a["throw"]||((i=a["return"])&&i.call(a),0):a.next)&&!(i=i.call(a,o[1])).done)return i;switch(a=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(i=l.trys,!(i=0<i.length&&i[i.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3]))l.label=o[1];else if(6===o[0]&&l.label<i[1])l.label=i[1],i=o;else{if(!(i&&l.label<i[2])){i[2]&&l.ops.pop(),l.trys.pop();continue}l.label=i[2],l.ops.push(o)}}o=t.call(e,l)}catch(n){o=[6,n],a=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var r,a,i,u,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return u={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u}o.d(t,"a",(function(){return n})),o.d(t,"b",(function(){return r}))},function(e,t){function o(){throw Error("setTimeout has not been defined")}function n(){throw Error("clearTimeout has not been defined")}function r(e){if(c===setTimeout)return setTimeout(e,0);if((c===o||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(n){return c.call(this,e,0)}}}function a(e){if(d===clearTimeout)return clearTimeout(e);if((d===n||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(o){return d.call(this,e)}}}function i(){p&&f&&(p=!1,f.length?h=f.concat(h):M=-1,h.length&&u())}function u(){if(!p){var e=r(i);p=!0;for(var t=h.length;t;){for(f=h,h=[];++M<t;)f&&f[M].run();M=-1,t=h.length}f=null,p=!1,a(e)}}function l(e,t){this.fun=e,this.array=t}function s(){}e=e.exports={};try{var c="function"===typeof setTimeout?setTimeout:o}catch(g){c=o}try{var d="function"===typeof clearTimeout?clearTimeout:n}catch(g){d=n}var f,h=[],p=!1,M=-1;e.nextTick=function(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var o=1;o<arguments.length;o++)t[o-1]=arguments[o];h.push(new l(e,t)),1!==h.length||p||r(u)},l.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=s,e.addListener=s,e.once=s,e.off=s,e.removeListener=s,e.removeAllListeners=s,e.emit=s,e.prependListener=s,e.prependOnceListener=s,e.listeners=function(e){return[]},e.binding=function(e){throw Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw Error("process.chdir is not supported")},e.umask=function(){return 0}},function(e,t,o){t.a=function(){ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(e,t){if(void 0===e&&(e=0),void 0===t&&(t=this.byteLength),e=Math.floor(e),t=Math.floor(t),0>e&&(e+=this.byteLength),0>t&&(t+=this.byteLength),e=Math.min(Math.max(0,e),this.byteLength),t=Math.min(Math.max(0,t),this.byteLength),0>=t-e)return new ArrayBuffer(0);var o=new ArrayBuffer(t-e),n=new Uint8Array(o);return e=new Uint8Array(this,e,t-e),n.set(e),o})}},function(e,t,o){t.a=function(e){var t={};return decodeURIComponent(e.slice(1)).split("&").forEach((function(e){e=e.split("=",2),t[e[0]]=e[1]})),t}},function(e,t,o){(function(e){function o(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=Array(arguments.length-1),o=0;o<t.length;o++)t[o]=arguments[o+1];return h[f]={callback:e,args:t},c(f),f++}function n(e){delete h[e]}function r(e){if(p)setTimeout(r,0,e);else{var t=h[e];if(t){p=!0;try{var o=t.callback,a=t.args;switch(a.length){case 0:o();break;case 1:o(a[0]);break;case 2:o(a[0],a[1]);break;case 3:o(a[0],a[1],a[2]);break;default:o.apply(void 0,a)}}finally{n(e),p=!1}}}}function a(){c=function(t){e.nextTick((function(){r(t)}))}}function i(){if(d.postMessage&&!d.importScripts){var e=!0,t=d.onmessage;return d.onmessage=function(){e=!1},d.postMessage("","*"),d.onmessage=t,e}}function u(){var e="setImmediate$"+Math.random()+"$",t=function(t){t.source!==d&&t.source!==d.parent||"string"!==typeof t.data||0!==t.data.indexOf(e)||r(+t.data.slice(e.length))};d.addEventListener?d.addEventListener("message",t,!1):d.attachEvent("onmessage",t),c=function(t){d.postMessage(e+t,"*")}}function l(){var e=M.documentElement;c=function(t){var o=M.createElement("script");o.onreadystatechange=function(){r(t),o.onreadystatechange=null,e.removeChild(o),o=null},e.appendChild(o)}}function s(){c=function(e){setTimeout(r,0,e)}}var c,d="undefined"===typeof window?self:window,f=1,h={},p=!1,M=d.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(d);g=g&&g.setTimeout?g:d,"[object process]"==={}.toString.call(d.process)?a():i()?u():M&&"onreadystatechange"in M.createElement("script")?l():s(),g.setImmediate=o,g.clearImmediate=n,t.a={setImmediate:o,clearImmediate:n}}).call(this,o(15))},function(e,t,o){var n=o(0),r=o(3);e=function(){function e(e,t){this.name=e,this.comObj=t,this.callbackIndex=1,this.postMessageTransfers=!0,this.callbacksCapabilities={},this.actionHandler={},this.actionHandlerAsync={},this.pdfnetCommandChain=this.nextAsync=null,this.pdfnetActiveCommands=new Set,this.actionHandler.console_log=[function(e){Object(n.d)(e)}],this.actionHandler.console_error=[function(e){Object(n.c)(e)}],this.actionHandler.workerLoaded=[function(){}],this.msgHandler=this.handleMessage.bind(this),t.addEventListener("message",this.msgHandler)}return e.prototype.on=function(e,t,o){var r=this.actionHandler;r[e]&&Object(n.c)('There is already an actionName called "'+e+'"'),r[e]=[t,o]},e.prototype.clearActionHandlers=function(){this.actionHandler={},this.comObj.removeEventListener("message",this.msgHandler)},e.prototype.reset=function(){this.clearActionHandlers(),this.comObj.reset&&this.comObj.reset()},e.prototype.replace=function(e,t,o){this.actionHandler[e]=[t,o]},e.prototype.onAsync=function(e,t,o){var r=this.actionHandlerAsync;r[e]&&Object(n.c)('There is already an actionName called "'+e+'"'),r[e]=[t,o]},e.prototype.replaceAsync=function(e,t,o){var n=this.actionHandlerAsync,r=this.actionHandler;r[e]&&delete r[e],n[e]=[t,o]},e.prototype.onNextAsync=function(e){this.nextAsync=e},e.prototype.send=function(e,t){this.postMessage({action:e,data:t})},e.prototype.getNextId=function(){return this.callbackIndex++},e.prototype.sendWithPromise=function(e,t,o){var n=this.getNextId();e={action:e,data:t,callbackId:n,priority:o},t=window.createPromiseCapability(),this.callbacksCapabilities[n]=t;try{this.postMessage(e)}catch(r){t.reject(r)}return t.promise},e.prototype.sendWithPromiseReturnId=function(e,t,o){var n=this.getNextId();e={action:e,data:t,callbackId:n,priority:o},t=window.createPromiseCapability(),this.callbacksCapabilities[n]=t;try{this.postMessage(e)}catch(r){t.reject(r)}return{promise:t.promise,callbackId:n}},e.prototype.sendWithPromiseWithId=function(e,t,o){t>this.callbackIndex&&Object(n.c)("Can't reuse callbackId "+t+" lesser than callbackIndex "+this.callbackIndex),t in this.callbacksCapabilities&&Object(n.c)("Can't reuse callbackId "+t+". There is a capability waiting to be resolved. "),e={action:e,data:o,callbackId:t},o=window.createPromiseCapability(),this.callbacksCapabilities[t]=o;try{this.postMessage(e)}catch(r){o.reject(r)}return o.promise},e.prototype.sendError=function(e,t){if(e.message||e.errorData){e.message&&e.message.message&&(e.message=e.message.message);var o=e.errorData;e={type:e.type?e.type:"JavascriptError",message:e.message},o&&Object.keys(o).forEach((function(t){o.hasOwnProperty(t)&&(e[t]=o[t])}))}this.postMessage({isReply:!0,callbackId:t,error:e})},e.prototype.getPromise=function(e){if(e in this.callbacksCapabilities)return this.callbacksCapabilities[e];Object(n.c)("Cannot get promise for callback "+e)},e.prototype.cancelPromise=function(e){if(e in this.callbacksCapabilities){var t=this.callbacksCapabilities[e];delete this.callbacksCapabilities[e],this.pdfnetActiveCommands.has(e)&&this.pdfnetActiveCommands.delete(e),t.reject({type:"Cancelled",message:"Request has been cancelled."}),this.postMessage({action:"actionCancel",data:{callbackId:e}})}else Object(n.e)("Cannot cancel callback "+e)},e.prototype.postMessage=function(e){if(Object(r.a)("enableWorkerLogs")&&Object(n.d)("PDFWorker","Sent "+JSON.stringify(e)),this.postMessageTransfers){var t=this.getTransfersArray(e);this.comObj.postMessage(e,t)}else this.comObj.postMessage(e)},e.prototype.getObjectTransfers=function(e,t){var o=this;null!==e&&"object"===typeof e&&(e instanceof Uint8Array?t.push(e.buffer):e instanceof ArrayBuffer?t.push(e):Object.keys(e).forEach((function(n){e.hasOwnProperty(n)&&o.getObjectTransfers(e[n],t)})))},e.prototype.getTransfersArray=function(e){var t=[];return this.getObjectTransfers(e,t),0===t.length?void 0:t},e.prototype.handleMessage=function(e){var t=this,o=e.data;Object(r.a)("enableWorkerLogs")&&Object(n.d)("PDFWorker","Received "+JSON.stringify(o));var a=this.actionHandler,i=this.actionHandlerAsync;e=this.callbacksCapabilities;var u=this.pdfnetActiveCommands;if(o.isReply)a=o.callbackId,a in e?(i=e[a],delete e[a],u.has(a)&&u.delete(a),"error"in o?i.reject(o.error):i.resolve(o.data)):Object(n.a)("Cannot resolve callback "+a);else if(o.action in a){var l=a[o.action];o.callbackId?Promise.resolve().then((function(){return l[0].call(l[1],o.data)})).then((function(e){t.postMessage({isReply:!0,callbackId:o.callbackId,data:e})}),(function(e){t.sendError(e,o.callbackId)})):l[0].call(l[1],o.data)}else o.action in i?(l=i[o.action],o.callbackId?l[0].call(l[1],o).then((function(e){t.postMessage({isReply:!0,callbackId:o.callbackId,data:e}),t.nextAsync()}),(function(e){t.sendError(e,o.callbackId),t.nextAsync()})):l[0].call(l[1],o).then((function(){t.nextAsync()}),(function(){t.nextAsync()}))):Object(n.c)("Unknown action from worker: "+o.action)},e}(),t.a=e},function(e,t,o){o.d(t,"a",(function(){return n})),o(0),o(21),o(2),o(6),o(11);var n="optimized/"},function(e,t,o){o.d(t,"a",(function(){return r})),o(0),e="undefined"===typeof window?self:window,e.Core=e.Core||{};var n=e.Core,r=function(){return"".concat(n.getWorkerPath(),"pdf/")}},function(e,t,o){e.exports=o(23)},function(e,t,o){o.r(t),o(2),e=o(16),o(24),o(25),o(28),o(29),o(30),o(31),o(32),Object(e.a)()},function(e,t,o){(function(e){"undefined"===typeof e.crypto&&(e.crypto={getRandomValues:function(e){for(var t=0;t<e.length;t++)e[t]=256*Math.random()}})})("undefined"===typeof window?self:window)},function(e,t,o){(function(e,t){function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}(function(e){function r(){for(var e=0;e<A.length;e++)A[e][0](A[e][1]);A=[],_=!1}function a(e,t){A.push([e,t]),_||(_=!0,S(r,0))}function i(e,t){function o(e){s(t,e)}function n(e){d(t,e)}try{e(o,n)}catch(r){n(r)}}function u(e){var t=e.owner,o=t.state_;t=t.data_;var n=e[o];if(e=e.then,"function"===typeof n){o=b;try{t=n(t)}catch(r){d(e,r)}}l(e,t)||(o===b&&s(e,t),o===P&&d(e,t))}function l(e,t){var o;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"===typeof t||"object"===n(t))){var r=t.then;if("function"===typeof r)return r.call(t,(function(n){o||(o=!0,t!==n?s(e,n):c(e,n))}),(function(t){o||(o=!0,d(e,t))})),!0}}catch(a){return o||d(e,a),!0}return!1}function s(e,t){e!==t&&l(e,t)||c(e,t)}function c(e,t){e.state_===m&&(e.state_=v,e.data_=t,a(h,e))}function d(e,t){e.state_===m&&(e.state_=v,e.data_=t,a(p,e))}function f(e){var t=e.then_;for(e.then_=void 0,e=0;e<t.length;e++)u(t[e])}function h(e){e.state_=b,f(e)}function p(e){e.state_=P,f(e)}function M(e){if("function"!==typeof e)throw new TypeError("Promise constructor takes a function argument");if(!(this instanceof M))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],i(e,this)}e.createPromiseCapability=function(){var e={};return e.promise=new M((function(t,o){e.resolve=t,e.reject=o})),e};var g=e.Promise,y=g&&"resolve"in g&&"reject"in g&&"all"in g&&"race"in g&&function(){var e;return new g((function(t){e=t})),"function"===typeof e}();"undefined"!==typeof exports&&exports?(exports.Promise=y?g:M,exports.Polyfill=M):"function"===typeof define&&o(27)?define((function(){return y?g:M})):y||(e.Promise=M);var _,m="pending",v="sealed",b="fulfilled",P="rejected",C=function(){},S="undefined"!==typeof t?t:setTimeout,A=[];M.prototype={constructor:M,state_:m,then_:null,data_:void 0,then:function(e,t){return e={owner:this,then:new this.constructor(C),fulfilled:e,rejected:t},this.state_===b||this.state_===P?a(u,e):this.then_.push(e),e.then},catch:function(e){return this.then(null,e)}},M.all=function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("You must pass an array to Promise.all().");return new this((function(t,o){function n(e){return i++,function(o){a[e]=o,--i||t(a)}}for(var r,a=[],i=0,u=0;u<e.length;u++)(r=e[u])&&"function"===typeof r.then?r.then(n(u),o):a[u]=r;i||t(a)}))},M.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("You must pass an array to Promise.race().");return new this((function(t,o){for(var n,r=0;r<e.length;r++)(n=e[r])&&"function"===typeof n.then?n.then(t,o):t(n)}))},M.resolve=function(e){return e&&"object"===n(e)&&e.constructor===this?e:new this((function(t){t(e)}))},M.reject=function(e){return new this((function(t,o){o(e)}))}})("undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:void 0)}).call(this,o(12),o(8).setImmediate)},function(e,t,o){(function(e,t){(function(e,o){function n(e){delete h[e]}function r(e){if(p)setTimeout(r,0,e);else{var t=h[e];if(t){p=!0;try{var a=t.callback,i=t.args;switch(i.length){case 0:a();break;case 1:a(i[0]);break;case 2:a(i[0],i[1]);break;case 3:a(i[0],i[1],i[2]);break;default:a.apply(o,i)}}finally{n(e),p=!1}}}}function a(){d=function(e){t.nextTick((function(){r(e)}))}}function i(){if(e.postMessage&&!e.importScripts){var t=!0,o=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=o,t}}function u(){var t="setImmediate$"+Math.random()+"$",o=function(o){o.source===e&&"string"===typeof o.data&&0===o.data.indexOf(t)&&r(+o.data.slice(t.length))};e.addEventListener?e.addEventListener("message",o,!1):e.attachEvent("onmessage",o),d=function(o){e.postMessage(t+o,"*")}}function l(){var e=new MessageChannel;e.port1.onmessage=function(e){r(e.data)},d=function(t){e.port2.postMessage(t)}}function s(){var e=M.documentElement;d=function(t){var o=M.createElement("script");o.onreadystatechange=function(){r(t),o.onreadystatechange=null,e.removeChild(o),o=null},e.appendChild(o)}}function c(){d=function(e){setTimeout(r,0,e)}}if(!e.setImmediate){var d,f=1,h={},p=!1,M=e.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(e);g=g&&g.setTimeout?g:e,"[object process]"==={}.toString.call(e.process)?a():i()?u():e.MessageChannel?l():M&&"onreadystatechange"in M.createElement("script")?s():c(),g.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=Array(arguments.length-1),o=0;o<t.length;o++)t[o]=arguments[o+1];return h[f]={callback:e,args:t},d(f),f++},g.clearImmediate=n}})("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,o(12),o(15))},function(e,t){e.exports={}},function(e,t,o){(function(e){var t=function(e,t){var o=function e(o){return o=this["catch"](o),{cancel:t,promise:o,then:n.bind(o),catch:e.bind(o)}},n=function e(n,r){return n=this.then(n,r),{cancel:t,promise:n,then:e.bind(n),catch:o.bind(n)}};return{cancel:t,promise:e,then:n.bind(e),catch:o.bind(e)}};e.CancellablePromise=function(e,o){var n,r=!1,a=new Promise((function(t,a){n=function(){r||(o(),a("cancelled"))},new Promise(e).then((function(e){r=!0,t(e)}),(function(e){r=!0,a(e)}))}));return t(a,n)},e.CancellablePromise.all=function(e){var o=Promise.all(e);return t(o,(function(){e.forEach((function(e){e.cancel&&e.cancel()}))}))}})("undefined"===typeof self?void 0:self)},function(e,t,o){(function(e,t){var n=o(1);(function(o){o.Module={INITIAL_MEMORY:50331648,noExitRuntime:!0,devicePixelRatio:1,cur_doc:null,cachePtrSize:0,hasBufOwnership:!0,loaded:!1,initCb:null,cachePtr:null,cleanupState:null,docs:{},postEvent:function(e,t,o){Module.workerMessageHandler.send("event",{docId:e,type:t,data:o})},postPagesUpdatedEvent:function(e,t,o,n){if(e={pageDimensions:Module.GetPageDimensions(e)},o)for(var r=0;r<o.length;++r)o[r]in e.pageDimensions?(e.pageDimensions[o[r]].contentChanged=!0,n&&(e.pageDimensions[o[r]].annotationsUnchanged=!0)):console.warn("Invalid Page Number ".concat(o[r]));return Module.postEvent(t,"pagesUpdated",e),e},postPagesRenamedEvent:function(e,t){var o={};e=Module.PDFDocGetPageIterator(e,1);for(var n=1;Module.IteratorHasNext(e);++n){var r=Module.stackSave(),a=Module.IteratorCurrent(e);o[n]=Module.PageGetId(a),Module.IteratorNext(e),Module.stackRestore(r)}Module.postEvent(t,"pagesRenamed",{pageNumToId:o})},GetIndividualPageDimensions:function(e,t,o){return e=Module.PageGetPageInfo(o),e.id=Module.PageGetId(o),e},GetPageDimensionsRange:function(e,t,o){for(var n={},r=Module.PDFDocGetPageIterator(e,t);t<o&&Module.IteratorHasNext(r);++t){var a=Module.stackSave(),i=Module.IteratorCurrent(r);n[t]=this.GetIndividualPageDimensions(e,t,i),Module.IteratorNext(r),Module.stackRestore(a)}return n},GetPageDimensionsContentChangedList:function(e,t){t.sort((function(e,t){return e-t}));for(var o={},n=t[0],r=t[t.length-1],a=0,i=Module.PDFDocGetPageIterator(e,n);n<=r&&Module.IteratorHasNext(i);++n){if(t[a]==n){++a;var u=Module.stackSave(),l=Module.IteratorCurrent(i);l=this.GetIndividualPageDimensions(e,n,l),l.contentChanged=!0,o[n]=l,Module.stackRestore(u)}Module.IteratorNext(i)}return o},GetPageDimensions:function(e){try{var t=Module.stackSave(),o=Module.GetPageCount(e);if(0===o)throw"This document has no pages.";return Module.GetPageDimensionsRange(e,1,o+1)}finally{Module.stackRestore(t)}},loadDoc:function(e,t){"undefined"===typeof Module&&this._main();var o=null;try{var n=Module.stackSave();e.customHandlerId&&Module._TRN_PDFNetAddPDFTronCustomHandler(e.customHandlerId),t=Module.CreateDoc(e,t);var r=Module.GetDoc(t);if(Module.PDFDocInitSecurityHandler(r))return{docId:t,pageDimensions:Module.GetPageDimensions(r)};o={type:"NeedsPassword",errorData:{docId:t},message:"This document requires a password"}}catch(a){o={type:"InvalidPDF",message:a}}finally{Module.stackRestore(n)}throw o},loadCanvas:function(e,t,o,n,r,a,i,u){return new Promise((function(l,s){var c=Module.GetDoc(e),d=t+1,f=function(){l(Module.RasterizePage(c,d,o,n,a,r,i,u))},h=Module.docs[e].chunkStorage;if(h){var p=Module.GetDownloadData(c).downloader,M=h.getRequiredChunkOffsetArrays(p,d);h.keepChunks(M.have),p=function(){var e=h.getChunks(M.missing);Module.loadPromise=e.then((function(){var e=Module.loadPromise.cancelled;Module.loadPromise=null,e||f()}))["catch"]((function(e){"cancelled"!==e?s(e):Module.loadPromise=null}))},Module.loadPromise?Module.loadPromise.then(p,p):p()}else f()}))},loadResources:function(e,t){Module.Initialize(t),Object(n.b)("worker","PDFNet initialized!"),Module._TRN_PDFNetSetDefaultDiskCachingEnabled(!1),e=new Uint8Array(e),Module.PDFNetSetResourceData(e)},onRuntimeInitialized:function(){"undefined"===typeof Module&&(("undefined"!==typeof window?window:self).Module={}),function(r){r.PDFDocExportXFDF=function(e,t){e=Module.GetDoc(e);var o=Module.stackSave();try{var n=t?Module.PDFDocFDFExtract(e,t):Module.PDFDocFDFExtract(e),r=Module.FDFDocSaveAsXFDF(n);Module.stackRestore(o)}catch(a){throw Module.stackRestore(o),a}return r},r.PageArrayToPageSet=function(e){var t=Module.stackSave();try{for(var o=Module.PageSetCreate(),n=0;n<e.length;++n)Module.PageSetAddPage(o,e[n]);Module.stackRestore(t)}catch(r){throw Module.stackRestore(t),r}return o},r.cancelCurrent=function(){var t=Module.loadPromise;return t?(t.cancel(),t.cancelled=!0):!!(t=Module.cleanupState)&&(e(t.timeout),t.cleanupArr.reverse().forEach((function(e){e()})),Module.cleanupState=null,!0)},r.SetWorkerRestartCallback=function(e){Module.workerRestartCallback=e},r.XFDFMerge=function(e,t,o){if(t){var r=[];try{Object(n.b)("worker","Merge XFDF of length ".concat(t.length));var a=Module.GetUStringFromJSString(t,!0);r.push((function(){Module.UStringDestroy(a)}));var i=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_FDFDocCreateFromXFDF(a,i));var u=Module.getValue(i,"i8*");r.push((function(){Module.FDFDocDestroy(u)})),Module.PDFDocFDFUpdate(e,u,o)}finally{r.reverse().forEach((function(e){e()}))}}},r.MergeXFDF=function(e,t,o){return new Promise((function(n,r){var a=[];try{var i=Module.stackSave();a[a.length]=function(){Module.stackRestore(i)};var u=Module.GetDoc(e);Module.XFDFMerge(u,t,o),a.forEach((function(e){e()})),n({})}catch(l){a.forEach((function(e){e()})),r(l)}}))},r.CreateBufferFile=function(e,t,o){Module.MakeDev(e);var n=new ArrayBuffer(t);n=new Uint8Array(n),o=o?0:255;for(var r=0;r<t;++r)n[r]=o;Module.docs[e]={buffer:n}},r.ReadBufferFile=function(e,t){var o=Module.docs[e].buffer;return t&&(Module.docs[e].buffer=new Uint8Array(o.buffer.slice(0))),o},r.RemoveBufferFile=function(e){Module.docs[e]=null},r.SaveHelper=function(e,t,o){o="undefined"===typeof o?2:o,Module.MakeDev(t);var n=Module._TRN_PDFDocSave(e,Module.GetUStringFromJSString(t),o,0);return Module.docs[t].sink=null,REX(n),16&o&&Module.postPagesRenamedEvent(e,t),Module.docs[t].buffer.buffer},r.SaveDoc=function(e,t,n,r,a,i,u,l,s){return new Promise((function(c,d){var f=[];try{var h=Module.GetDoc(e),p=Module.stackSave();f[f.length]=function(){Module.stackRestore(p)},Module.XFDFMerge(h,t,u);var M=Module.allocate(8,"i8",Module.ALLOC_STACK),g=Module.allocate(Module.intArrayFromString('{"UseNonStandardRotation": true}'),"i8",Module.ALLOC_STACK);if(Module.setValue(M,g,"i8*"),Module.setValue(M+4,0,"i32"),Module._TRN_PDFDocRefreshAnnotAppearances(h,M),i){M=function(e){return e=new Uint8Array(e),o.FS.writeFile("watermarkFile",e),e=Module.ImageCreateFromFile(h,Module.GetUStringFromJSString("watermarkFile")),o.FS.unlink("watermarkFile"),e};var y=Module.ElementBuilderCreate();f.push((function(){Module.ElementBuilderDestroy(y)}));var _=Module.ElementWriterCreate();f.push((function(){Module.ElementWriterDestroy(_)}));try{if(!i.hasOwnProperty("default"))throw Error("Watermark dictionary has no 'default' key!");var m=M(i["default"]),v=Module.PDFDocGetPageIterator(h,1);for(g=-1;Module.IteratorHasNext(v);){var b=Module.IteratorCurrent(v);Module.IteratorNext(v),g++;var P=g.toString();try{var C=void 0;if(i.hasOwnProperty(P)){var S=i[P];if(!S)continue;C=M(S)}else C=m;var A=Module.PageGetPageInfo(b),R=Module.ElementBuilderCreateImage(y,C,0,0,A.width,A.height);Module.ElementWriterBegin(_,b),Module.ElementWriterWritePlacedElement(_,R),Module.ElementWriterEnd(_)}catch(k){console.warn("Watermark for page "+P+"can not be added due to error: "+k)}}}catch(k){console.warn("Watermarks can not be added due to error: "+k)}}if(l){var D=Module.SecurityHandlerCreate(s);D&&(Module.SecurityHandlerChangeUserPasswordUString(D,l),Module.PDFDocSetSecurityHandler(h,D))}if(m=0,r){var w=Module.PDFDocGetRoot(h);(m=Module.ObjFindObj(w,"OpenAction"))&&Module.ObjPut(w,"__OpenActionBackup__",m);var E=Module.ObjPutDict(w,"OpenAction");Module.ObjPutName(E,"Type","Action"),Module.ObjPutName(E,"S","JavaScript"),Module.ObjPutString(E,"JS","this.print()")}var T=Module.SaveHelper(h,e,a);if(r&&(m?Module.ObjPut(w,"OpenAction",Module.ObjFindObj(w,"__OpenActionBackup__")):Module.ObjErase(w,"OpenAction")),f.reverse().forEach((function(e){e()})),n)c({fileData:T});else{var O=T.slice(0);c({fileData:O})}}catch(k){f.reverse().forEach((function(e){e()})),d(k)}}))},r.SaveDocFromFixedElements=function(e,t,o,n,r,a){return e=Module.PDFDocCreateFromLayoutEls(e),e=Module.CreateDoc({type:"ptr",value:e}),Module.SaveDoc(e,t,!0,!1,o,n,r,a)},r.GetCurrentCanvasData=function(e){var t=Module.currentRenderData;if(!t)return null;e&&REX(Module._TRN_PDFRasterizerUpdateBuffer(t.rast));var o=Date.now();if(t.bufPtr){e=new Uint8Array(new ArrayBuffer(t.buf_size));for(var r=0,a=0;a<t.out_height;++a)for(var i=t.bufPtr+t.stride*a,u=0;u<t.out_width;++u)e[r++]=Module.HEAPU8[i+2],e[r++]=Module.HEAPU8[i+1],e[r++]=Module.HEAPU8[i],e[r++]=Module.HEAPU8[i+3],i+=4}else e=Module.ReadBufferFile("b",e);return Object(n.b)("bufferTiming","Copy took ".concat(Date.now()-o)),{pageBuf:e.buffer,pageWidth:t.out_width,pageHeight:t.out_height}},r.RasterizePage=function(e,o,r,a,i,u,l,s){return new Promise((function(c,d){Module.currentRenderData={};var f=Module.currentRenderData;f.out_width=parseInt(r,10),f.out_height=parseInt(a,10);var h=[];h.push((function(){Module.currentRenderData=null}));try{var p=Module.stackSave();h[h.length]=function(){Module.stackRestore(p)};var M=Module.GetPage(e,o),g=Module.PageGetPageWidth(M),y=Module.PageGetPageHeight(M);if(f.stride=4*f.out_width,f.buf_size=f.out_width*f.out_height*4,Object(n.b)("Memory","Created rasterizer"),f.rast=Module.PDFRasterizerCreate(),h.push((function(){Object(n.b)("Memory","Destroyed rasterizer"),Module._TRN_PDFRasterizerDestroy(f.rast)})),l){var _=Module.EMSCreateUpdatedLayersContext(e,l);0!==_&&(REX(Module._TRN_PDFRasterizerSetOCGContext(f.rast,_)),h.push((function(){Module._TRN_OCGContextDestroy(_)})))}var m=!1;if(s.hasOwnProperty("renderAnnots")?(s.renderAnnots&&(m=!0),REX(Module._TRN_PDFRasterizerSetDrawAnnotations(f.rast,s.renderAnnots?1:0))):REX(Module._TRN_PDFRasterizerSetDrawAnnotations(f.rast,0)),s.hasOwnProperty("highlightFields")&&(s.highlightFields&&(m=!0),REX(Module._TRN_PDFRasterizerSetHighlightFields(f.rast,s.highlightFields))),s.hasOwnProperty("antiAliasing")&&REX(Module._TRN_PDFRasterizerSetAntiAliasing(f.rast,s.antiAliasing)),s.hasOwnProperty("pathHinting")&&REX(Module._TRN_PDFRasterizerSetPathHinting(f.rast,s.pathHinting)),s.hasOwnProperty("thinLinePixelGridFit")){var v=!0;s.hasOwnProperty("thinLineStrokeAdjust")&&(v=s.thinLineStrokeAdjust),REX(Module._TRN_PDFRasterizerSetThinLineAdjustment(f.rast,s.thinLinePixelGridFit,v))}else s.hasOwnProperty("thinLineStrokeAdjust")&&REX(Module._TRN_PDFRasterizerSetThinLineAdjustment(f.rast,!1,s.thinLineStrokeAdjust));s.hasOwnProperty("imageSmoothing")?(v=!1,s.hasOwnProperty("hqImageResampling")&&(v=s.hqImageResampling),REX(Module._TRN_PDFRasterizerSetImageSmoothing(f.rast,s.imageSmoothing,v))):s.hasOwnProperty("hqImageResampling")&&REX(Module._TRN_PDFRasterizerSetImageSmoothing(f.rast,!0,s.hqImageResampling)),s.hasOwnProperty("caching")&&REX(Module._TRN_PDFRasterizerSetCaching(f.rast,s.caching)),s.hasOwnProperty("expGamma")&&REX(Module._TRN_PDFRasterizerSetGamma(f.rast,s.expGamma)),s.hasOwnProperty("isPrinting")&&(s.isPrinting&&(m=!0),REX(Module._TRN_PDFRasterizerSetPrintMode(f.rast,s.isPrinting))),s.hasOwnProperty("colorPostProcessMode")&&(s.colorPostProcessMode&&(m=!0),REX(Module._TRN_PDFRasterizerSetColorPostProcessMode(f.rast,s.colorPostProcessMode)));var b=Module.PageGetRotation(M);v=1===u||3===u,b=(1===b||3===b)!==v;var P=Module.allocate(48,"i8",Module.ALLOC_STACK);if(i){i.x1=i[0],i.y1=i[1],i.x2=i[2],i.y2=i[3];var C=Module.PageGetDefaultMatrix(M,0),S=Module.Matrix2DInverse(C);if(i=Module.Matrix2DMultBBox(S,i),i.x2<i.x1){var A=i.x1;i.x1=i.x2,i.x2=A}i.y2<i.y1&&(A=i.y1,i.y1=i.y2,i.y2=A);var R=f.out_width/(b?i.y2-i.y1:i.x2-i.x1),D=Module.GetDefaultMatrixBox(M,i,u)}else D=Module.PageGetDefaultMatrix(M,u),R=f.out_width/(v?y:g);Module.Matrix2DSet(P,R,0,0,R,0,0),Module.Matrix2DConcat(P,D);var w=Module.allocate(4,"i8",Module.ALLOC_STACK),E=Module.allocate(4,"i8",Module.ALLOC_STACK);m?(f.bufPtr=Module._malloc(f.buf_size),Module._memset(f.bufPtr,s.pageTransparent?0:255,f.buf_size),h.push((function(){Module._free(f.bufPtr)}))):(Module.CreateBufferFile("b",f.buf_size,s.pageTransparent),h.push((function(){Module.RemoveBufferFile("b")})));var T=s.overprintMode;if(10===T){REX(Module._TRN_PDFRasterizerSetOverprint(f.rast,1));var O=Module.PDFRasterizerRasterizeSeparations(f.rast,M,f.out_width,f.out_height,P,0,0);c({pageBuf:O,pageWidth:f.out_width,pageHeight:f.out_height})}else{REX(Module._TRN_PDFRasterizerSetOverprint(f.rast,T)),m?REX(Module._TRN_PDFRasterizerGetChunkRenderer(f.rast,M,f.bufPtr,f.out_width,f.out_height,f.stride,4,!0,P,0,0,0,w)):REX(Module._TRN_PDFRasterizerGetChunkRendererPath(f.rast,M,Module.GetUStringFromJSString("b"),f.out_width,f.out_height,!0,P,0,0,0,w));var k=Module.getValue(w,"i8*");h.push((function(){REX(Module._TRN_ChunkRendererDestroy(k))}))}var I=(new Date).getTime(),F=t((function e(){try{if(REX(Module._TRN_ChunkRendererRenderForTimePeriod(k,200,E)),Module.getValue(E,"i8"))Module.cleanupState.timeout=t(e);else{var o=Module.GetCurrentCanvasData(!1);Object(n.b)("worker","Total Page Time ".concat((new Date).getTime()-I)),h.reverse().forEach((function(e){e()})),c(o)}}catch(r){h.reverse().forEach((function(e){e()})),d(r)}}));Module.cleanupState={cleanupArr:h,timeout:F},h.push((function(){Module.cleanupState=null}))}catch(x){h.reverse().forEach((function(e){e()})),d(x)}}))},r.UpdatePassword=function(e,t){try{var o=Module.stackSave(),n=Module.GetDoc(e);return Module.PDFDocInitStdSecurityHandler(n,t)?(n in downloadDataMap&&REX(Module._TRN_PDFDocDownloaderInitialize(n,downloadDataMap[n].downloader)),{success:!0,pageDimensions:Module.GetPageDimensions(n)}):{success:!1}}finally{Module.stackRestore(o)}},r.InsertBlankPages=function(e,t,o,n){return new Promise((function(r,a){var i=[],u=Module.GetDoc(e);try{var l=Module.stackSave();i[i.length]=function(){Module.stackRestore(l)};for(var s=t.length-1;0<=s;--s){var c=Module.PDFDocGetPageIterator(u,t[s]),d=Module.PDFDocPageCreate(u,o,n);Module.PDFDocPageInsert(u,c,d)}var f=Module.postPagesUpdatedEvent(u,e);i.forEach((function(e){e()})),r(f)}catch(h){i.forEach((function(e){e()})),a(h)}}))},r.InsertPages=function(e,t,o,n,r,a){return new Promise((function(i,u){var l=[],s=Module.GetDoc(e);try{var c,d=Module.stackSave();if(l[l.length]=function(){Module.stackRestore(d)},t instanceof ArrayBuffer){var f=Module.CreateDoc(t),h=Module.GetDoc(f);l[l.length]=function(){Module.DeleteDoc(f)}}else h=Module.GetDoc(t);for(var p=o.length,M=Module.PageSetCreate(),g=0;g<p;++g)Module.PageSetAddPage(M,o[g]);Module.PDFDocInsertPages(s,n,h,M,r),a||(c=Module.postPagesUpdatedEvent(s,e)),l.reverse().forEach((function(e){e()})),i(c)}catch(y){l.reverse().forEach((function(e){e()})),u(y)}}))},r.MovePages=function(e,t,o){return new Promise((function(n,r){var a=[],i=Module.GetDoc(e);try{var u=Module.stackSave();a[a.length]=function(){Module.stackRestore(u)};for(var l=t.length,s=Module.PageSetCreate(),c=0;c<l;++c)Module.PageSetAddPage(s,t[c]);Module.PDFDocMovePages(i,o,s);var d=Module.postPagesUpdatedEvent(i,e);a.forEach((function(e){e()})),n(d)}catch(f){a.forEach((function(e){e()})),r(f)}}))},r.RemovePages=function(e,t,o){return new Promise((function(n,r){var a=Module.GetDoc(e),i=[];try{var u,l=Module.stackSave();i[i.length]=function(){Module.stackRestore(l)};for(var s=t.length-1;0<=s;--s){var c=Module.PDFDocGetPageIterator(a,t[s]);Module.IteratorHasNext(c)&&Module.PDFDocPageRemove(a,c)}o||(u=Module.postPagesUpdatedEvent(a,e)),i.forEach((function(e){e()})),n(u)}catch(d){i.forEach((function(e){e()})),r(d)}}))},r.RotatePages=function(e,t,o){return new Promise((function(n,r){var a=Module.GetDoc(e),i=[];try{var u=Module.stackSave();i[i.length]=function(){Module.stackRestore(u)};var l=t.length,s=0,c=Module.PDFDocGetPageIterator(a,t[0]),d=[];i.push((function(){Module._TRN_IteratorDestroy(c)}));for(var f=t[0];Module.IteratorHasNext(c)&&s<t[l-1];++f){if(f===t[s]){var h=Module.IteratorCurrent(c),p=(Module.PageGetRotation(h)+o)%4;Module.PageSetRotation(h,p),d.push(f),s++}Module.IteratorNext(c)}var M=Module.postPagesUpdatedEvent(a,e,d,!0);i.reverse().forEach((function(e){e()})),n(M)}catch(g){i.reverse().forEach((function(e){e()})),r(g)}}))},r.ExtractPages=function(e,t,o,n,r){return new Promise((function(a,i){var u=[];try{var l=Module.GetDoc(e),s=Module.stackSave();u[u.length]=function(){Module.stackRestore(s)};var c=function(e){u.reverse().forEach((function(e){e()})),i(e)};Module.XFDFMerge(l,o,r);var d=Module.CreateEmptyDoc();u[u.length]=function(){Module.DeleteDoc(d)};var f=Module.InsertPages(d,e,t,1,!0).then((function(){return Module.SaveDoc(d,void 0,!0,!1,void 0,n)})).then((function(e){return u.reverse().forEach((function(e){e()})),e}))["catch"](c);a(f)}catch(h){c(h)}}))},r.CropPages=function(e,t,o,n,r,a){return new Promise((function(i,u){var l=Module.GetDoc(e),s=[];try{var c=Module.stackSave();s[s.length]=function(){Module.stackRestore(c)};var d=t.length,f=0,h=Module.PDFDocGetPageIterator(l,t[0]);s.push((function(){Module._TRN_IteratorDestroy(h)}));for(var p=[],M=t[0];Module.IteratorHasNext(h)&&f<t[d-1];++M){if(M===t[f]){var g=Module.IteratorCurrent(h),y=Module.allocate(8,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetCropBox(g,y));var _=Module.PageGetRotation(g),m=Module.getValue(y,"double"),v=Module.getValue(y+8,"double"),b=Module.getValue(y+16,"double"),P=Module.getValue(y+24,"double");0===_%4?(Module.setValue(y,m+r,"double"),Module.setValue(y+8,v+n,"double"),Module.setValue(y+16,b-a,"double"),Module.setValue(y+24,P-o,"double")):1===_%4?(Module.setValue(y,m+o,"double"),Module.setValue(y+8,v+r,"double"),Module.setValue(y+16,b-n,"double"),Module.setValue(y+24,P-a,"double")):2===_%4?(Module.setValue(y,m+a,"double"),Module.setValue(y+8,v+o,"double"),Module.setValue(y+16,b-r,"double"),Module.setValue(y+24,P-n,"double")):3===_%4&&(Module.setValue(y,m+n,"double"),Module.setValue(y+8,v+a,"double"),Module.setValue(y+16,b-o,"double"),Module.setValue(y+24,P-r,"double")),Module.setValue(y+32,0,"double"),REX(Module._TRN_PageSetBox(g,0,y)),REX(Module._TRN_PageSetBox(g,1,y)),p.push(M),f++}Module.IteratorNext(h)}var C=Module.postPagesUpdatedEvent(l,e,p,!0);s.reverse().forEach((function(e){e()})),i(C)}catch(S){s.reverse().forEach((function(e){e()})),u(S)}}))}}("undefined"===typeof self?this.Module:self.Module),this.loaded=!0,Module.initCb&&Module.initCb()}}})(self)}).call(this,o(8).clearImmediate,o(8).setImmediate)},function(e,t,o){(function(e){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var n=o(1),r="undefined"!==typeof window?window:self;r.global=r,function(o){o.currentFileString="/current";var a=0,i=0,u={},l=null;Module.chunkMax=200;var s=function(e,t,o,n,r){var a=new XMLHttpRequest;return CancellablePromise((function(i,u){a.open("GET",e,!0),a.responseType="arraybuffer",a.onerror=function(){u("Network error occurred")},a.onload=function(){if(206===this.status&&a.response.byteLength===o){var e=new Int8Array(a.response);i(e)}else u("Download Failed")};var l=["bytes=",t,"-",t+o-1].join("");a.setRequestHeader("Range",l),r&&(a.withCredentials=r),n&&Object.keys(n).forEach((function(e){a.setRequestHeader(e,n[e])})),a.send()}),(function(){a.abort()}))},c=function(e){this.maxChunkNum=e,this.lruList=[],this.chunkMap={}};c.prototype={has:function(e){return e in this.chunkMap},insert:function(e,t){this.lruList.length>=this.maxChunkNum&&(delete this.chunkMap[this.lruList[0]],this.lruList.shift()),this.lruList.push(t),this.chunkMap[t]=e},get:function(e){var t=this.lruList.lastIndexOf(e);return 0<=t&&this.lruList.splice(t,1),this.lruList.push(e),this.chunkMap[e]}};var d=function(e){this.file=e,this.filePosition=0,this.fileLength=e.size,this.chunkSize=1048576,this.chunkCache=new c(8),this.reader=new FileReaderSync};d.prototype={read:function(e,t,o){o=this.filePosition+o<=this.fileLength?o:this.fileLength-this.filePosition,e=e.subarray(t,t+o),t=o;for(var n=this.filePosition%this.chunkSize,r=this.filePosition-n,a=0;0<o;){if(this.chunkCache.has(r))var i=this.chunkCache.get(r);else i=new Int8Array(this.reader.readAsArrayBuffer(this.file.slice(r,r+this.chunkSize))),this.chunkCache.insert(i,r);var u=i.length,l=n+o;l<=u?(e.set(i.subarray(n,l),a),this.filePosition+=o,o=0):(e.set(i.subarray(n),a),this.filePosition+=u-n,n=0,r=this.filePosition,o=l-u,a=t-o)}return t},seek:function(e){this.filePosition=e},close:function(){this.reader=this.file=null},getPos:function(){return this.filePosition},getTotalSize:function(){return this.fileLength}};var f=function(e){this.data=e,this.position=0,this.length=this.data.length};f.prototype={read:function(e,t,o){return o=this.position+o<=this.length?o:this.length-this.position,e=e.subarray(t,t+o),t=this.data.subarray(this.position,this.position+o),e.set(t),this.position+=o,o},write:function(e,t,o){return o=this.position+o<=this.length?o:this.length-this.position,e=e.subarray(t,t+o),this.data.subarray(this.position,this.position+o).set(e),this.position+=o,o},seek:function(e){this.position=e},close:function(){this.data=null},getPos:function(){return this.position},getTotalSize:function(){return this.length}};var h=function(e,o,n,r,a){"object"===t(e)?(this.lruList=e.lruList,this.chunkMap=e.chunkMap,this.length=e.length,this.url=e.url,this.customHeaders=e.customHeaders,this.withCredentials=e.withCredentials):(this.lruList=[],this.chunkMap={},this.chunkMap[o]=a,this.length=o,this.url=e,this.customHeaders=n,this.withCredentials=r)};h.prototype={lruUpdate:function(e){var t=this.lruList.lastIndexOf(e);0<=t&&this.lruList.splice(t,1),this.lruList.push(e)},getChunk:function(e){var t=this;if(this.chunkMap[e])this.lruUpdate(e);else{var o=Math.min(e+1048576,this.length)-1,n=new XMLHttpRequest;if(n.open("GET",this.url,!1),n.responseType="arraybuffer",n.setRequestHeader("Range",["bytes=",e,"-",o].join("")),this.withCredentials&&(n.withCredentials=this.withCredentials),this.customHeaders&&Object.keys(this.customHeaders).forEach((function(e){n.setRequestHeader(e,t.customHeaders[e])})),n.send(),200!==n.status&&206!==n.status)throw Error("Failed to load data from");this.writeChunk(new Int8Array(n.response),e)}return this.chunkMap[e]},hadChunk:function(e){return e in this.chunkMap},hasChunk:function(e){return this.chunkMap[e]},getCacheData:function(){return this.chunkMap[this.length]},getRequiredChunkOffsetArrays:function(e,t){var o={have:[],downloading:[],missing:[]};try{var n=Module.stackSave(),r=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_DownloaderGetRequiredChunksSize(e,t,r));var a=Module.getValue(r,"i8*");if(a){var i=Module._malloc(4*a);for(REX(Module._TRN_DownloaderGetRequiredChunks(e,t,i,a)),e=0;e<a;++e){var u=Module.getValue(i+4*e,"i8*");this.hasChunk(u)?o.have.push(u):this.hadChunk(u)?o.missing.push(u):o.downloading.push(u)}}}finally{i&&Module._free(i),Module.stackRestore(n)}return o},keepVisibleChunks:function(e,t){for(var o=t.length,n=Module.chunkMax/2,r=0,a=0;a<o;++a){var i=this.getRequiredChunkOffsetArrays(e,t[a]),u=i.have,l=u.length;if(r+=l,r>n){this.keepChunks(u.slice(0,l-r+n));break}this.keepChunks(i.have)}},getChunkAsync:function(e){var t=this,o=e+1048576,n=1048576;return o>this.length&&(n-=o-this.length),s(this.url,e,n,this.customHeaders,this.withCredentials).then((function(o){t.writeChunk(o,e)}))},getChunks:function(e){for(var t=e.length,o=Array(t),n=0;n<t;++n)o[n]=this.getChunkAsync(e[n]);return CancellablePromise.all(o)},keepChunks:function(e){for(var t=e.length,o=0;o<t;++o)this.lruUpdate(e[o])},writeChunk:function(e,t,o){o=o||0;var n=this.chunkMap[t],r=e.length,a=this.lruList.length>=Module.chunkMax&&!n;1048576!==r||e.buffer.byteLength!==r?(a?(n=this.lruList.shift(),a=this.chunkMap[n],1048576>a.length&&(a=new Int8Array(1048576)),this.chunkMap[n]=null):a=n?this.chunkMap[t]:new Int8Array(1048576),a.subarray(o,o+r).set(e),e=a):a&&(n=this.lruList.shift(),this.chunkMap[n]=null),this.lruUpdate(t),this.chunkMap[t]=e}};var p=function(e){this.chunkStorage=e,this.position=0,this.length=this.chunkStorage.length};p.prototype={read:function(e,t,o){var n,r=this.position+o<=this.length,a=r?o:this.length-this.position;if(this.position<this.length)for(n=0;n<a;){var i=this.position%1048576,u=this.position-i,l=a-n,s=e.subarray(t+n,t+n+l);if(this.chunkStorage.hadChunk(u))u=this.chunkStorage.getChunk(u).subarray(i,i+l),s.set(u),s=u.length,n+=s,this.position+=s;else for(this.position+=l;n<a;++n)s[n]=0}return r?a:(t+=a,(o-=a)&&(r=this.chunkStorage.getCacheData(),o>r.length&&(o=r.length),n=this.position-this.length,e=e.subarray(t,t+o),u=r.subarray(n,n+o),e.set(u)),this.position+=o,a+o)},write:function(e,t,o){var n=this.position+o<=this.length,r=this.position+o<=this.length?o:this.length-this.position,a=e.subarray(t,t+r),i=this.position%1048576;return this.chunkStorage.writeChunk(a,this.position-i,i),this.position+=r,n?r:(a=t+r,(o-=r)&&(t=this.chunkStorage.getCacheData(),o>t.length&&(o=t.length),n=this.position-this.length,a=e.subarray(a,a+o),t.subarray(n,n+o).set(a)),this.position+=o,r+o)},seek:function(e){this.position=e},close:function(){this.chunkStorage=null},getPos:function(){return this.position},getTotalSize:function(){return this.length}};var M=function(e){this.docId=e,this.length=0,this.data=new Int8Array(8192),this.position=0};M.prototype={seek:function(e){this.position=e},close:function(){var e=new Int8Array(this.data.buffer.slice(0,this.length));Module.ChangeDocBackend(this.docId,{ptr:Module.GetDoc(this.docId),buffer:e}),this.data=null},getPos:function(){return this.position},getTotalSize:function(){return this.length},read:function(e,t,o){var n=this.data.length;return o=o+t<n?o:n-t,e=e.subarray(t,t+o),t=this.data.subarray(this.position,this.position+o),e.set(t),this.position+=o,o},write:function(e,t,o){for(var n=this.position+o,r=this.data.length;n>r;){r=Math.max(r*(16777216<r?1.5:2),n);var a=new Int8Array(r);a.set(this.data.subarray(0,this.length),0),this.data=a}return e=e.subarray(t,t+o),this.data.set(e,this.position),this.position+=o,this.position>this.length&&(this.length=this.position),o}};var g={IsSink:function(e){return 66===(255&e.flags)},open:function(e){var t=e.path.slice(1);this.IsSink(e)?(e.provider=new M(t),Module.docs[t].sink=e.provider):e.provider=Module.docs[t].sink?new f(Module.docs[t].sink.data):Module.docs[t].chunkStorage?new p(Module.docs[t].chunkStorage):Module.docs[t].buffer?new f(Module.docs[t].buffer):new d(Module.docs[t].file)},close:function(e){e.provider.close()},read:function(e,t,o,n,r){return e.provider.read(t,o,n)},llseek:function(e,t,o){if(e=e.provider,1===o?t+=e.getPos():2===o&&(t=e.getTotalSize()+t),0>t)throw new FS.ErrnoError(r.ERRNO_CODES.EINVAL);return e.seek(t),t},write:function(e,t,o,n,r){return n?e.provider.write(t,o,n):0}};r.THROW=function(e){throw{type:"PDFWorkerError",message:e}};var y=function(e){return"Exception: \n\t Message: ".concat(o.GetJSStringFromCString(Module._TRN_GetMessage(e)),"\n\t Filename: ").concat(o.GetJSStringFromCString(Module._TRN_GetFileName(e)),"\n\t Function: ").concat(o.GetJSStringFromCString(Module._TRN_GetFunction(e)),"\n\t Linenumber: ").concat(o.GetJSStringFromCString(Module._TRN_GetLineNum(e)))};o.GetErrToString=y,r.REX=function(e){e&&THROW(y(e))},o.Initialize=function(e){var t=Module.stackSave();e=e?Module.allocate(Module.intArrayFromString(e),"i8",Module.ALLOC_STACK):0,REX(Module._TRN_PDFNetInitialize(e)),Module.stackRestore(t)},o.GetDoc=function(e){if(e in Module.docs)return Module.docs[e].ptr;throw{type:"InvalidDocReference",message:"Unable to access Document id=".concat(e,". The document appears to be invalid or was deleted.")}},o.clearDocBackend=function(){null!==Module.cachePtr?(Module.hasBufOwnership&&Module._free(Module.cachePtr),Module.cachePtr=null):Module.docs[o.currentFileString]&&delete Module.docs[o.currentFileString]},o.MakeDev=function(e){if(!u[e]){var t=FS.makedev(3,5);FS.registerDevice(t,g),FS.mkdev(e,511,t),u[e]=!0}},o.CreateDocFileBackend=function(e,t){Module.MakeDev(t);var o=Module.allocate(4,"i8",Module.ALLOC_STACK);Module.docs[t]={file:e},e=Module.allocate(Module.intArrayFromString(t),"i8",Module.ALLOC_STACK),REX(Module._TRN_PDFDocCreateFromFilePath(e,o)),o=Module.getValue(o,"i8*"),Module.docs[t].ptr=o},o.InsertImageIntoDoc=function(e,t,o){var n=[];try{var r=Module.ElementBuilderCreate();n.push((function(){Module.ElementBuilderDestroy(r)}));var a=Module.ElementWriterCreate();if(n.push((function(){Module.ElementWriterDestroy(a)})),o)var i=o.width,u=o.height;else i=Module.ImageGetImageWidth(t),u=Module.ImageGetImageHeight(t),o=i/u,o>612/792?(i=612,u=parseInt(i/o,10)):(u=792,i=parseInt(u*o,10));var l=Module.ElementBuilderCreateImage(r,t,0,0,i,u),s=Module.PDFDocPageCreate(e,i,u);Module.ElementWriterBegin(a,s),Module.ElementWriterWritePlacedElement(a,l),Module.ElementWriterEnd(a),Module.PDFDocPagePushBack(e,s)}finally{n.reverse().forEach((function(e){e()}))}};var _=function(e,o,n){"object"===t(e)?(this.m_pages=e.m_pages,this.m_has_named_dests=e.m_has_named_dests,this.m_finished_download=e.m_finished_download,this.m_has_outline=e.m_has_outline,this.m_current_page=e.m_current_page,this.m_id=e.m_id,this.size=e.size,this.timeout=e.timeout,this.eventPageArray=e.eventPageArray,this.requirePageCallbacks=e.requirePageCallbacks):(this.m_pages=[],this.m_has_outline=this.m_finished_download=this.m_has_named_dests=!1,this.m_current_page=1,this.m_id=n,this.size=e,this.timeout=null,this.eventPageArray=[],this.requirePageCallbacks={}),this.downloadUserData=Module.createDownloadUserData(o,n)};_.prototype={getJSUrl:function(){return Module.extractDownloadUserData(this.downloadUserData).url},getDocId:function(){return Module.extractDownloadUserData(this.downloadUserData).docId},destroyUserData:function(){this.m_id in Module.withCredentials&&delete Module.withCredentials[this.m_id],this.m_id in Module.customHeadersMap&&delete Module.customHeadersMap[this.m_id],Module.destroyDownloadUserData(this.downloadUserData)}},o.createDownloadUserData=function(e,t){e=Module.allocate(Module.intArrayFromString(e),"i8",Module.ALLOC_NORMAL);var o=Module.allocate(8,"i8",Module.ALLOC_NORMAL);return Module.setValue(o,e,"i8*"),Module.setValue(o+4,parseInt(t,10),"i32"),this.downloadUserData=o},o.extractDownloadUserData=function(e){var t=Module.getValue(e,"i8*");return t=o.GetJSStringFromCString(t),e=Module.getValue(e+4,"i32").toString(),{url:t,docId:e}},o.destroyDownloadUserData=function(e){Module._free(Module.getValue(e,"i8*")),Module._free(e)},r.downloadDataMap={},Module.customHeadersMap={},Module.withCredentials={},o.GetDownloadData=function(e){if(e in downloadDataMap)return downloadDataMap[e]},o.DownloaderHint=function(e,t){var o=Module.GetDoc(e),n=downloadDataMap[o];if(t.currentPage&&(n.m_current_page=t.currentPage),t.visiblePages){var r=t.visiblePages;for(t=0;t<r.length;++t)++r[t];Object.keys(n.requirePageCallbacks).forEach((function(e){n.requirePageCallbacks.hasOwnProperty(e)&&r.push(parseInt(e,10))})),(t=Module.docs[e].chunkStorage)&&t.keepVisibleChunks(n.downloader,r),e=r.length;var a=Module.allocate(4*e,"i8",Module.ALLOC_STACK);for(t=0;t<e;++t)Module.setValue(a+4*t,r[t],"i32");REX(Module._TRN_PDFDocDownloadPages(o,a,e,1,0))}},o.RequirePage=function(e,t){return new Promise((function(o,n){n=Module.GetDoc(e);var r=downloadDataMap[n];!r||r.m_finished_download||r.m_pages[t]?o():(t in r.requirePageCallbacks?r.requirePageCallbacks[t].push(o):r.requirePageCallbacks[t]=[o],o=Module.allocate(4,"i8",Module.ALLOC_STACK),Module.setValue(o,t,"i32"),Module._TRN_PDFDocDownloadPages(n,o,1,0,0))}))},o.IsLinearizationValid=function(e){if(e=Module.GetDoc(e),e=downloadDataMap[e]){var t=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_DownloaderIsLinearizationValid(e.downloader,t)),0!==Module.getValue(t,"i8")}return!1},o.ShouldRunRender=function(e,t){return e=Module.GetDoc(e),!(e=downloadDataMap[e])||(!!e.m_finished_download||e.m_pages[t])},o.postPagesDownloadedEvent=function(e,t,o){return e={pageDimensions:Module.GetPageDimensionsContentChangedList(e,o),pageNumbers:o},Module.postEvent(t,"pagesDownloaded",e),e},o.createCallbacksStruct=function(t){if(!l){var o=function(t){return function(o){var n=arguments;o in downloadDataMap?t.apply(this,n):e((function(){o in downloadDataMap&&t.apply(this,n)}),0)}};l={downloadProc:Module.addFunction((function(e,t,o,n,r){n=Module.extractDownloadUserData(n);var a=n.docId;s(n.url,t,o,Module.customHeadersMap[a],Module.withCredentials[a]).then((function(n){a in Module.docs&&Module.docs[a].chunkStorage&&Module.docs[a].chunkStorage.writeChunk(n,t),Module._TRN_DownloadComplete(0,t,o,e)}))}),"viiiii"),notifyUpdatePage:Module.addFunction(o((function(e,t,o,n){var r=downloadDataMap[e];r.m_pages[t]=!0;var a=r.eventPageArray;if(t in r.requirePageCallbacks)for(o=r.requirePageCallbacks[t],n=0;n<o.length;++n)o[n]();r.timeout?a.push(t):(a=r.eventPageArray=[t],r.timeout=setTimeout((function(){Module.postPagesDownloadedEvent(e,r.m_id,a),r.timeout=null}),100))})),"viiii"),notifyUpdateOutline:Module.addFunction(o((function(e,t){e=downloadDataMap[e],e.m_has_outline||(e.m_has_outline=!0,Module.postEvent(e.m_id,"bookmarksUpdated",{}))})),"vii"),notifyUpdateNamedDests:Module.addFunction(o((function(e,t){e=downloadDataMap[e],e.m_has_named_dests||(e.m_has_named_dests=!0)})),"vii"),notifyUpdateThumb:Module.addFunction(o((function(e,t){})),"viiii"),notifyFinishedDownload:Module.addFunction(o((function(e,t){e=downloadDataMap[e],e.m_finished_download||(e.m_finished_download=!0,Module.postEvent(e.m_id,"documentComplete",{}))})),"vii"),notifyDocumentError:Module.addFunction((function(e,t){}),"viii"),getCurrentPage:Module.addFunction((function(e,t){return downloadDataMap[e].m_current_page}),"iii")}}return o=Module.allocate(40,"i8",Module.ALLOC_STACK),Module.setValue(o,l.downloadProc,"i8*"),Module.setValue(o+4,t,"i8*"),Module.setValue(o+8,l.notifyUpdatePage,"i8*"),Module.setValue(o+12,l.notifyUpdateOutline,"i8*"),Module.setValue(o+16,l.notifyUpdateNamedDests,"i8*"),Module.setValue(o+20,l.notifyUpdateThumb,"i8*"),Module.setValue(o+24,l.notifyFinishedDownload,"i8*"),Module.setValue(o+28,l.notifyDocumentError,"i8*"),Module.setValue(o+32,l.getCurrentPage,"i8*"),Module.setValue(o+36,0,"i8*"),o},o.CreateDocDownloaderBackend=function(e,t,o){var n=e.url,r=e.size,a=e.customHeaders,i=e.withCredentials;a&&(Module.customHeadersMap[o]=a),i&&(Module.withCredentials[o]=i);var u=e.downloadData?new _(e.downloadData,n,o,a,i):new _(e.size,n,o,a,i),l=Module.createCallbacksStruct(u.downloadUserData),s=Module.allocate(4,"i8",Module.ALLOC_STACK);Module.MakeDev(o),e.chunkStorage?n=new h(e.chunkStorage):(e=new Int8Array(new ArrayBuffer(Math.ceil((e.size+1048576-1)/1048576/8))),n=new h(n,r,a,i,e)),Module.docs[o]={chunkStorage:n},REX(Module._TRN_DownloaderCreate(l,r,Module.GetUStringFromJSString(o),s)),u.downloader=Module.getValue(s,"i8*"),(r=Module._TRN_PDFDocCreateFromFilter(u.downloader,t))&&(Module._TRN_FilterDestroy(u.downloader),REX(r)),t=Module.getValue(t,"i8*"),Module.docs[o].ptr=t,Module.PDFDocInitSecurityHandler(t)&&REX(Module._TRN_PDFDocDownloaderInitialize(t,u.downloader)),downloadDataMap[t]=u},o.CreateDocBackend=function(e,n){var r=e.value,i=e.extension,u=e.type,l=Module.allocate(4,"i8",Module.ALLOC_STACK),s=Module.stackSave();try{if(r)if("ptr"===u)Module.docs[n]={ptr:r};else{var c="object"===t(r)&&r.url;if(u=i&&"pdf"!==i,c)o.CreateDocDownloaderBackend(r,l,n);else{var d=r instanceof ArrayBuffer;if(c=d?"buffer":"file",d&&(r=new Uint8Array(r),10485760>r.length+a&&!u)){a+=r.length;var f=r.length,h=Module._malloc(r.length);Module.HEAPU8.set(r,h),REX(Module._TRN_PDFDocCreateFromBuffer(h,f,l));var p=Module.getValue(l,"i8*");return Module.docs[n]={ptr:p,bufPtr:h,bufPtrSize:f,ownership:!0},void(Module.docs[n].extension=i)}if(Module.MakeDev(n),d={},d[c]=r,Module.docs[n]=d,u){if(e.pageSizes&&e.pageSizes.length)var M=e.pageSizes[0];else e.defaultPageSize&&(M=e.defaultPageSize);var g=Module.GetUStringFromJSString(n);REX(Module._TRN_PDFDocCreate(l)),p=Module.getValue(l,"i8*");var y=Module.ImageCreateFromFile(p,g);Module.InsertImageIntoDoc(p,y,M)}else{var _=Module.allocate(Module.intArrayFromString(n),"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocCreateFromFilePath(_,l)),p=Module.getValue(l,"i8*")}Module.docs[n].extension=i,Module.docs[n].ptr=p}}else REX(Module._TRN_PDFDocCreate(l)),p=Module.getValue(l,"i8*"),Module.docs[n]={ptr:p},Module.docs[n].extension=i}finally{Module.stackRestore(s)}},o.ChangeDocBackend=function(e,t){var o=Module.docs[e];o?(o.bufPtr&&o.ownership&&(Module._free(o.bufPtr),a-=o.bufPtrSize),delete Module.docs[e]):Object(n.d)("Trying to delete document ".concat(e," that does not exist.")),Module.docs[e]=t},o.DeleteDoc=function(e){var t=Module.docs[e];t?(t.ptr&&(t.ptr in downloadDataMap&&(clearTimeout(downloadDataMap[t.ptr].timeout),downloadDataMap[t.ptr].destroyUserData(),delete downloadDataMap[t.ptr]),Module.PDFDocDestroy(t.ptr)),t.bufPtr&&t.ownership&&(Module._free(t.bufPtr),a-=t.bufPtrSize),delete Module.docs[e]):Object(n.d)("Trying to delete document ".concat(e," that does not exist."))},o.CreateDoc=function(e,t){if("id"===e.type)return Module.docPtrStringToIdMap[e.value];if(!t)do{t=(++i).toString()}while(t in Module.docs);return Module.hasBufOwnership=!0,o.CreateDocBackend(e,t),t},o.CreateEmptyDoc=function(){var e=(++i).toString(),t=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_PDFDocCreate(t)),t=Module.getValue(t,"i8*"),Module.docs[e]={ptr:t},e},o.PDFDocCreateFromLayoutEls=function(e){var t=new Uint8Array(e);e=Module._malloc(t.length);var o=Module.stackSave(),n=Module.allocate(4,"i8",Module.ALLOC_STACK);return Module.HEAPU8.set(t,e),t=Module._TRN_PDFDocCreateFromLayoutEls(e,t.length,n),n=Module.getValue(n,"i8*"),Module._free(e),Module.stackRestore(o),REX(t),n},o.GetPageCount=function(e){var t=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_PDFDocGetPageCount(e,t)),Module.getValue(t,"i8*")},o.GetPage=function(e,t){var o=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_PDFDocGetPage(e,t,o)),e=Module.getValue(o,"i8*"),Module.PageIsValid(e)||THROW("Trying to access page that doesn't exist at index ".concat(t)),e},o.PageGetPageWidth=function(e){var t=Module.allocate(8,"i8",Module.ALLOC_STACK);return REX(Module._TRN_PageGetPageWidth(e,1,t)),Module.getValue(t,"double")},o.PageGetPageHeight=function(e){var t=Module.allocate(8,"i8",Module.ALLOC_STACK);return REX(Module._TRN_PageGetPageHeight(e,1,t)),Module.getValue(t,"double")},o.PageGetDefaultMatrix=function(e,t){var o=Module.allocate(48,"i8",Module.ALLOC_STACK);return t||(t=0),REX(Module._TRN_PageGetDefaultMatrix(e,!0,1,t,o)),o},o.GetMatrixAsArray=function(e){for(var t=[],o=0;6>o;++o)t[o]=Module.getValue(e+8*o,"double");return t},o.PageGetPageInfo=function(e){var t=Module.allocate(48,"i8",Module.ALLOC_STACK),o=Module.allocate(8,"i8",Module.ALLOC_STACK),n=Module.allocate(8,"i8",Module.ALLOC_STACK),r=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_PageGetPageInfo(e,!0,1,0,o,n,t,r)),{rotation:Module.getValue(r,"i8*"),width:Module.getValue(o,"double"),height:Module.getValue(n,"double"),matrix:Module.GetMatrixAsArray(t)}},o.GetUStringFromJSString=function(e,t){var o=Module.allocate(4,"i8",Module.ALLOC_STACK),n=2*(e.length+1),r=Module.allocate(n,"i8",t?Module.ALLOC_NORMAL:Module.ALLOC_STACK);return Module.stringToUTF16(e,r,n),e=Module._TRN_UStringCreateFromString(r,o),t&&Module._free(r),REX(e),Module.getValue(o,"i8*")},o.GetJSStringFromUString=function(e){var t=Module.allocate(4,"i16*",Module.ALLOC_STACK);return REX(Module._TRN_UStringCStr(e,t)),Module.UTF16ToString(Module.getValue(t,"i16*"))},o.GetJSStringFromCString=function(e){return Module.UTF8ToString(e)},o.PDFNetSetResourceData=function(e){Module.res_ptr=Module._malloc(e.length),Module.HEAPU8.set(e,Module.res_ptr),REX(Module._TRN_PDFNetSetResourceData(Module.res_ptr,e.length)),Module.res_ptr_size=e.length},o.PDFDocDestroy=function(e){REX(Module._TRN_PDFDocDestroy(e))},o.VectorGetSize=function(e){var t=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_VectorGetSize(e,t)),Module.getValue(t,"i32")},o.VectorGetAt=function(e,t){var o=Module.allocate(1,"i8*",Module.ALLOC_STACK);return REX(Module._TRN_VectorGetAt(e,t,o)),Module.getValue(o,"i8*")},o.VectorDestroy=function(e){REX(Module._TRN_VectorDestroy(e))},o.PDFRasterizerCreate=function(){var e=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_PDFRasterizerCreate(0,e)),Module.getValue(e,"i8*")},o.ExtractSeparationData=function(e){var t=Module.getValue(e,"i8*"),o=Module.getValue(e+4,"i32"),n=Module.getValue(e+8,"i8*"),r=Module.HEAPU8[e+12],a=Module.HEAPU8[e+13],i=Module.HEAPU8[e+14];e=Module.HEAPU8[e+15];var u=new Uint8Array(o);return u.set(Module.HEAPU8.subarray(t,t+o)),t=Module.GetJSStringFromUString(n),{color:[r,a,i,e],data:u.buffer,name:t}},o.PDFRasterizerRasterizeSeparations=function(e,t,o,n,r,a,i){var u=Module.allocate(8,"i8",Module.ALLOC_STACK);for(REX(Module._TRN_PDFRasterizerRasterizeSeparations(e,t,o,n,r,a,i,u)),e=Module.getValue(u,"i8*"),t=Module.VectorGetSize(e),o=Array(t),n=0;n<t;++n)r=Module.VectorGetAt(e,n),o[n]=Module.ExtractSeparationData(r);return Module.VectorDestroy(e),o},o.PageGetRotation=function(e){var t=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_PageGetRotation(e,t)),Module.getValue(t,"i8*")},o.PageGetId=function(e){var t=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetSDFObj(e,t)),t=Module.getValue(t,"i8*"),e=Module.allocate(4,"i8",Module.ALLOC_STACK),REX(Module._TRN_ObjGetObjNum(t,e)),e=Module.getValue(e,"i32");var o=Module.allocate(2,"i8",Module.ALLOC_STACK);return REX(Module._TRN_ObjGetGenNum(t,o)),o=Module.getValue(o,"i16"),"".concat(e,"-").concat(o)},o.PageSetRotation=function(e,t){REX(Module._TRN_PageSetRotation(e,t))},o.GetDefaultMatrixBox=function(e,t,o){var n=Module.allocate(4,"i8",Module.ALLOC_STACK);switch(REX(Module._TRN_PageGetRotation(e,n)),e=(Module.getValue(n,"i32")+o)%4,o=Module.allocate(48,"i8",Module.ALLOC_STACK),e){case 0:return REX(Module._TRN_Matrix2DSet(o,1,0,0,-1,-t.x1,t.y2)),o;case 1:return REX(Module._TRN_Matrix2DSet(o,0,1,1,0,-t.y1,-t.x1)),o;case 2:return REX(Module._TRN_Matrix2DSet(o,-1,0,0,1,t.x2,-t.y1)),o;case 3:return REX(Module._TRN_Matrix2DSet(o,0,-1,-1,0,t.y2,t.x2)),o}throw Error("Yikes, we don't support that rotation type")},o.Matrix2DMultBBox=function(e,t){var o=Module.allocate(8,"i8",Module.ALLOC_STACK),n=Module.allocate(8,"i8",Module.ALLOC_STACK);return Module.setValue(o,t.x1,"double"),Module.setValue(n,t.y1,"double"),REX(Module._TRN_Matrix2DMult(e,o,n)),t.x1=Module.getValue(o,"double"),t.y1=Module.getValue(n,"double"),Module.setValue(o,t.x2,"double"),Module.setValue(n,t.y2,"double"),REX(Module._TRN_Matrix2DMult(e,o,n)),t.x2=Module.getValue(o,"double"),t.y2=Module.getValue(n,"double"),t},o.Matrix2DMult=function(e,t){var o=Module.allocate(8,"i8",Module.ALLOC_STACK),n=Module.allocate(8,"i8",Module.ALLOC_STACK);return Module.setValue(o,t.x,"double"),Module.setValue(n,t.y,"double"),REX(Module._TRN_Matrix2DMult(e,o,n)),t.x=Module.getValue(o,"double"),t.y=Module.getValue(n,"double"),t},o.Matrix2DConcat=function(e,t){var o=Module.getValue(t,"double"),n=Module.getValue(t+8,"double"),r=Module.getValue(t+16,"double"),a=Module.getValue(t+24,"double"),i=Module.getValue(t+32,"double");t=Module.getValue(t+40,"double"),REX(Module._TRN_Matrix2DConcat(e,o,n,r,a,i,t))},o.Matrix2DSet=function(e,t,o,n,r,a,i){REX(Module._TRN_Matrix2DSet(e,t,o,n,r,a,i))},o.IteratorHasNext=function(e){var t=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_IteratorHasNext(e,t)),0!==Module.getValue(t,"i8")},o.IteratorCurrent=function(e){var t=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_IteratorCurrent(e,t)),Module.getValue(Module.getValue(t,"i8*"),"i8*")},o.IteratorNext=function(e){REX(Module._TRN_IteratorNext(e))},o.PageGetNumAnnots=function(e){var t=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_PageGetNumAnnots(e,t)),Module.getValue(t,"i32")},o.PageGetAnnot=function(e,t){var o=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_PageGetAnnot(e,t,o)),Module.getValue(o,"i8*")},o.PageAnnotRemove=function(e,t){REX(Module._TRN_PageAnnotRemoveByIndex(e,t))},o.AnnotGetType=function(e){var t=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_AnnotGetType(e,t)),Module.getValue(t,"i32")},o.AnnotHasAppearance=function(e){var t=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_AnnotGetAppearance(e,0,0,t)),0!==Module.getValue(t,"i8*")},o.AnnotRefreshAppearance=function(e){REX(Module._TRN_AnnotRefreshAppearance(e))},o.ObjErase=function(e,t){t=Module.allocate(Module.intArrayFromString(t),"i8",Module.ALLOC_STACK),REX(Module._TRN_ObjEraseFromKey(e,t))},o.GetJSDoubleArrFromCore=function(e,t){for(var o=Array(t),n=0;n<t;++n)o[n]=Module.getValue(e,"double"),e+=8;return o},o.GetJSIntArrayFromCore=function(e,t){for(var o=Array(t),n=0;n<t;++n)o[n]=Module.getValue(e,"i32"),e+=4;return o},o.BookmarkIsValid=function(e){var t=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_BookmarkIsValid(e,t)),0!==Module.getValue(t,"i8")},o.BookmarkGetNext=function(e){var t=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_BookmarkGetNext(e,t)),Module.getValue(t,"i8*")},o.BookmarkGetFirstChild=function(e){var t=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_BookmarkGetFirstChild(e,t)),Module.getValue(t,"i8*")},o.BookmarkHasChildren=function(e){var t=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_BookmarkHasChildren(e,t)),0!==Module.getValue(t,"i8")},o.BookmarkGetAction=function(e){var t=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_BookmarkGetAction(e,t)),Module.getValue(t,"i8*")},o.BookmarkGetTitle=function(e){var t=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_BookmarkGetTitle(e,t)),e=Module.getValue(t,"i8*"),Module.GetJSStringFromUString(e)},o.ActionIsValid=function(e){var t=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_ActionIsValid(e,t)),0!==Module.getValue(t,"i8")},o.ActionGetType=function(e){var t=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_ActionGetType(e,t)),Module.getValue(t,"i32")},o.ActionGetDest=function(e){var t=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_ActionGetDest(e,t)),Module.getValue(t,"i8*")},o.DestinationIsValid=function(e){var t=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_DestinationIsValid(e,t)),0!==Module.getValue(t,"i8")},o.DestinationGetPage=function(e){var t=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_DestinationGetPage(e,t)),Module.getValue(t,"i8*")},o.PageIsValid=function(e){var t=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_PageIsValid(e,t)),0!==Module.getValue(t,"i8")},o.PageGetIndex=function(e){var t=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_PageGetIndex(e,t)),Module.getValue(t,"i32")},o.ObjGetAsPDFText=function(e){var t=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_ObjGetAsPDFText(e,t)),e=Module.getValue(t,"i8*"),Module.GetJSStringFromUString(e)},o.ObjFindObj=function(e,t){var o=Module.allocate(4,"i8",Module.ALLOC_STACK);return t=Module.allocate(Module.intArrayFromString(t),"i8",Module.ALLOC_STACK),REX(Module._TRN_ObjFindObj(e,t,o)),Module.getValue(o,"i8*")},o.PDFDocGetFirstBookmark=function(e){var t=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_PDFDocGetFirstBookmark(e,t)),Module.getValue(t,"i8*")},o.DestinationGetExplicitDestObj=function(e){var t=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_DestinationGetExplicitDestObj(e,t)),Module.getValue(t,"i8*")},o.DestinationGetFitType=function(e){var t=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_DestinationGetFitType(e,t)),Module.getValue(t,"i32")},o.ObjIsNumber=function(e){var t=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_ObjIsNumber(e,t)),0!==Module.getValue(t,"i8")},o.ObjGetNumber=function(e){var t=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_ObjGetNumber(e,t)),Module.getValue(t,"double")},o.PDFDocGetRoot=function(e){var t=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_PDFDocGetRoot(e,t)),Module.getValue(t,"i8*")},o.ObjPutName=function(e,t,o){t=Module.allocate(Module.intArrayFromString(t),"i8",Module.ALLOC_STACK),o=Module.allocate(Module.intArrayFromString(o),"i8",Module.ALLOC_STACK);var n=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_ObjPutName(e,t,o,n)),Module.getValue(n,"i8*")},o.ObjPutDict=function(e,t){t=Module.allocate(Module.intArrayFromString(t),"i8",Module.ALLOC_STACK);var o=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_ObjPutDict(e,t,o)),Module.getValue(o,"i8*")},o.ObjPutString=function(e,t,o){t=Module.allocate(Module.intArrayFromString(t),"i8",Module.ALLOC_STACK),o=Module.allocate(Module.intArrayFromString(o),"i8",Module.ALLOC_STACK);var n=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_ObjPutString(e,t,o,n)),Module.getValue(n,"i8*")},o.ObjPut=function(e,t,o){t=Module.allocate(Module.intArrayFromString(t),"i8",Module.ALLOC_STACK);var n=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_ObjPut(e,t,o,n)),Module.getValue(n,"i8*")},o.ObjGetAt=function(e,t){var o=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_ObjGetAt(e,t,o)),Module.getValue(o,"i8*")},o.Matrix2DInverse=function(e){var t=Module.allocate(48,"i8",Module.ALLOC_STACK);return REX(Module._TRN_Matrix2DInverse(e,t)),t},o.PDFDocInitSecurityHandler=function(e){var t=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_PDFDocInitSecurityHandler(e,0,t)),0!==Module.getValue(t,"i8")},o.PDFDocSetSecurityHandler=function(e,t){REX(Module._TRN_PDFDocSetSecurityHandler(e,t))},o.SecurityHandlerCreate=function(e){var t=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_SecurityHandlerCreate(e,t)),Module.getValue(t,"i8*")},o.SecurityHandlerChangeUserPasswordUString=function(e,t){REX(Module._TRN_SecurityHandlerChangeUserPasswordUString(e,Module.GetUStringFromJSString(t)))},o.PDFDocInitStdSecurityHandler=function(e,t){var o=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_PDFDocInitStdSecurityHandlerUString(e,Module.GetUStringFromJSString(t),o)),0!==Module.getValue(o,"i8")},o.PDFDocInsertPages=function(e,t,o,n,r){REX(Module._TRN_PDFDocInsertPageSet(e,t,o,n,r?1:0,0))},o.PDFDocMovePages=function(e,t,o){REX(Module._TRN_PDFDocMovePageSet(e,t,e,o,0,0))},o.PDFDocGetPageIterator=function(e,t){var o=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_PDFDocGetPageIterator(e,t,o)),Module.getValue(o,"i8*")},o.PDFDocPageRemove=function(e,t){REX(Module._TRN_PDFDocPageRemove(e,t))},o.PDFDocPageCreate=function(e,t,o){var n=Module.allocate(40,"i8",Module.ALLOC_STACK);return Module.setValue(n,0,"double"),Module.setValue(n+8,0,"double"),Module.setValue(n+16,t,"double"),Module.setValue(n+24,o,"double"),Module.setValue(n+32,0,"double"),t=Module.allocate(4,"i8",Module.ALLOC_STACK),REX(Module._TRN_PDFDocPageCreate(e,n,t)),Module.getValue(t,"i8*")},o.PDFDocPageInsert=function(e,t,o){REX(Module._TRN_PDFDocPageInsert(e,t,o))},o.PageSetCreate=function(){var e=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_PageSetCreate(e)),Module.getValue(e,"i8*")},o.PageSetCreateRange=function(e,t){var o=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_PageSetCreateRange(o,e,t)),Module.getValue(o,"i8*")},o.PageSetAddPage=function(e,t){REX(Module._TRN_PageSetAddPage(e,t))},o.ElementBuilderCreate=function(){var e=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_ElementBuilderCreate(e)),Module.getValue(e,"i8*")},o.ElementBuilderDestroy=function(e){REX(Module._TRN_ElementBuilderDestroy(e))},o.ElementBuilderCreateImage=function(e,t,o,n,r,a){var i=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_ElementBuilderCreateImageScaled(e,t,o,n,r,a,i)),Module.getValue(i,"i8*")},o.ElementWriterCreate=function(){var e=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_ElementWriterCreate(e)),Module.getValue(e,"i8*")},o.ElementWriterDestroy=function(e){REX(Module._TRN_ElementWriterDestroy(e))},o.ElementWriterBegin=function(e,t){REX(Module._TRN_ElementWriterBeginOnPage(e,t,1,1,1,0))},o.ElementWriterWritePlacedElement=function(e,t){REX(Module._TRN_ElementWriterWritePlacedElement(e,t))},o.ElementWriterEnd=function(e){var t=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ElementWriterEnd(e,t))},o.ImageGetImageWidth=function(e){var t=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_ImageGetImageWidth(e,t)),Module.getValue(t,"i32")},o.ImageGetImageHeight=function(e){var t=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_ImageGetImageHeight(e,t)),Module.getValue(t,"i32")},o.ImageCreateFromMemory2=function(e,t,o){var n=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_ImageCreateFromMemory2(e,t,o,0,n)),Module.getValue(n,"i8*")},o.ImageCreateFromFile=function(e,t){var o=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_ImageCreateFromFile(e,t,0,o)),Module.getValue(o,"i8*")},o.PDFDocPagePushBack=function(e,t){REX(Module._TRN_PDFDocPagePushBack(e,t))},o.PDFDocHasOC=function(e){var t=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_PDFDocHasOC(e,t)),0!==Module.getValue(t,"i8")},o.PDFDocGetOCGConfig=function(e){var t=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_PDFDocGetOCGConfig(e,t)),Module.getValue(t,"i8*")},o.OCGContextCreate=function(e){var t=Module.allocate(4,"i8",Module.ALLOC_STACK);return REX(Module._TRN_OCGContextCreateFromConfig(e,t)),Module.getValue(t,"i8*")},o.UStringDestroy=function(e){REX(Module._TRN_UStringDestroy(e))},o.PDFDocFDFUpdate=function(e,t,o){if(o){for(var n=Object.keys(o),r=n.length,a=Module._malloc(8*r),i=0;i<r;++i){var u=8*i,l=n[i],s=Module.GetDoc(o[l]);l=Module.GetUStringFromJSString(l),Module.setValue(a+u,s,"i8*"),Module.setValue(a+u+4,l,"i8*")}REX(Module._TRN_PDFDocFDFUpdateAppearanceDocs(e,t,a,r))}else REX(Module._TRN_PDFDocFDFUpdate(e,t))},o.FDFDocDestroy=function(e){REX(Module._TRN_FDFDocDestroy(e))}}(r.Module)}).call(this,o(8).setImmediate)},function(e,t,o){function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}(function(e){e.SetupPDFNetFunctions=function(t){Module._IB_=[];for(var o,r=function e(t){if("object"===n(t)&&null!==t)if("undefined"!==typeof t.byteLength){var o=Module._IB_.length;Module._IB_[o]=new Uint8Array(t),t={handle:o,isArrayBufferRef:!0}}else Object.keys(t).forEach((function(o){t.hasOwnProperty(o)&&(t[o]=e(t[o]))}));return t},a=function e(t){return"object"===n(t)&&null!==t&&(t.buffer?t=t.buffer.slice(t.byteOffset,t.byteOffset+t.length):t.isArrayBufferRef?t=Module._IB_[t.handle].buffer:Object.keys(t).forEach((function(o){t.hasOwnProperty(o)&&(t[o]=e(t[o]))}))),t},i=Module._TRN_EMSCreateSharedWorkerInstance(),u=Module._TRN_EMSWorkerInstanceGetFunctionIterator(i),l=function(e,t){return new Promise((function(o,n){e=r(e);var u=e.docId;u=u?Module.GetDoc(u):0,(u=Module.EMSCallSharedFunction(i,t,u))?n({type:"PDFWorkerError",message:Module.GetErrToString(u)}):(n=Module.EMSGetLastResponse(i),n=a(n),o(n))}))};o=Module._TRN_EMSFunctionIteratorGetNextCommandName(u);)o=Module.GetJSStringFromCString(o),e.queue.onAsync(o,l);if(Module._TRN_EMSFunctionIteratorDestroy(u),Module._TRN_EMSCreatePDFNetWorkerInstance){var s={};u=function(e,o){t.on(e,o),s[e]=!0},Module.docPtrStringToIdMap={};var c=function(e){if(e in Module.docPtrStringToIdMap)return Module.docPtrStringToIdMap[e];throw Error("Couldn't find document ".concat(e))};e.queue.onAsync("PDFDoc.RequirePage",(function(e){return Module.RequirePage(c(e.docId),e.pageNum)})),u("pdfDocCreateFromBuffer",(function(e){e=Module.CreateDoc({type:"array",value:e.buf});var t=Module.GetDoc(e).toString(16);return Module.docPtrStringToIdMap[t]=e,t})),u("PDFDoc.destroy",(function(e){e=c(e.auto_dealloc_obj),Module.DeleteDoc(e)})),u("PDFDoc.saveMemoryBuffer",(function(e){var t=c(e.doc);return Module.SaveHelper(Module.GetDoc(t),t,e.flags).slice(0)})),u("pdfDocCreate",(function(){var e=Module.CreateDoc({type:"new"}),t=Module.GetDoc(e).toString(16);return Module.docPtrStringToIdMap[t]=e,t})),u("GetPDFDoc",(function(e){e=e.docId;var t=Module.GetDoc(e).toString(16);return Module.docPtrStringToIdMap[t]=e,t})),u("ExtractPDFNetLayersContext",(function(e){var t=e.layers;e=Module.GetDoc(e.docId);var o=0;return t?o=Module.EMSCreateUpdatedLayersContext(e,t):Module.PDFDocHasOC(e)&&(t=Module.PDFDocGetOCGConfig(e),o=Module.OCGContextCreate(t)),o.toString(16)}));var d=Module._TRN_EMSCreatePDFNetWorkerInstance();for(u=Module._TRN_EMSWorkerInstanceGetFunctionIterator(d),l=function(e){return new Promise((function(t,o){e=r(e);var n=Module.EMSCallPDFNetFunction(d,e);n?o(Module.GetErrToString(n)):(o=Module.EMSGetLastResponse(d),o=a(o),t(o))}))};o=Module._TRN_EMSFunctionIteratorGetNextCommandName(u);)o=Module.GetJSStringFromCString(o),s[o]||t.onAsync(o,l);Module._TRN_EMSFunctionIteratorDestroy(u)}}})(self)},function(e,t,o){e=o(7);var n=o.n(e),r=o(18),a=o(19),i=o(13),u=o(1),l=o(20);(function(e){var t=null;e.basePath="../";var o=function(){var t=e.pdfWorkerPath||"";e.workerBasePath&&(e.basePath=e.workerBasePath);var o=e.isFull,n=o?"full/":"lean/";e.useOptimizedWorker&&(n+=l.a);var r=e.wasmDisabled;Object(u.c)(),e.overriddenPdfWorkerPath&&(t=e.overriddenPdfWorkerPath,e.basePath="../",!Object(i.b)()||r)&&(t=""),e.basePath=e.externalPath?e.externalPath:e.basePath+"external/",Object(i.a)("".concat(t+n,"PDFNetC"),{"Wasm.wasm":o?1e7:4e6,"Wasm.js.mem":1e5,".js.mem":12e6,".mem":o?2e6:6e5},r)};e.EmscriptenPDFManager=function(){},e.EmscriptenPDFManager.prototype={OnInitialized:function(e){Module.loaded?e():(Module.initCb=function(){e()},Object(u.b)("worker","PDFNet is not initialized yet!"))},NewDoc:function(e,t){return new Promise((function(o,n){try{o(Module.loadDoc(e,t))}catch(r){n(r)}}))},Initialize:function(t,n,r,a){t&&(Module.TOTAL_MEMORY=t),Module.memoryInitializerPrefixURL=n,Module.asmjsPrefix=r,e.basePath=a,o()},shouldRunRender:function(e){return Module.ShouldRunRender(e.docId,e.pageIndex+1)}};var s={setup:function(o){function a(o){var n=o.data,r=o.action,a="GetCanvas"!==r&&"GetCanvasPartial"!==r||d.shouldRunRender(n);if(a){t=o;var i=o.asyncCallCapability;Object(u.b)("Memory","Worker running command: ".concat(r)),c.actionMap[r](n,o).then((function(e){"BeginOperation"!==t.action&&(t=null),i.resolve(e)}),(function(e){t=null,i.reject(e)}))}else e.deferredQueue.queue(o),s()}function i(e){return e.asyncCallCapability=createPromiseCapability(),t||c.length?c.queue(e):a(e),e.asyncCallCapability.promise}function l(t){if(self.shouldResize&&d.Initialize(t.options.workerHeapSize,t.options.pdfResourcePath,t.options.pdfAsmPath,t.options.parentUrl),Module.chunkMax=t.options.chunkMax,t.array instanceof Uint8Array){var n=255===t.array[0];o.postMessageTransfers=n,"response"in new XMLHttpRequest?d.OnInitialized((function(){e.SetupPDFNetFunctions(o),p(),o.send("test",{supportTypedArray:!0,supportTransfers:n})})):o.send("test",!1)}else o.send("test",!1)}function s(){r.a.setImmediate((function(){if((!t||"BeginOperation"!==t.action)&&c.length&&!t){var e=c.dequeue();a(e)}}))}var c,d=new e.EmscriptenPDFManager,f=!1,h=!1;Module.workerMessageHandler=o;var p=function(){f?h||(o.send("workerLoaded",{}),h=!0):f=!0};d.OnInitialized(p),function(){e.queue=c=new n.a({strategy:n.a.ArrayStrategy,comparator:function(e,t){return e.priority===t.priority?e.callbackId-t.callbackId:t.priority-e.priority}}),e.deferredQueue=new n.a({strategy:n.a.ArrayStrategy,comparator:function(e,t){return e.priority===t.priority?e.callbackId-t.callbackId:t.priority-e.priority}}),c.actionMap={},c.onAsync=function(e,t){o.onAsync(e,i),c.actionMap[e]=t}}(),o.on("test",l),o.on("InitWorker",l);var M=function(e){t&&e(t)&&(Module.cancelCurrent(),t=null),c.removeAllMatching(e,(function(e){e.asyncCallCapability.reject({type:"Cancelled",message:"Operation was cancelled due to a change affecting the loaded document."})}))},g=function(e){M((function(t){return t.data&&t.data.docId===e}))};o.on("UpdatePassword",(function(e){return Module.UpdatePassword(e.docId,e.password)})),o.on("LoadRes",(function(e){return Module.loadResources(e.array,e.l),{}})),o.on("DownloaderHint",(function(e){Module.DownloaderHint(e.docId,e.hint)})),o.on("IsLinearized",(function(e){return Module.IsLinearizationValid(e.docId)})),o.onNextAsync(s),c.onAsync("NewDoc",(function(e){return d.NewDoc(e)})),c.onAsync("GetCanvas",(function(e){return Object(u.b)("workerdetails","Run GetCanvas PageIdx: ".concat(e.pageIndex," Width: ").concat(e.width)),Object(u.b)("Memory","loadCanvas with potential memory usage ".concat(e.width*e.height*8)),Module.loadCanvas(e.docId,e.pageIndex,e.width,e.height,e.rotation,null,e.layers,e.renderOptions)})),c.onAsync("GetCanvasPartial",(function(e){return Object(u.b)("Memory","GetCanvasPartial with potential memory usage ".concat(e.width*e.height*8)),Module.loadCanvas(e.docId,e.pageIndex,e.width,e.height,e.rotation,e.bbox,e.layers,e.renderOptions)})),c.onAsync("SaveDoc",(function(e){return Module.SaveDoc(e.docId,e.xfdfString,e.finishedWithDocument,e.printDocument,e.flags,e.watermarks,e.apdocs,e.password,e.encryptionAlgorithmType)})),c.onAsync("SaveDocFromFixedElements",(function(e){return Module.SaveDocFromFixedElements(e.bytes,e.xfdfString,e.flags,e.watermarks,e.password,e.encryptionAlgorithmType)})),c.onAsync("MergeXFDF",(function(e){return Module.MergeXFDF(e.docId,e.xfdf,e.apdocs)})),c.onAsync("InsertPages",(function(e){return Module.InsertPages(e.docId,e.doc,e.pageArray,e.destPos,e.insertBookmarks,e.skipUpdateEvent)})),c.onAsync("MovePages",(function(e){return Module.MovePages(e.docId,e.pageArray,e.destPos)})),c.onAsync("RemovePages",(function(e){return Module.RemovePages(e.docId,e.pageArray,e.skipUpdateEvent)})),c.onAsync("RotatePages",(function(e){return Module.RotatePages(e.docId,e.pageArray,e.rotation)})),c.onAsync("ExtractPages",(function(e){return Module.ExtractPages(e.docId,e.pageArray,e.xfdfString,e.watermarks,e.apdocs)})),c.onAsync("CropPages",(function(e){return Module.CropPages(e.docId,e.pageArray,e.topMargin,e.botMargin,e.leftMargin,e.rightMargin)})),c.onAsync("InsertBlankPages",(function(e){return Module.InsertBlankPages(e.docId,e.pageArray,e.width,e.height)})),c.onAsync("BeginOperation",(function(){return Promise.resolve()})),c.onAsync("RequirePage",(function(e,t){return Module.RequirePage(e.docId,e.pageNum)})),o.on("FinishOperation",(function(){if(!t||"BeginOperation"!==t.action)throw{message:"Operation has not started."};t=null,s()})),o.on("DeleteDocument",(function(e){e=e.docId,g(e),Module.DeleteDoc(e)})),o.on("GetCanvasProgressive",(function(o){if(t&&t.callbackId===o.callbackId){Object(u.b)("worker","Progressive request in progress");var n=Module.GetCurrentCanvasData(!0)}else{if(c.find({priority:0,callbackId:o.callbackId}))throw Object(u.b)("worker","Progressive request Queued"),{type:"Queued",message:"Rendering has not started yet."};if(e.deferredQueue.find({priority:0,callbackId:o.callbackId}))throw Object(u.b)("worker","Progressive request Deferred"),{type:"Queued",message:"Rendering has not started yet."}}if(!n)throw Object(u.b)("worker","Progressive request invalid (render already complete)"),{type:"Unavailable",message:"Rendering is complete or was cancelled."};return n})),o.on("actionCancel",(function(o){t&&t.callbackId===o.callbackId?(Object(u.b)("workerdetails","Cancelled Current Operation"),Module.cancelCurrent()&&(t=null,s())):(Object(u.b)("workerdetails","Cancelled queued operation"),c.remove({priority:0,callbackId:o.callbackId}),e.deferredQueue.remove({priority:0,callbackId:o.callbackId}))}))}};e.onmessage=function(t){if("init"===t.data.action){var n=t.data.shouldResize;e.shouldResize=n,e.isFull=t.data.isFull,e.wasmDisabled=!t.data.wasm,e.externalPath=t.data.externalPath,e.useOptimizedWorker=t.data.useOptimizedWorker,(t=t.data.pdfWorkerPath)&&(e.overriddenPdfWorkerPath=t),n||o(),n=new a.a("worker_processor",self),Object(u.a)(n),s.setup(n)}}})("undefined"===typeof window?self:window)}])}).call(this||window);