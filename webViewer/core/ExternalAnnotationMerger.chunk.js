(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[8],{398:function(t,e,n){n.r(e);var r,o=n(1),i=n(425),u=n(426);(function(t){t[t.EXTERNAL_XFDF_NOT_REQUESTED=0]="EXTERNAL_XFDF_NOT_REQUESTED",t[t.EXTERNAL_XFDF_NOT_AVAILABLE=1]="EXTERNAL_XFDF_NOT_AVAILABLE",t[t.EXTERNAL_XFDF_AVAILABLE=2]="EXTERNAL_XFDF_AVAILABLE"})(r||(r={})),t=function(){function t(t){this.aa=t,this.state=r.EXTERNAL_XFDF_NOT_REQUESTED}return t.prototype.e6=function(){var t=this;return function(e,n,i){return Object(o.b)(t,void 0,void 0,(function(){var t,u,l,a,c,s,f,h,p=this;return Object(o.d)(this,(function(o){switch(o.label){case 0:return this.state!==r.EXTERNAL_XFDF_NOT_REQUESTED?[3,2]:(t=this.aa.getDocument().kq(),[4,this.z4(t)]);case 1:u=o.ea(),l=this.d0(u),this.vE=null!==(h=null===l||void 0===l?void 0:l.parse())&&void 0!==h?h:null,this.state=null===this.vE?r.EXTERNAL_XFDF_NOT_AVAILABLE:r.EXTERNAL_XFDF_AVAILABLE,o.label=2;case 2:return this.state===r.EXTERNAL_XFDF_NOT_AVAILABLE?(i(e),[2]):(a=new DOMParser,c=a.parseFromString(e,"text/xml"),n.forEach((function(t){p.merge(c,p.vE,t-1)})),s=new XMLSerializer,f=s.serializeToString(c),i(f),[2])}}))}))}},t.prototype.GH=function(t){this.z4=t},t.prototype.Zd=function(){this.vE=void 0,this.state=r.EXTERNAL_XFDF_NOT_REQUESTED},t.prototype.d0=function(t){return t?Array.isArray(t)?new i.a(t):"string"!==typeof t?null:(new DOMParser).parseFromString(t,"text/xml").querySelector("xfdf > add")?new i.a(t):new u.a(t):null},t.prototype.merge=function(t,e,n){var r=this;0===n&&(this.t8(t,e.qn),this.v8(t,e.hE));var o=e.ca[n];if(o&&(this.w8(t,o.xl),this.y8(t,o.yU,e.It),this.x8(t,o.page,n),this.u8(t,o.FM)),o=this.aa.Gb(),n===o-1){var i=e.It;Object.keys(i).forEach((function(e){i[e].AF||r.bQ(t,e,i[e])}))}},t.prototype.t8=function(t,e){null!==e&&(t=this.Us(t),this.Do(t,"calculation-order",e))},t.prototype.v8=function(t,e){null!==e&&(t=this.Us(t),this.Do(t,"document-actions",e))},t.prototype.w8=function(t,e){var n=this,r=this.Ts(t.querySelector("xfdf"),"annots");Object.keys(e).forEach((function(t){n.Do(r,'[name="'+t+'"]',e[t])}))},t.prototype.y8=function(t,e,n){var r=this;if(0!==e.length){var o=this.Us(t);e.forEach((function(e){var i=e.getAttribute("field"),u=n[i];u&&(r.bQ(t,i,u),r.Do(o,"null",e))}))}},t.prototype.bQ=function(t,e,n){var r=this.Us(t);null!==n.Qy&&this.Do(r,'ffield [name="'+e+'"]',n.Qy),t=this.Ts(t.querySelector("xfdf"),"fields"),e=e.split("."),this.ZG(t,e,0,n.value),n.AF=!0},t.prototype.x8=function(t,e,n){null!==e&&(t=this.Us(t),t=this.Ts(t,"pages"),this.Do(t,'[number="'+(n+1)+'"]',e))},t.prototype.u8=function(t,e){Object.keys(e).forEach((function(e){(e=t.querySelector('annots [name="'+e+'"]'))&&e.parentElement.removeChild(e)}))},t.prototype.ZG=function(t,e,n,r){if(n===e.length)e=document.createElementNS("","value"),e.textContent=r,this.Do(t,"value",e);else{var o=e[n];this.Ts(t,'[name="'+o+'"]',"field").setAttribute("name",o),t=t.querySelectorAll('[name="'+o+'"]'),1===t.length?this.ZG(t[0],e,n+1,r):(o=this.l3(t),this.ZG(n===e.length-1?o:this.tda(t,o),e,n+1,r))}},t.prototype.l3=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n];if(0===r.childElementCount||1===r.childElementCount&&"value"===r.children[0].tagName){e=r;break}}return e},t.prototype.tda=function(t,e){for(var n=0;n<t.length;n++)if(t[n]!==e)return t[n];return null},t.prototype.Do=function(t,e,n){e=t.querySelector(e),null!==e&&t.removeChild(e),t.appendChild(n)},t.prototype.Us=function(t){var e=t.querySelector("pdf-info");return null!==e||(e=this.Ts(t.querySelector("xfdf"),"pdf-info"),e.setAttribute("xmlns","http://www.pdftron.com/pdfinfo"),e.setAttribute("version","2"),e.setAttribute("import-version","4")),e},t.prototype.Ts=function(t,e,n){var r=t.querySelector(e);return null!==r||(r=document.createElementNS("",n||e),t.appendChild(r)),r},t}(),e["default"]=t},411:function(t,e){t=function(){function t(){}return t.prototype.Cx=function(t){var e={qn:null,hE:null,It:{},ca:{}};return t=(new DOMParser).parseFromString(t,"text/xml"),e.qn=t.querySelector("pdf-info calculation-order"),e.hE=t.querySelector("pdf-info document-actions"),e.It=this.s9(t),e.ca=this.E9(t),e},t.prototype.s9=function(t){var e=t.querySelector("fields");if(t=t.querySelectorAll("pdf-info > ffield"),null===e&&null===t)return{};var n={};return this.XY(n,e),this.UY(n,t),n},t.prototype.XY=function(t,e){if(null!==e&&e.children){for(var n=[],r=0;r<e.children.length;r++){var o=e.children[r];n.push({name:o.getAttribute("name"),element:o})}for(;0!==n.length;)for(e=n.shift(),r=0;r<e.element.children.length;r++)o=e.element.children[r],"value"===o.tagName?t[e.name]={value:o.textContent,Qy:null,AF:!1}:o.children&&n.push({name:e.name+"."+o.getAttribute("name"),element:o})}},t.prototype.UY=function(t,e){e.forEach((function(e){var n=e.getAttribute("name");t[n]?t[n].Qy=e:t[n]={value:null,Qy:e,AF:!1}}))},t.prototype.E9=function(t){var e=this,n={};return t.querySelectorAll("pdf-info widget").forEach((function(t){var r=parseInt(t.getAttribute("page"),10)-1;e.Lz(n,r),n[r].yU.push(t)})),t.querySelectorAll("pdf-info page").forEach((function(t){var r=parseInt(t.getAttribute("number"),10)-1;e.Lz(n,r),n[r].page=t})),this.jO(t).forEach((function(t){var r=parseInt(t.getAttribute("page"),10),o=t.getAttribute("name");e.Lz(n,r),n[r].xl[o]=t})),this.VN(t).forEach((function(t){var r=parseInt(t.getAttribute("page"),10);t=t.textContent,e.Lz(n,r),n[r].FM[t]=!0})),n},t.prototype.Lz=function(t,e){t[e]||(t[e]={xl:{},FM:{},yU:[],page:null})},t}(),e.a=t},425:function(t,e,n){var r=n(1),o=n(0);n.n(o),t=function(t){function e(e){var n=t.call(this)||this;return n.Y2=Array.isArray(e)?e:[e],n}return Object(r.c)(e,t),e.prototype.parse=function(){var t=this,e={qn:null,hE:null,It:{},ca:{}};return this.Y2.forEach((function(n){e=Object(o.merge)(e,t.Cx(n))})),e},e.prototype.jO=function(t){var e=[];return t.querySelectorAll("add > *").forEach((function(t){e.push(t)})),t.querySelectorAll("modify > *").forEach((function(t){e.push(t)})),e},e.prototype.VN=function(t){return t.querySelectorAll("delete > *")},e}(n(411).a),e.a=t},426:function(t,e,n){var r=n(1);t=function(t){function e(e){var n=t.call(this)||this;return n.Z2=e,n}return Object(r.c)(e,t),e.prototype.parse=function(){return this.Cx(this.Z2)},e.prototype.jO=function(t){return t.querySelectorAll("annots > *")},e.prototype.VN=function(){return[]},e}(n(411).a),e.a=t}}])}).call(this||window);