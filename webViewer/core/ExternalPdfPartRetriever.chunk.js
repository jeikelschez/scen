(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[8],{439:function(e,t,r){r.r(t);var n=r(1);e=r(49);var i=r(166),s=r(374),a=r(231),o=window;r=function(){function e(e,t){this.jV=function(e){return e=e.split("."),e[e.length-1].match(/(jpg|jpeg|png|gif)$/i)},t=t||{},this.url=e,this.filename=t.filename||e,this.df=t.customHeaders,this.Pma=!!t.useDownloader,this.withCredentials=!!t.withCredentials}return e.prototype.DE=function(e){this.df=e},e.prototype.getCustomHeaders=function(){return this.df},e.prototype.getFileData=function(t){var r=this,s=this,o=new XMLHttpRequest,u=0===this.url.indexOf("blob:")?"blob":"arraybuffer";o.open("GET",this.url,!0),o.withCredentials=this.withCredentials,o.responseType=u,this.df&&Object.keys(this.df).forEach((function(e){o.setRequestHeader(e,r.df[e])}));var l=/^https?:/i.test(this.url);o.addEventListener("load",(function(r){return Object(n.b)(this,void 0,void 0,(function(){var o,u,c,d,f,h;return Object(n.d)(this,(function(n){switch(n.label){case 0:return 200===this.status||!l&&0===this.status?(s.trigger(e.Events.DOCUMENT_LOADING_PROGRESS,[r.loaded,r.loaded]),"blob"!==this.responseType?[3,4]:(o=this.response,s.jV(s.filename)?[4,Object(a.b)(o)]:[3,2])):[3,10];case 1:return u=n.ea(),s.fileSize=u.byteLength,t(new Uint8Array(u)),[3,3];case 2:c=new FileReader,c.onload=function(e){e=new Uint8Array(e.target.result),s.fileSize=e.length,t(e)},c.readAsArrayBuffer(o),n.label=3;case 3:return[3,9];case 4:return n.yg.push([4,8,,9]),d=new Uint8Array(this.response),s.jV(s.filename)?(o=new Blob([d.buffer]),[4,Object(a.b)(o)]):[3,6];case 5:return u=n.ea(),s.fileSize=u.byteLength,t(new Uint8Array(u)),[3,7];case 6:s.fileSize=d.length,t(d),n.label=7;case 7:return[3,9];case 8:return n.ea(),s.trigger(e.Events.ERROR,["pdfLoad","Out of memory"]),[3,9];case 9:return[3,11];case 10:f=r.currentTarget,h=Object(i.b)(f),s.trigger(e.Events.ERROR,["pdfLoad",this.status+" "+f.statusText,h]),n.label=11;case 11:return s.cz=null,[2]}}))}))}),!1),o.onprogress=function(t){s.trigger(e.Events.DOCUMENT_LOADING_PROGRESS,[t.loaded,0<t.total?t.total:0])},o.addEventListener("error",(function(){s.trigger(e.Events.ERROR,["pdfLoad","Network failure"]),s.cz=null}),!1),o.send(),this.cz=o},e.prototype.getFile=function(){var e=this;return new Promise((function(t){if(o.utils.isJSWorker&&t(e.url),e.Pma){var r=Object(n.a)({url:e.url},e.df?{customHeaders:e.df}:{});t(r)}t(null)}))},e.prototype.abort=function(){this.cz&&(this.cz.abort(),this.cz=null)},e.Events={DOCUMENT_LOADING_PROGRESS:"documentLoadingProgress",ERROR:"error"},e}(),Object(e.a)(r),Object(s.a)(r),Object(s.b)(r),t["default"]=r}}])}).call(this||window);