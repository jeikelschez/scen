(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[9],{390:function(e,t,r){r.r(t);var n=r(1);e=r(48);var i=r(142),s=r(315),a=r(404),o=window;r=function(){function e(e,t){this.qP=function(e){return e=e.split("."),e[e.length-1].match(/(jpg|jpeg|png|gif)$/i)},t=t||{},this.url=e,this.filename=t.filename||e,this.ze=t.customHeaders,this.Xda=!!t.useDownloader,this.withCredentials=!!t.withCredentials}return e.prototype.jB=function(e){this.ze=e},e.prototype.getCustomHeaders=function(){return this.ze},e.prototype.getFileData=function(t){var r=this,s=this,o=new XMLHttpRequest,u=0===this.url.indexOf("blob:")?"blob":"arraybuffer";o.open("GET",this.url,!0),o.withCredentials=this.withCredentials,o.responseType=u,this.ze&&Object.keys(this.ze).forEach((function(e){o.setRequestHeader(e,r.ze[e])}));var l=/^https?:/i.test(this.url);o.addEventListener("load",(function(r){return Object(n.b)(this,void 0,void 0,(function(){var o,u,h,c,d,f;return Object(n.d)(this,(function(n){switch(n.label){case 0:return 200===this.status||!l&&0===this.status?(s.trigger(e.Events.DOCUMENT_LOADING_PROGRESS,[r.loaded,r.loaded]),"blob"!==this.responseType?[3,4]:(o=this.response,s.qP(s.filename)?[4,Object(a.a)(o)]:[3,2])):[3,10];case 1:return u=n.ea(),s.fileSize=u.byteLength,t(new Uint8Array(u)),[3,3];case 2:h=new FileReader,h.onload=function(e){e=new Uint8Array(e.target.result),s.fileSize=e.length,t(e)},h.readAsArrayBuffer(o),n.label=3;case 3:return[3,9];case 4:return n.Hf.push([4,8,,9]),c=new Uint8Array(this.response),s.qP(s.filename)?(o=new Blob([c.buffer]),[4,Object(a.a)(o)]):[3,6];case 5:return u=n.ea(),s.fileSize=u.byteLength,t(new Uint8Array(u)),[3,7];case 6:s.fileSize=c.length,t(c),n.label=7;case 7:return[3,9];case 8:return n.ea(),s.trigger(e.Events.ERROR,["pdfLoad","Out of memory"]),[3,9];case 9:return[3,11];case 10:d=r.currentTarget,f=Object(i.b)(d),s.trigger(e.Events.ERROR,["pdfLoad",this.status+" "+d.statusText,f]),n.label=11;case 11:return s.hw=null,[2]}}))}))}),!1),o.onprogress=function(t){s.trigger(e.Events.DOCUMENT_LOADING_PROGRESS,[t.loaded,0<t.total?t.total:0])},o.addEventListener("error",(function(){s.trigger(e.Events.ERROR,["pdfLoad","Network failure"]),s.hw=null}),!1),o.send(),this.hw=o},e.prototype.getFile=function(){var e=this;return new Promise((function(t){if(o.utils.isJSWorker&&t(e.url),e.Xda){var r=Object(n.a)({url:e.url},e.ze?{customHeaders:e.ze}:{});t(r)}t(null)}))},e.prototype.abort=function(){this.hw&&(this.hw.abort(),this.hw=null)},e.Events={DOCUMENT_LOADING_PROGRESS:"documentLoadingProgress",ERROR:"error"},e}(),Object(e.a)(r),Object(s.a)(r),Object(s.b)(r),t["default"]=r}}])}).call(this||window);