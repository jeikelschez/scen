"use strict";(globalThis["webpackChunktest"]=globalThis["webpackChunktest"]||[]).push([[396],{3759:(e,t,s)=>{function r(e,t,s,r,i,o){return null}s.d(t,{Z:()=>u});var i=s(589),o=s(5474),a=s(8825);const n={setup(){const e=(0,a.Z)();return{errorDelServidor(){this.$emit("resetLoading"),e.notify({message:this.error,color:"red"})},añadidoConExito(){e.notify({message:"Agregado exitosamente",color:"green"})},editadoConExito(){e.notify({message:"Editado exitosamente",color:"green"})},eliminadoConExito(){e.notify({message:"Eliminado exitosamente",color:"green"})}}},methods:{getData:function(e,t,s,r={headers:{}}){r.headers.Authorization=`Bearer ${i.Z.getItem("token")}`,o.api.get(e,r).then((e=>{this.$emit(t,e.data,s)})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor(),this.$emit("resetLoading")}))},createData:function(e,t,s,r={headers:{}}){r.headers.Authorization=`Bearer ${i.Z.getItem("token")}`,o.api.post(e,t,r).then((e=>{(e.status=200)&&(this.$emit(s),this.añadidoConExito())})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor(),this.$emit("resetLoading")}))},putData:function(e,t,s,r={headers:{}}){r.headers.Authorization=`Bearer ${i.Z.getItem("token")}`,o.api.put(e,t,r).then((e=>{(e.status=200)&&(this.$emit(s),this.editadoConExito())})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor()}))},deleteData:function(e,t,s={headers:{}}){s.headers.Authorization=`Bearer ${i.Z.getItem("token")}`,o.api.delete(e,s).then((e=>{(e.status=200)&&(this.$emit(t),this.eliminadoConExito())})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor(),this.$emit("resetLoading")}))},login:function(e,t,s,r={headers:{}}){r.headers.Authorization=`Bearer ${i.Z.getItem("token")}`,o.api.post(e,t,r).then((e=>{(e.status=200)&&this.$emit(s,e.data)})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor()}))}}};var l=s(4260);const d=(0,l.Z)(n,[["render",r]]),u=d},396:(e,t,s)=>{s.r(t),s.d(t,{default:()=>W});var r=s(3673);const i={class:"fix-center text-center",style:{"min-width":"320px"}},o={class:"column"},a={class:"col q-gutter-md"},n=(0,r._)("div",{class:"q-pa-lg"},null,-1),l={class:"col q-gutter-md"};function d(e,t,s,d,u,m){const c=(0,r.up)("q-img"),h=(0,r.up)("q-icon"),p=(0,r.up)("q-input"),g=(0,r.up)("q-btn"),f=(0,r.up)("q-form"),w=(0,r.up)("q-page"),y=(0,r.up)("q-page-container"),b=(0,r.up)("q-layout");return(0,r.wg)(),(0,r.j4)(b,null,{default:(0,r.w5)((()=>[(0,r.Wm)(y,null,{default:(0,r.w5)((()=>[(0,r.Wm)(w,{class:"login"},{default:(0,r.w5)((()=>[(0,r._)("div",i,[(0,r.Wm)(f,{class:"q-gutter-md",onSubmit:m.onSubmit},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{src:"images/logo_rcs.png"}),(0,r._)("div",o,[(0,r._)("div",a,[(0,r.Wm)(p,{required:"",dense:"","bg-color":"white",filled:"",outlined:"",modelValue:u.email,"onUpdate:modelValue":t[0]||(t[0]=e=>u.email=e),disable:!0,label:"Correo electrónico",style:{"margin-top":"40px"}},{prepend:(0,r.w5)((()=>[(0,r.Wm)(h,{name:"perm_identity"})])),_:1},8,["modelValue"]),(0,r.Wm)(p,{color:"blue",dense:"","bg-color":"white",filled:"",modelValue:u.password,"onUpdate:modelValue":t[2]||(t[2]=e=>u.password=e),label:"Contraseña",type:u.isPwd?"password":"text",rules:[e=>!!e&&e.length>5||""],style:{"margin-bottom":"-20px"}},{prepend:(0,r.w5)((()=>[(0,r.Wm)(h,{name:"screen_lock_landscape"})])),append:(0,r.w5)((()=>[(0,r.Wm)(h,{name:u.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:t[1]||(t[1]=e=>u.isPwd=!u.isPwd)},null,8,["name"])])),_:1},8,["modelValue","type","rules"]),(0,r.Wm)(p,{color:"blue",dense:"","bg-color":"white",filled:"",modelValue:u.confirm,"onUpdate:modelValue":t[4]||(t[4]=e=>u.confirm=e),label:"Confirmar Contraseña",type:u.isPwd?"password":"text",rules:[e=>!!e&&e===this.password||""]},{prepend:(0,r.w5)((()=>[(0,r.Wm)(h,{name:"screen_lock_landscape"})])),append:(0,r.w5)((()=>[(0,r.Wm)(h,{name:u.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:t[3]||(t[3]=e=>u.isPwd=!u.isPwd)},null,8,["name"])])),_:1},8,["modelValue","type","rules"])]),n,(0,r._)("div",l,[(0,r.Wm)(g,{glossy:"",label:"Confirmar",type:"submit"})])])])),_:1},8,["onSubmit"])])])),_:1})])),_:1})])),_:1})}var u=s(8825),m=s(5474),c=s(4276),h=s(6455),p=s(3759);const g={components:{"user-logout":h.Z,methods:p.Z},name:"login_user",data(){return{routes:[],email:"",password:"",confirm:"",cliente:"",isPwd:!0,remember:!0,axiosConfig:{headers:{Authorization:""}}}},setup(){(0,u.Z)();return{}},mounted(){this.cliente=this.$router.currentRoute._value.query.cliente,this.email=(0,c.Jx)(this.$router.currentRoute._value.query.email),this.verifyUser()},methods:{async onSubmit(){let e={};e.cod_cliente=this.cliente,e.email=this.email,e.password=this.password,e.estatus="1",await m.api.post("/cusuarios",e,{}).then((()=>{m.api.get("cusuarios/send-confirm",{headers:{address:this.email,client:this.cliente,password:this.password}}),this.$router.push("/userCreated")})).catch((()=>{this.$q.notify({message:"Error del Sistema. Problemas al actualizar datos del Usuario. Comuníquese con el proveedor del Sistemas...",color:"red"})}))},verifyUser(){m.api.get(`clientes/verify/${this.cliente}`,{}).catch((e=>{this.$router.push("/errorVerify")})),m.api.get("cusuarios/verify",{headers:{email:this.email,cliente:this.cliente}}).then((e=>{e.data>0&&this.$router.push("/errorVerify")}))}}};var f=s(4260),w=s(3066),y=s(2652),b=s(4379),v=s(8689),_=s(4027),$=s(4689),Z=s(4554),C=s(8240),x=s(7518),q=s.n(x);const k=(0,f.Z)(g,[["render",d]]),W=k;q()(g,"components",{QLayout:w.Z,QPageContainer:y.Z,QPage:b.Z,QForm:v.Z,QImg:_.Z,QInput:$.Z,QIcon:Z.Z,QBtn:C.Z})}}]);