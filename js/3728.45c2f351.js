"use strict";(self["webpackChunktest"]=self["webpackChunktest"]||[]).push([[3728],{3728:(e,l,o)=>{o.r(l),o.d(l,{default:()=>X});var s=o(3673),a=o(2323);const t={class:"row"},i={class:"col-md-5 col-xs-12"},r={class:"col-md-7 col-xs-12"},d={class:"full-width row justify-center items-center content-center",style:{"margin-bottom":"10px"}},c={class:"row"},n={class:"col-md-5 col-xs-12"},m={class:"col-md-7 col-xs-12"},u={class:"full-width row justify-center items-center content-center",style:{"margin-bottom":"10px"}},p={class:"row q-pa-sm justify-center"},g={class:"col-md-12 col-xl-12 col-lg-12 col-xs-12 col-sm-12"},f={class:"row"},h=(0,s._)("div",{class:"col-md-3 col-xl-3 col-lg-3 col-xs-12 col-sm-12",style:{"align-self":"center","text-align":"center"}},[(0,s._)("h4",{style:{"font-size":"30px"}},"Seguridad - Roles")],-1),w={class:"col-md-3 col-xl-3 col-lg-3 col-xs-12 col-sm-5 inputestadospc",style:{"align-self":"center","text-align":"center","margin-right":"16px"}},_={class:"col-md-3 col-xl-3 col-lg-3 col-xs-12 col-sm-6 inputestadospc2",style:{"align-self":"center","text-align":"center","margin-right":"16px"}},b={class:"col-md-2 col-xl-2 col-lg-2 col-xs-12 col-sm-12",style:{"text-align":"center","align-self":"center"}},R={class:"q-pa-md",style:{"margin-top":"20px"}},D={class:"q-gutter-y-md"},y={bordered:"",flat:"",class:"my-card row"},x=(0,s._)("div",{class:"text-h5",style:{"font-size":"18px"}}," ¿Estas seguro que quieres eliminar este elemento? ",-1);function v(e,l,o,v,C,E){const W=(0,s.up)("q-icon"),q=(0,s.up)("q-input"),k=(0,s.up)("q-select"),V=(0,s.up)("q-btn"),Z=(0,s.up)("q-form"),A=(0,s.up)("q-card-section"),Q=(0,s.up)("q-card"),F=(0,s.up)("q-dialog"),U=(0,s.up)("q-td"),S=(0,s.up)("q-item-label"),$=(0,s.up)("q-item-section"),z=(0,s.up)("q-chip"),I=(0,s.up)("q-item"),j=(0,s.up)("q-list"),H=(0,s.up)("q-table"),P=(0,s.up)("q-card-actions"),B=(0,s.up)("user-logout"),L=(0,s.up)("q-page"),T=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(L,{class:"q-pa-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(F,{modelValue:v.rolesForm,"onUpdate:modelValue":l[4]||(l[4]=e=>v.rolesForm=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(Q,{class:"q-pa-md",bordered:"",style:{width:"999px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(A,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Z,{onSubmit:l[3]||(l[3]=e=>E.createDataRoles()),class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s._)("div",t,[(0,s._)("div",i,[(0,s.Wm)(q,{outlined:"",modelValue:C.formRoles.descripcion,"onUpdate:modelValue":[l[0]||(l[0]=e=>C.formRoles.descripcion=e),l[1]||(l[1]=e=>C.formRoles.descripcion=C.formRoles.descripcion.toUpperCase())],label:"Descripcion",hint:"",class:"pcform","lazy-rules":"",rules:v.reglasDescripcion},{prepend:(0,s.w5)((()=>[(0,s.Wm)(W,{name:"south_america"})])),_:1},8,["modelValue","rules"])]),(0,s._)("div",r,[(0,s.Wm)(k,{outlined:"",modelValue:C.formRoles.cod_agencia,"onUpdate:modelValue":l[2]||(l[2]=e=>C.formRoles.cod_agencia=e),label:"Agencia",hint:"",rules:[E.reglasInputs],options:C.agencias,"option-label":"nb_agencia","option-value":"id","lazy-rules":""},{prepend:(0,s.w5)((()=>[(0,s.Wm)(W,{name:"south_america"})])),_:1},8,["modelValue","rules","options"])])]),(0,s._)("div",d,[(0,s.Wm)(V,{label:"Agregar Rol",type:"submit",color:"primary",class:"col-md-5 col-sm-5 col-xs-12",icon:"person_add"}),(0,s.wy)((0,s.Wm)(V,{label:"Cerrar",color:"primary",flat:"",class:"col-md-5 col-sm-5 col-xs-12 btnmovil",icon:"close"},null,512),[[T]])])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(F,{modelValue:v.rolesFormEdit,"onUpdate:modelValue":l[9]||(l[9]=e=>v.rolesFormEdit=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(Q,{class:"q-pa-md",bordered:"",style:{width:"999px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(A,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Z,{onSubmit:l[8]||(l[8]=e=>E.putDataRoles())},{default:(0,s.w5)((()=>[(0,s._)("div",c,[(0,s._)("div",n,[(0,s.Wm)(q,{outlined:"",modelValue:C.formEditRoles.descripcion,"onUpdate:modelValue":[l[5]||(l[5]=e=>C.formEditRoles.descripcion=e),l[6]||(l[6]=e=>C.formEditRoles.descripcion=C.formEditRoles.descripcion.toUpperCase())],label:"Descripción",hint:"",class:"pcform","lazy-rules":"",rules:v.reglasDescripcion},{prepend:(0,s.w5)((()=>[(0,s.Wm)(W,{name:"south_america"})])),_:1},8,["modelValue","rules"])]),(0,s._)("div",m,[(0,s.Wm)(k,{outlined:"",modelValue:C.formEditRoles.cod_agencia,"onUpdate:modelValue":l[7]||(l[7]=e=>C.formEditRoles.cod_agencia=e),label:"Agencia",hint:"",rules:[E.reglasInputs],options:C.agencias,"option-label":"nb_agencia","option-value":"id","lazy-rules":""},{prepend:(0,s.w5)((()=>[(0,s.Wm)(W,{name:"south_america"})])),_:1},8,["modelValue","rules","options"])])]),(0,s._)("div",u,[(0,s.Wm)(V,{label:"Editar Rol",type:"submit",color:"primary",class:"col-md-5 col-sm-5 col-xs-12",icon:"person_add"}),(0,s.wy)((0,s.Wm)(V,{label:"Cerrar",color:"primary",flat:"",class:"col-md-5 col-sm-5 col-xs-12 btnmovil",icon:"close"},null,512),[[T]])])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s._)("div",p,[(0,s._)("div",g,[(0,s._)("div",f,[h,(0,s._)("div",w,[(0,s.Wm)(k,{rounded:"","transition-show":"flip-up","transition-hide":"flip-down",options:C.agencias,"option-label":"nb_agencia","option-value":"id",modelValue:C.selectedAgencia,"onUpdate:modelValue":[l[10]||(l[10]=e=>C.selectedAgencia=e),l[11]||(l[11]=e=>E.getData(`/agencias/${this.selectedAgencia.id}/roles`,"setDataRoles","roles"))],outlined:"",standout:"",label:"Escoge una Agencia"},{prepend:(0,s.w5)((()=>[(0,s.Wm)(W,{name:"search"})])),_:1},8,["options","modelValue"])]),(0,s._)("div",_,[(0,s.Wm)(q,{rounded:"",outlined:"",standout:"",modelValue:v.filterRoles,"onUpdate:modelValue":l[12]||(l[12]=e=>v.filterRoles=e),type:"search",label:"Búsqueda avanzada"},{prepend:(0,s.w5)((()=>[(0,s.Wm)(W,{name:"search"})])),_:1},8,["modelValue"])]),(0,s._)("div",b,[(0,s.Wm)(V,{label:"Insertar",rounded:"",color:"primary",disabled:this.disabledCreate,onClick:l[13]||(l[13]=e=>v.rolesForm=!0),onClickCapture:l[14]||(l[14]=e=>E.resetFormRoles()),size:"16px",class:"q-px-xl q-py-xs insertarestadosmovil"},null,8,["disabled"])])]),(0,s._)("div",R,[(0,s._)("div",D,[(0,s._)("div",y,[(0,s.Wm)(H,{rows:C.roles,"row-key":"id",columns:C.columnsRoles,separator:v.separator,class:"my-sticky-column-table",filter:v.filterRoles,style:{width:"100%"},grid:e.$q.screen.xs,pagination:v.pagination,"onUpdate:pagination":l[17]||(l[17]=e=>v.pagination=e)},{"body-cell-action":(0,s.w5)((e=>[(0,s.Wm)(U,{props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(V,{dense:"",round:"",flat:"",color:"primary",icon:"edit",disabled:this.disabledEdit,onClick:l=>{E.getData(`/roles/${e.row.id}`,"setDataRolesEdit","formEditRoles"),v.rolesFormEdit=!0}},null,8,["disabled","onClick"]),(0,s.Wm)(V,{dense:"",round:"",flat:"",color:"primary",icon:"delete",disabled:this.disabledDelete,onClick:l=>C.selected=e.row.id,onClickCapture:l[15]||(l[15]=e=>v.rolesDelete=!0)},null,8,["disabled","onClick"])])),_:2},1032,["props"])])),item:(0,s.w5)((e=>[(0,s._)("div",{class:"q-pa-xs col-xs-12 col-sm-6 col-md-4 col-lg-3 grid-style-transition",style:(0,a.j5)(e.selected?"transform: scale(0.95);":"")},[(0,s.Wm)(Q,{class:(0,a.C_)(e.selected?"bg-grey-2":"")},{default:(0,s.w5)((()=>[(0,s.Wm)(j,{dense:""},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.cols,(o=>((0,s.wg)(),(0,s.j4)(I,{key:o.name},{default:(0,s.w5)((()=>[(0,s.Wm)($,null,{default:(0,s.w5)((()=>[(0,s.Wm)(S,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(o.label),1)])),_:2},1024)])),_:2},1024),(0,s.Wm)($,{side:""},{default:(0,s.w5)((()=>["status"===o.name?((0,s.wg)(),(0,s.j4)(z,{key:0,color:"Active"==e.row.status?"green":"Disable"==e.row.status?"red":"grey","text-color":"white",dense:"",class:"text-weight-bolder",square:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(o.value),1)])),_:2},1032,["color"])):"action"===o.name?((0,s.wg)(),(0,s.j4)(V,{key:1,dense:"",round:"",flat:"",color:"primary",icon:"edit",disabled:this.disabledEdit,onClick:l=>{E.getData(`/roles/${e.row.id}`,"setDataRolesEdit","formEditRoles"),v.rolesFormEdit=!0}},null,8,["disabled","onClick"])):(0,s.kq)("",!0),"status"===o.name?((0,s.wg)(),(0,s.j4)(z,{key:2,color:"Active"==e.row.status?"green":"Disable"==e.row.status?"red":"grey","text-color":"white",dense:"",class:"text-weight-bolder",square:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(o.value),1)])),_:2},1032,["color"])):"action"===o.name?((0,s.wg)(),(0,s.j4)(V,{key:3,dense:"",round:"",flat:"",color:"primary",icon:"delete",disabled:this.disabledDelete,onClick:l=>C.selected=e.row.id,onClickCapture:l[16]||(l[16]=e=>v.rolesDelete=!0)},null,8,["disabled","onClick"])):((0,s.wg)(),(0,s.j4)(S,{key:4,caption:"",class:(0,a.C_)(o.classes?o.classes:"")},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(o.value),1)])),_:2},1032,["class"]))])),_:2},1024)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1032,["class"])],4)])),_:1},8,["rows","columns","separator","filter","grid","pagination"])])])])])]),(0,s.Wm)(F,{modelValue:v.rolesDelete,"onUpdate:modelValue":l[19]||(l[19]=e=>v.rolesDelete=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(Q,{style:{width:"700px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(A,null,{default:(0,s.w5)((()=>[x])),_:1}),(0,s.Wm)(P,{align:"right"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(V,{flat:"",label:"Cancelar",color:"primary"},null,512),[[T]]),(0,s.wy)((0,s.Wm)(V,{flat:"",label:"Aceptar",color:"primary",onClick:l[18]||(l[18]=e=>E.deleteData(C.selected))},null,512),[[T]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(B,{ref:"component",onGetData:l[20]||(l[20]=e=>E.getData(`/agencias/${this.selectedAgencia.id}/roles`,"setDataRoles","roles")),onSetDataRoles:E.setDataRoles,onSetDataRolesEdit:E.setDataRolesEdit,onSetData:E.setData,onDesactivarCrudRoles:E.desactivarCrudRoles},null,8,["onSetDataRoles","onSetDataRolesEdit","onSetData","onDesactivarCrudRoles"])])),_:1})}var C=o(1959),E=o(8659),W=o(5474),q=o(8825),k=o(589);const V={components:{"user-logout":E.Z},name:"Bancos",data(){return{columnsRoles:[{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"descripcion",label:"Roles",field:"descripcion",align:"left",sortable:!0},{name:"action",label:"Acciones",align:"center",sortable:!0,required:!0}],formRoles:{descripcion:"",cod_agencia:[]},formEditRoles:{descripcion:"",id:"",cod_agencia:[]},agencias:[],roles:[],selected:[],selectedAgencia:[],agenciaRef:"",agenciaRef2:"",error:"",disabledCreate:!0,disabledEdit:!0,disabledDelete:!0}},setup(){const e=(0,q.Z)();(0,C.iH)({sortBy:"desc",descending:!1,page:2,control:0,rowsPerPage:4});return{axiosConfig:{headers:{Authorization:`Bearer ${k.Z.getItem("token")}`}},pagination:(0,C.iH)({rowsPerPage:10}),separator:(0,C.iH)("vertical"),rolesForm:(0,C.iH)(!1),rolesFormEdit:(0,C.iH)(!1),errorDelServidor(){e.notify({message:this.error,color:"red"})},añadidoConExito(){e.notify({message:"Agregado exitosamente",color:"green"})},editadoConExito(){e.notify({message:"Editado exitosamente",color:"green"})},eliminadoConExito(){e.notify({message:"Eliminado exitosamente",color:"green"})},rolesDelete:(0,C.iH)(!1),filterRoles:(0,C.iH)(""),reglasDescripcion:[e=>null!==e&&""!==e||"Por favor escribe algo",e=>e.length<30||"Deben ser máximo 30 caracteres",e=>e.length>2||"Deben ser minimo 3 caracteres"]}},mounted(){this.getData("/agencias","setData","agencias"),this.$refs.component.desactivarCrud("c_roles","d_roles","u_roles","desactivarCrudRoles")},methods:{reglasInputs(e){return null===e||""===e?"Debes Seleccionar Algo":void 0},desactivarCrudRoles(e,l,o){1==e&&(this.disabledCreate=!1),1==l&&(this.disabledDelete=!1),1==o&&(this.disabledEdit=!1)},getData(e,l,o){this.$refs.component.getData(e,l,o)},setData(e,l){this[l]=e,this.getDataIniciar()},setDataRoles(e,l){this[l]=e.roles},setDataRolesEdit(e,l){this[l].id=e.id,this[l].descripcion=e.descripcion,this[l].cod_agencia=this.selectedAgencia},deleteData(e){this.$refs.component.deleteData(`/roles/${e}`,"getData")},createDataRoles(){this.formRoles.cod_agencia=this.formRoles.cod_agencia.id,this.$refs.component.createData("/roles",this.formRoles,"getData"),this.resetFormRoles()},putDataRoles(){this.formEditRoles.cod_agencia=this.formEditRoles.cod_agencia.id,this.$refs.component.putData(`/roles/${this.formEditRoles.id}`,this.formEditRoles,"getData"),this.resetFormEditRoles()},resetFormRoles(){this.formRoles.descripcion="",this.formRoles.cod_agencia="",this.rolesForm=!1},resetFormEditRoles(){this.formEditRoles.descripcion=null,this.formEditRoles.cod_agencia=null,this.rolesFormEdit=!1},getDataIniciar(){this.agenciaRef2=this.agencias[0].id,this.selectedAgencia=this.agencias[0],W.api.get(`/agencias/${this.agenciaRef2}/roles`,this.axiosConfig).then((e=>{this.roles=e.data.roles}))}}};var Z=o(4260),A=o(4379),Q=o(6778),F=o(151),U=o(5589),S=o(5269),$=o(4842),z=o(4554),I=o(3314),j=o(8240),H=o(7352),P=o(3884),B=o(7011),L=o(3414),T=o(2035),G=o(2350),K=o(7030),Y=o(9367),J=o(677),M=o(7518),N=o.n(M);const O=(0,Z.Z)(V,[["render",v]]),X=O;N()(V,"components",{QPage:A.Z,QDialog:Q.Z,QCard:F.Z,QCardSection:U.Z,QForm:S.Z,QInput:$.Z,QIcon:z.Z,QSelect:I.Z,QBtn:j.Z,QTable:H.Z,QTd:P.Z,QList:B.Z,QItem:L.Z,QItemSection:T.Z,QItemLabel:G.Z,QChip:K.Z,QCardActions:Y.Z}),N()(V,"directives",{ClosePopup:J.Z})}}]);