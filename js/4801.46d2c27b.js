(globalThis["webpackChunktest"]=globalThis["webpackChunktest"]||[]).push([[4801],{33934:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var vue__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(61959),moment__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(11488),moment__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__),v_money__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(31885),v_money__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(v_money__WEBPACK_IMPORTED_MODULE_1__),boot_axios__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5474),quasar_src_composables_use_quasar_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(48825),quasar_src_plugins_LocalStorage_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(80589),src_components_methods_vue__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(23759),src_components_rules_vue__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(64379),src_components_webViewer_vue__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(39798);const __WEBPACK_DEFAULT_EXPORT__={directives:{money:v_money__WEBPACK_IMPORTED_MODULE_1__.VMoney},components:{methods:src_components_methods_vue__WEBPACK_IMPORTED_MODULE_4__.Z,rulesVue:src_components_rules_vue__WEBPACK_IMPORTED_MODULE_5__.Z,VMoney:v_money__WEBPACK_IMPORTED_MODULE_1__.VMoney,webViewer:src_components_webViewer_vue__WEBPACK_IMPORTED_MODULE_6__.Z},data(){return{columns:[{name:"action",label:"Detalle",align:"center",required:!0},{name:"fecha_envio",label:"Fecha Envio",field:"fecha_envio",align:"center",required:!0},{name:"tipo_transporte",label:"Tipo",field:"tipo_transporte",align:"center",required:!0},{name:"cod_agente",label:"Transporte",field:"cod_agente",align:"center",required:!0},{name:"cod_proveedor",label:"Transporte",field:"cod_proveedor",align:"center"},{name:"cod_transporte",label:"Vehiculo",field:"cod_transporte",align:"center",required:!0},{name:"cod_ayudante",label:"Ayudante",field:"cod_ayudante",align:"center",required:!0},{name:"cod_agencia",label:"Origen",field:"cod_agencia",align:"center",required:!0},{name:"destino",label:"Destino",field:"destino",align:"center",required:!0},{name:"monto_anticipo",label:"Anticipo",field:"monto_anticipo",align:"center",required:!0},{name:"monto_guias",label:"Venta Sin IVA",align:"center",required:!0},{name:"monto_costo",label:"Monto Costo",align:"center",required:!0},{name:"utilidad",label:"Utilidad (Bs.)",align:"center",required:!0},{name:"porc_costo",label:"Costo (%)",align:"center",required:!0},{name:"porc_utilidad",label:"Utilidad (%)",align:"center",required:!0},{name:"observacion_gnral",label:"Observaciones",field:"observacion_gnral",align:"center",required:!0}],columnsDetalle:[{name:"cod_concepto",label:"Concepto Costo",field:"cod_concepto",align:"center"},{name:"monto_costo",label:"Monto Bs",field:"monto_costo",align:"center"},{name:"monto_dolar",label:"Monto $",field:"monto_dolar",align:"center"},{name:"action",label:"Acción",align:"center"}],columnsDetalleGuias:[{name:"fecha_emision",label:"Emisión",field:e=>e.movimientos.fecha_emision,align:"center"},{name:"nro_documento",label:"N° Guía",field:e=>e.movimientos.nro_documento,align:"center"},{name:"monto_subtotal",label:"Sub-Total",field:e=>e.movimientos.monto_subtotal,align:"right",format:e=>new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR",currencyDisplay:"code"}).format(e).replace("EUR","").trim()}],columnsDetalleGuiasAsignar:[{name:"nro_documento",label:"N° Guía",field:"nro_documento",align:"center"},{name:"cliente_orig_desc",label:"Cliente Origen",field:"cliente_orig_desc",align:"center"},{name:"monto_subtotal",label:"Sub-Total",field:"monto_subtotal",align:"right",format:e=>new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR",currencyDisplay:"code"}).format(e).replace("EUR","").trim()},{name:"siglas_dest",label:"Dest",field:"siglas_dest",align:"center"},{name:"fecha_emision",label:"Emisión",field:"fecha_emision",align:"center"}],tipoImpresion1:[{label:"DETALLE DE GUIAS ASOCIADAS",value:"DE"},{label:"RESUMEN DISTRIBUIDO POR DESTINO",value:"RE"}],tipoImpresion2:[{label:"GENERAL",value:"GE"},{label:"DIARIO",value:"DI"},{label:"COMISIONES",value:"CO"}],money:{decimal:",",thousands:".",prefix:"",suffix:"",precision:2,masked:!0},money_porc:{decimal:",",thousands:".",prefix:"",suffix:"%",precision:2,masked:!0},tipo:[{label:"I",value:"I"},{label:"E",value:"E"}],pagination:{page:1,rowsPerPage:0,rowsNumber:""},visibleColumns:[],guia_desde:"",type:2,selected:[],selectedIndex:[],agencias:[],agentes:[],unidades:[],ayudantes:[],proveedores:[],costos:[],detalleCostos:[],printOptions:!1,agenciasSelected:[],selectedAgencia:[],selectedAgenciaGuia:[],selectedCosto:null,selectedGuias:[],selectedGuiasAsignar:[],selectedTipo:[],tipoReporte:"",selectedNeta:!1,selectedDolar:!1,conceptos:[],cantidad:0,total_costo:0,total_guias:0,total_utilidad:0,total_porc_costo:0,total_porc_utilidad:0,total_detalle_costo:0,total_detalle_dolar:0,total_detalle_guias:0,total_detalle_guias_asignar:0,fecha_desde:moment__WEBPACK_IMPORTED_MODULE_0___default()().format("DD/MM/YYYY"),fecha_hasta:moment__WEBPACK_IMPORTED_MODULE_0___default()().format("DD/MM/YYYY"),fecha_desde_guias:"",fecha_desde_guias_asignar:"",fecha_hasta_guias_asignar:"",transporte_guias:"",detalles_costo_guias:[],detalles_costo_guias_asignar:[],buscar_guia:"",buscar_guia_asignar:""}},setup(){(0,quasar_src_composables_use_quasar_js__WEBPACK_IMPORTED_MODULE_7__.Z)();return{tab:(0,vue__WEBPACK_IMPORTED_MODULE_8__.iH)("tabCostos"),separator:(0,vue__WEBPACK_IMPORTED_MODULE_8__.iH)("vertical"),form:(0,vue__WEBPACK_IMPORTED_MODULE_8__.iH)(!1),loading:(0,vue__WEBPACK_IMPORTED_MODULE_8__.iH)(!1),loadingGuias:(0,vue__WEBPACK_IMPORTED_MODULE_8__.iH)(!1),deletePopup:(0,vue__WEBPACK_IMPORTED_MODULE_8__.iH)(!1),detalleCostosDialog:(0,vue__WEBPACK_IMPORTED_MODULE_8__.iH)(!1),detalleGuiasDialog:(0,vue__WEBPACK_IMPORTED_MODULE_8__.iH)(!1),disableMonto:(0,vue__WEBPACK_IMPORTED_MODULE_8__.iH)(!0),pdfView:(0,vue__WEBPACK_IMPORTED_MODULE_8__.iH)(!1)}},mounted(){this.$emit("changeTitle","SCEN - Mantenimiento - Registro de Costos",""),this.$refs.methods.getData("/agencias","setDataInit","agencias"),this.$refs.methods.getData("/agentes","setData","agentes",{headers:{agencia:1,activo:"S"}}),this.$refs.methods.getData("/unidades","setData","unidades"),this.$refs.methods.getData("/ayudantes","setData","ayudantes"),this.$refs.methods.getData("/proveedores","setData","proveedores",{headers:{tipo_servicio:"TP",activo:"S"}}),this.$refs.methods.getData("/coperacion","setData","conceptos",{headers:{tipo:5}}),this.$refs.methods.getData("/rpermisos","setDataPermisos","rpermisos",{headers:{rol:quasar_src_plugins_LocalStorage_js__WEBPACK_IMPORTED_MODULE_3__.Z.getItem("tokenTraducido").usuario.roles.id,menu:"registrocostos"}})},methods:{filterArray(e,t,o,s,a){t(""!==e?()=>{const t=e.toUpperCase();for(var l=[],i=0;i<=this[s].length-1;i++)if(this[s][i][a].indexOf(t)>-1&&l.push(this[s][i]),i==this[s].length-1){this[o]=l;break}}:()=>{this[o]=this[s]})},findIndex(e,t,o){var s=this[e].findIndex((e=>e.id==t));return s>=0?this[e][s][o]:null},setDataPermisos(e,t){this[t]=e,this.rpermisos.findIndex((e=>1==e.acciones.accion))<0&&this.$router.push("/error403")},setData(res,dataRes){eval("this."+dataRes+"Loading = false"),this[dataRes]=res.data?res.data:res},async setDataInit(e,t){this[t]=e.data?e.data:e,this.selectedAgencia=this.agencias[0],this.getDataTable()},getDataTable(e){this.loading=!0,e&&(this.pagination=e.pagination),this.$refs.methods.getData("/costos","setDataTable","costos",{headers:{agencia:this.selectedAgencia.id?this.selectedAgencia.id:"",desde:moment__WEBPACK_IMPORTED_MODULE_0___default()(this.fecha_desde,"DD/MM/YYYY").format("YYYY-MM-DD"),hasta:moment__WEBPACK_IMPORTED_MODULE_0___default()(this.fecha_hasta,"DD/MM/YYYY").format("YYYY-MM-DD"),order_doc:"S"}})},setDataTable(e,t){this[t]=e.data?e.data:e,this.pagination.page=e.currentPage,this.currentPage=e.currentPage,this.pagination.rowsNumber=e.total,this.pagination.rowsPerPage=e.limit,this.loading=!1,this.calculaTotales()},async addData(){await this.pushCosto(),eval("this.$refs.fecha_envio"+(this.costos.length-1)+"[0].$el.focus()")},async pushCosto(){var e={};this.costos.push(e),this.costos[this.costos.length-1].fecha_envio=moment__WEBPACK_IMPORTED_MODULE_0___default()().format("DD/MM/YYYY"),this.costos[this.costos.length-1].tipo_transporte="I",this.costos[this.costos.length-1].cod_agencia=this.selectedAgencia.id,this.costos[this.costos.length-1].detalles=[],this.costos[this.costos.length-1].detallesg=[]},async sendData(){this.loading=!0;for(var e={},t=0;t<this.costos.length;t++)if(e.cod_agencia=this.costos[t].cod_agencia.id?this.costos[t].cod_agencia.id:this.costos[t].cod_agencia,e.fecha_envio=moment__WEBPACK_IMPORTED_MODULE_0___default()(this.costos[t].fecha_envio,"DD/MM/YYYY").format("YYYY-MM-DD"),e.tipo_transporte=this.costos[t].tipo_transporte,e.cod_agente=this.costos[t].cod_agente?this.costos[t].cod_agente.id?this.costos[t].cod_agente.id:this.costos[t].cod_agente:null,e.cod_proveedor=this.costos[t].cod_proveedor?this.costos[t].cod_proveedor.id?this.costos[t].cod_proveedor.id:this.costos[t].cod_proveedor:null,e.guia_fact_transporte=this.costos[t].guia_fact_transporte,e.destino=this.costos[t].destino,e.cod_transporte=this.costos[t].cod_transporte?this.costos[t].cod_transporte.id?this.costos[t].cod_transporte.id:this.costos[t].cod_transporte:null,e.observacion_gnral=this.costos[t].observacion_gnral,e.monto_anticipo=this.curReplace(this.costos[t].monto_anticipo),e.cod_ayudante=this.costos[t].cod_ayudante?this.costos[t].cod_ayudante.id?this.costos[t].cod_ayudante.id:this.costos[t].cod_ayudante:null,this.costos[t].id){for(var o=0;o<this.costos[t].detalles.length;o++){var s=JSON.parse(JSON.stringify(this.costos[t].detalles[o]));delete s.monto_dolar,s.cod_concepto=s.cod_concepto.id?s.cod_concepto.id:s.cod_concepto,s.monto_costo=this.curReplace(s.monto_costo),this.costos[t].detalles[o].id?await boot_axios__WEBPACK_IMPORTED_MODULE_2__.api.put(`/dcostos/${this.costos[t].detalles[o].id}`,s,{headers:{Authorization:`Bearer ${quasar_src_plugins_LocalStorage_js__WEBPACK_IMPORTED_MODULE_3__.Z.getItem("token")}`}}).catch((()=>{this.$q.notify({message:"Error del Sistema. Problemas al actualizar el detalle de los Costos. Comuníquese con el proveedor del Sistemas...",color:"red"})})):(s.cod_costo=this.costos[t].id,await boot_axios__WEBPACK_IMPORTED_MODULE_2__.api.post("/dcostos",s,{headers:{Authorization:`Bearer ${quasar_src_plugins_LocalStorage_js__WEBPACK_IMPORTED_MODULE_3__.Z.getItem("token")}`}}).catch((()=>{this.$q.notify({message:"Error del Sistema. Problemas al crear el detalle de los Costos. Comuníquese con el proveedor del Sistemas...",color:"red"})})))}await boot_axios__WEBPACK_IMPORTED_MODULE_2__.api.put(`/costos/${this.costos[t].id}`,e,{headers:{Authorization:`Bearer ${quasar_src_plugins_LocalStorage_js__WEBPACK_IMPORTED_MODULE_3__.Z.getItem("token")}`}}).catch((()=>{this.$q.notify({message:"Error del Sistema. Problemas al actualizar los Costos. Comuníquese con el proveedor del Sistemas...",color:"red"})}))}else{let a;if(await boot_axios__WEBPACK_IMPORTED_MODULE_2__.api.post("/costos",e,{headers:{Authorization:`Bearer ${quasar_src_plugins_LocalStorage_js__WEBPACK_IMPORTED_MODULE_3__.Z.getItem("token")}`}}).then((e=>{a=e.data.id})).catch((()=>{this.$q.notify({message:"Error del Sistema. Problemas al Crear el Costo. Comuníquese con el proveedor del Sistemas...",color:"red"})})),this.costos[t].detalles)for(o=0;o<this.costos[t].detalles.length;o++){s=JSON.parse(JSON.stringify(this.costos[t].detalles[o]));delete s.monto_dolar,s.cod_concepto=s.cod_concepto.id?s.cod_concepto.id:s.cod_concepto,s.monto_costo=this.curReplace(s.monto_costo),s.cod_costo=a,await boot_axios__WEBPACK_IMPORTED_MODULE_2__.api.post("/dcostos",s,{headers:{Authorization:`Bearer ${quasar_src_plugins_LocalStorage_js__WEBPACK_IMPORTED_MODULE_3__.Z.getItem("token")}`}}).catch((()=>{this.$q.notify({message:"Error del Sistema. Problemas al crear el detalle de los Costos. Comuníquese con el proveedor del Sistemas...",color:"red"})}))}}this.$q.notify({message:"Costos Actualizados con exito...",color:"green"}),this.getDataTable()},async onLoadDetalle(e){let t=await this.valorDolar(e,this.costos[e].fecha_envio);0!=t?(this.selectedCosto=e,this.detalleCostosDialog=!0,this.detalles_costo=this.costos[e].detalles,this.calculaTotalDetalle(t)):this.$q.notify({message:"Este Día no tiene monto de Dolar definido",color:"red"})},async onLoadDetalleGuias(e){if(!this.costos[e].id)return void this.$q.notify({message:"Debe guardar el Costo antes de ejecutar esta Opción",color:"red"});this.loadingGuias=!0,this.selectedCosto=e,this.detalles_costo_guias=this.costos[e].detallesg,this.fecha_desde_guias=this.costos[e].fecha_envio,this.transporte_guias="I"==this.costos[e].tipo_transporte?this.findIndex("agentes",this.costos[e].cod_agente,"persona_responsable"):this.findIndex("proveedores",this.costos[e].cod_proveedor,"nb_proveedor"),"I"==this.costos[e].tipo_transporte?this.findIndex("agentes",this.costos[e].cod_agente,"persona_responsable"):this.findIndex("proveedores",this.costos[e].cod_proveedor,"nb_proveedor");let t=0;for(var o=0;o<this.detalles_costo_guias.length;o++)t+=this.parseFloatN(this.detalles_costo_guias[o].movimientos.monto_subtotal);this.total_detalle_guias=t.toFixed(2),this.fecha_desde_guias_asignar=this.costos[e].fecha_envio,this.fecha_hasta_guias_asignar=this.costos[e].fecha_envio,this.getGuiasAsignar(),this.detalleGuiasDialog=!0},async getGuiasAsignar(){this.loadingGuias=!0,this.detalles_costo_guias_asignar=[],await boot_axios__WEBPACK_IMPORTED_MODULE_2__.api.get("/mmovimientos",{headers:{Authorization:`Bearer ${quasar_src_plugins_LocalStorage_js__WEBPACK_IMPORTED_MODULE_3__.Z.getItem("token")}`,agencia:this.selectedAgenciaGuia.id?this.selectedAgenciaGuia.id:"",agencia_transito:this.selectedAgenciaGuia.id?this.selectedAgenciaGuia.id:"",desde:moment__WEBPACK_IMPORTED_MODULE_0___default()(this.fecha_desde_guias_asignar,"DD/MM/YYYY").format("YYYY-MM-DD"),hasta:moment__WEBPACK_IMPORTED_MODULE_0___default()(this.fecha_hasta_guias_asignar,"DD/MM/YYYY").format("YYYY-MM-DD"),estatus_oper:"PR",estatus_admin_ex:"A"}}).then((e=>{this.detalles_costo_guias_asignar=e.data.data})),this.calculaTotalDetalleGuias()},async addSelectedGuia(){this.loadingGuias=!0;for(var e=0;e<this.selectedGuiasAsignar.length;e++){let t={};t.cod_costo=this.costos[this.selectedCosto].id,t.cod_movimiento=this.selectedGuiasAsignar[e].id,await boot_axios__WEBPACK_IMPORTED_MODULE_2__.api.post("/dcostosg",t,{headers:{Authorization:`Bearer ${quasar_src_plugins_LocalStorage_js__WEBPACK_IMPORTED_MODULE_3__.Z.getItem("token")}`}}).then((o=>{t.id=o.data.id,t.movimientos=this.selectedGuiasAsignar[e]})).catch((()=>{this.$q.notify({message:"Error del Sistema. Problemas al crear el detalle de Guias de los Costos. Comuníquese con el proveedor del Sistemas...",color:"red"})}));let o={estatus_operativo:"PE"};await boot_axios__WEBPACK_IMPORTED_MODULE_2__.api.put(`/mmovimientos/${this.selectedGuiasAsignar[e].id}`,o,{headers:{Authorization:`Bearer ${quasar_src_plugins_LocalStorage_js__WEBPACK_IMPORTED_MODULE_3__.Z.getItem("token")}`}}).catch((()=>{this.$q.notify({message:"Error del Sistema. Problemas al actualizar el estatus de la Guia. Comuníquese con el proveedor del Sistemas...",color:"red"})})),this.detalles_costo_guias.push(t)}this.getGuiasAsignar(),this.selectedGuias=[],this.selectedGuiasAsignar=[]},async deleteSelectedGuia(){this.loadingGuias=!0;for(var e=0;e<this.selectedGuias.length;e++){await boot_axios__WEBPACK_IMPORTED_MODULE_2__.api["delete"](`/dcostosg/${this.selectedGuias[e].id}`,{headers:{Authorization:`Bearer ${quasar_src_plugins_LocalStorage_js__WEBPACK_IMPORTED_MODULE_3__.Z.getItem("token")}`}}).catch((()=>{this.$q.notify({message:"Error del Sistema. Problemas al Eliminar el detalle de Guia de los Costos. Comuníquese con el proveedor del Sistemas...",color:"red"})}));let o={estatus_operativo:"PR"};await boot_axios__WEBPACK_IMPORTED_MODULE_2__.api.put(`/mmovimientos/${this.selectedGuias[e].cod_movimiento}`,o,{headers:{Authorization:`Bearer ${quasar_src_plugins_LocalStorage_js__WEBPACK_IMPORTED_MODULE_3__.Z.getItem("token")}`}}).catch((()=>{this.$q.notify({message:"Error del Sistema. Problemas al actualizar el estatus de la Guia. Comuníquese con el proveedor del Sistemas...",color:"red"})}));var t=this.detalles_costo_guias.findIndex((t=>t.id==this.selectedGuias[e].id));this.detalles_costo_guias.splice(t,1)}this.getGuiasAsignar(),this.selectedGuias=[],this.selectedGuiasAsignar=[]},calculaTotalDetalleGuias(){let e=0,t=0;for(var o=0;o<this.detalles_costo_guias.length;o++)e+=this.parseFloatN(this.detalles_costo_guias[o].movimientos.monto_subtotal);this.total_detalle_guias=e.toFixed(2);for(o=0;o<this.detalles_costo_guias_asignar.length;o++)t+=this.parseFloatN(this.detalles_costo_guias_asignar[o].monto_subtotal);this.total_detalle_guias_asignar=t.toFixed(2),this.loadingGuias=!1,this.calculaTotales()},async deleteCosto(){if(this.loading=!0,this.selected){if(this.costos[this.selectedIndex].detallesg.length>0)return this.$q.notify({message:"No es posible eliminar este Costo, pues tiene Guías asociadas. Elimine la asociación e intente nuevamente",color:"red"}),void(this.loading=!1);let t=[];await boot_axios__WEBPACK_IMPORTED_MODULE_2__.api.get(`/costos/${this.selected}`,{headers:{Authorization:`Bearer ${quasar_src_plugins_LocalStorage_js__WEBPACK_IMPORTED_MODULE_3__.Z.getItem("token")}`}}).then((e=>{t=e.data.detalles}));for(var e=0;e<t.length;e++)await boot_axios__WEBPACK_IMPORTED_MODULE_2__.api["delete"](`/dcostos/${t[e].id}`,{headers:{Authorization:`Bearer ${quasar_src_plugins_LocalStorage_js__WEBPACK_IMPORTED_MODULE_3__.Z.getItem("token")}`}}).catch((()=>{this.$q.notify({message:"Error del Sistema. Problemas al Eliminar el Detalle del Costo. Comuníquese con el proveedor del Sistemas...",color:"red"}),this.loading=!1}));await boot_axios__WEBPACK_IMPORTED_MODULE_2__.api["delete"](`/costos/${this.selected}`,{headers:{Authorization:`Bearer ${quasar_src_plugins_LocalStorage_js__WEBPACK_IMPORTED_MODULE_3__.Z.getItem("token")}`}}).then((()=>{this.$q.notify({message:"Costo eliminado con Exito...",color:"green"}),this.getDataTable()})).catch((()=>{this.$q.notify({message:"Error del Sistema. Problemas al Eliminar el Costo. Comuníquese con el proveedor del Sistemas...",color:"red"}),this.loading=!1}))}else this.costos.splice(this.selectedIndex,1)},validateDetalle(){for(var e=0;e<this.costos[this.selectedCosto].detalles.length;e++)if(!this.costos[this.selectedCosto].detalles[e].cod_concepto||"0,00"==this.costos[this.selectedCosto].detalles[e].monto_costo)return this.$q.notify({message:"Debe completar el Detalle para poder agregar uno nuevo",color:"red"}),!1;return!0},validateConcepto(e){for(var t=0;t<this.detalles_costo.length-1;t++){let o=this.detalles_costo[t].cod_concepto.id?this.detalles_costo[t].cod_concepto.id:this.detalles_costo[t].cod_concepto;if(this.detalles_costo[e].cod_concepto.id==o)return this.detalles_costo[e].cod_concepto="",void this.$q.notify({message:"Ya este Detalle de Costo fue insertado",color:"red"})}},saveDetalle(){for(var e=0;e<this.costos[this.selectedCosto].detalles.length;e++)if(!this.costos[this.selectedCosto].detalles[e].cod_concepto||"0,00"==this.costos[this.selectedCosto].detalles[e].monto_costo)return void this.$q.notify({message:"Debe completar el Detalle para poder agregar uno nuevo",color:"red"});this.calculaTotales()},resetFilters(){this.selectedAgencia=this.agencias[0],this.fecha_desde=moment__WEBPACK_IMPORTED_MODULE_0___default()().format("DD/MM/YYYY"),this.fecha_hasta=moment__WEBPACK_IMPORTED_MODULE_0___default()().format("DD/MM/YYYY"),this.getDataTable()},async calculaTotales(){let e=0,t=0,o=0;for(var s=0;s<this.costos.length;s++){let i=0,n=0;for(var a=0;a<this.costos[s].detalles.length;a++)i+=this.parseFloatN(this.curReplace(this.costos[s].detalles[a].monto_costo)),this.costos[s].dolar&&this.costos[s].dolar.valor&&(this.costos[s].detalles[a].monto_dolar=this.parseFloatN(this.curReplace(this.costos[s].detalles[a].monto_costo)/this.costos[s].dolar.valor).toFixed(2));for(var l=0;l<this.costos[s].detallesg.length;l++)n+=this.parseFloatN(this.costos[s].detallesg[l].movimientos.monto_subtotal);this.costos[s].monto_costo=i.toFixed(2),this.costos[s].monto_guias=n.toFixed(2),this.costos[s].utilidad=(n-i).toFixed(2),this.costos[s].porc_costo=(i/n*100).toFixed(2),this.costos[s].porc_utilidad=((n-i)/n*100).toFixed(2),e+=i,t+=n,o+=n-i}this.cantidad=this.costos.length,this.total_costo=e.toFixed(2),this.total_guias=t.toFixed(2),this.total_utilidad=o.toFixed(2),this.total_porc_costo=(e/t*100).toFixed(2),this.total_porc_utilidad=((t-e)/t*100).toFixed(2)},async calculaDetalle(e,t){let o=await this.valorDolar(this.selectedCosto,this.costos[this.selectedCosto].fecha_envio);"costo"==e?this.costos[this.selectedCosto].detalles[t].monto_dolar=(this.parseFloatN(this.curReplace(this.costos[this.selectedCosto].detalles[t].monto_costo))/o).toFixed(2):this.costos[this.selectedCosto].detalles[t].monto_costo=(this.parseFloatN(this.curReplace(this.costos[this.selectedCosto].detalles[t].monto_dolar))*o).toFixed(2),this.calculaTotalDetalle(o)},calculaTotalDetalle(e){let t=0;for(var o=0;o<this.costos[this.selectedCosto].detalles.length;o++)t+=this.parseFloatN(this.curReplace(this.costos[this.selectedCosto].detalles[o].monto_costo));this.total_detalle_costo=t.toFixed(2),this.total_detalle_dolar=(this.parseFloatN(t)/this.parseFloatN(e)).toFixed(2)},async valorDolar(e,t){let o=0;return this.costos[e].dolar?o=this.costos[e].dolar.valor:await boot_axios__WEBPACK_IMPORTED_MODULE_2__.api.get("/hdolar/",{headers:{Authorization:`Bearer ${quasar_src_plugins_LocalStorage_js__WEBPACK_IMPORTED_MODULE_3__.Z.getItem("token")}`,fecha:moment__WEBPACK_IMPORTED_MODULE_0___default()(t,"DD/MM/YYYY").format("YYYY-MM-DD")}}).then((e=>{e.data.data[0]&&(o=e.data.data[0].valor)})),o},curReplace(e){return e.indexOf(",")<0?e:e.replaceAll(".","").replaceAll(",",".")},parseFloatN(e){return e=Math.round(100*e)/100,e},printReport(){"DI"!=this.selectedTipo.value||this.fecha_desde==this.fecha_hasta?this.pdfView=!0:this.$q.notify({message:"Debe seleccionar la misma Fecha Desde y Hasta",color:"red"})},pdfPrint(){this.printOptions=!1,boot_axios__WEBPACK_IMPORTED_MODULE_2__.api.get("/reports/costosTransporte",{headers:{Authorization:`Bearer ${quasar_src_plugins_LocalStorage_js__WEBPACK_IMPORTED_MODULE_3__.Z.getItem("token")}`,id:this.selected,tipo:this.selectedTipo.value,agencia:this.selectedAgencia.nb_agencia,desde:this.fecha_desde,hasta:this.fecha_hasta,neta:this.selectedNeta,dolar:this.selectedDolar}}).then((e=>{this.$refs.webViewer.showpdf(e.data.base64)}))}}}},23759:(e,t,o)=>{"use strict";function s(e,t,o,s,a,l){return null}o.d(t,{Z:()=>c});var a=o(80589),l=o(5474),i=o(48825);const n={setup(){const e=(0,i.Z)();return{errorDelServidor(){this.$emit("resetLoading"),e.notify({message:this.error,color:"red"})},añadidoConExito(){e.notify({message:"Agregado exitosamente",color:"green"})},editadoConExito(){e.notify({message:"Editado exitosamente",color:"green"})},eliminadoConExito(){e.notify({message:"Eliminado exitosamente",color:"green"})}}},methods:{getData:function(e,t,o,s={headers:{}}){s.headers.Authorization=`Bearer ${a.Z.getItem("token")}`,l.api.get(e,s).then((e=>{this.$emit(t,e.data,o)})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor(),this.$emit("resetLoading")}))},createData:function(e,t,o,s={headers:{}}){s.headers.Authorization=`Bearer ${a.Z.getItem("token")}`,l.api.post(e,t,s).then((e=>{(e.status=200)&&(this.$emit(o),this.añadidoConExito())})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor(),this.$emit("resetLoading")}))},putData:function(e,t,o,s={headers:{}}){s.headers.Authorization=`Bearer ${a.Z.getItem("token")}`,l.api.put(e,t,s).then((e=>{(e.status=200)&&(this.$emit(o),this.editadoConExito())})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor()}))},deleteData:function(e,t,o={headers:{}}){o.headers.Authorization=`Bearer ${a.Z.getItem("token")}`,l.api["delete"](e,o).then((e=>{(e.status=200)&&(this.$emit(t),this.eliminadoConExito())})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor(),this.$emit("resetLoading")}))},login:function(e,t,o,s={headers:{}}){s.headers.Authorization=`Bearer ${a.Z.getItem("token")}`,l.api.post(e,t,s).then((e=>{(e.status=200)&&this.$emit(o,e.data)})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor()}))}}};var d=o(74260);const r=(0,d.Z)(n,[["render",s]]),c=r},64379:(e,t,o)=>{"use strict";function s(e,t,o,s,a,l){return null}o.d(t,{Z:()=>c});var a=o(48825),l=o(11488),i=o.n(l);const n={name:"rules",setup(){(0,a.Z)()},methods:{isReq(e,t=!1){if(null==e||""==e.trim())return!1!==t?t:"Valor Requerido"},isReqCurrency(e,t=!1){if(null==e||""==e.trim()||"0,00"==e.trim()||"0"==e.trim())return!1!==t?t:"Valor Requerido"},isReqSelect(e,t=!1){if(null==e||e==[]||""==e)return!1!==t?t:"Valor Requerido"},isMax(e,t,o=!1){if(null!==e&&""!==e&&e.length>t)return!1!==o?o:`Maximo ${t} Caracteres`},isMin(e,t,o=!1){if(null!==e&&""!==e&&e.length<t)return!1!==o?o:`Minimo ${t} Caracteres`},checkDate(e,t=!1){if(0==i()(e,"DD/MM/YYYY",!0)._isValid)return!1!==t?t:"Fecha Invalida"},checkHour(e,t=!1){if(0==i()(e,"HH:mm",!0)._isValid)return!1!==t?t:"Hora Invalida"}}};var d=o(74260);const r=(0,d.Z)(n,[["render",s]]),c=r},39798:(e,t,o)=>{"use strict";o.d(t,{Z:()=>u});var s=o(83673);const a={id:"WebViewer",ref:"viewer",style:{width:"100%",height:"100%"}};function l(e,t,o,l,i,n){return(0,s.wg)(),(0,s.iD)("div",a,null,512)}o(80812),o(15123);var i=o(61959),n=o(163),d=o.n(n);const r={name:"webViewer",data:function(){return{}},setup(){const e=(0,i.iH)(null);return{viewer:e}},methods:{base64ToBlob(e){const t=window.atob(e),o=t.length,s=new Uint8Array(o);for(let a=0;a<o;++a)s[a]=t.charCodeAt(a);return new Blob([s],{type:"application/pdf"})},showpdf(e,t){const o="https://scen.rcsexpress.com/webViewer";d()({path:o,licenseKey:"atkUT8UOiniAvAWUG1rN"},this.viewer).then((o=>{o.UI.disableElements(["panToolButton"]),o.UI.disableElements(["textSelectButton"]),o.UI.setHeaderItems((e=>{e.push({type:"actionButton",img:"https://i.ibb.co/cr5CYSB/2.png",onClick:()=>{o.downloadPdf()}}),e.push({type:"actionButton",img:"https://i.ibb.co/3RdScYv/1.png",onClick:()=>{1==t?o.print():this.$emit("printPdf")}}),e.push({type:"actionButton",img:"https://i.ibb.co/qJqLZTd/close.png",onClick:()=>{this.$emit("closePdf")}})})),o.UI.loadDocument(this.base64ToBlob(e),{filename:"REPORTE SCEN.pdf"}),o.UI.setLanguage("es")}))}}};var c=o(74260);const _=(0,c.Z)(r,[["render",l]]),u=_},11632:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>ct});var s=o(83673),a=o(62323),l=o(98880);const i={class:"row justify-center items-center"},n=(0,s._)("div",{class:"col-md-12 col-xs-12",style:{"margin-bottom":"6px","margin-top":"10px"}},[(0,s._)("p",{style:{"font-size":"17px","text-align":"center"},class:"text-secondary"},[(0,s._)("strong",null,"SELECCIONA EL TIPO DE IMPRESION:")])],-1),d={class:"col-md-12 col-xs-12"},r={class:"col-md-8 col-xs-12",style:{"margin-top":"23px","margin-bottom":"10px","text-align":"center"}},c={class:"col-md-2 col-xs-12",style:{"margin-top":"5px"}},_={class:"col-md-2 col-xs-12",style:{"margin-top":"5px","padding-left":"10px"}},u={class:"row justify-center items-center content-center",style:{padding:"20px"}},m=(0,s._)("div",{class:"col-md-10 col-xs-12"},[(0,s._)("p",{style:{"font-size":"20px","text-align":"left"},class:"text-secondary"},[(0,s._)("strong",null,"DETALLE COSTOS DE TRANSPORTE")])],-1),p={class:"col-md-2 col-xs-12",style:{"margin-bottom":"20px","text-align":"center"}},h={class:"col-md-12 col-xs-12"},g={key:0},f={key:1},w={key:2},D={key:3},y=(0,s.Uk)("Eliminar Costo"),b=(0,s._)("p",{style:{"text-align":"right"}},"Total Costo",-1),v={class:"row justify-center items-center content-center",style:{"margin-bottom":"20px"}},x={class:"row justify-center items-center content-center",style:{padding:"10px"}},E={class:"col-md-12 col-xs-12",style:{"margin-bottom":"6px"}},C={class:"row justify-center items-center"},M={class:"col-md-6 col-xs-12 boxStyle Cards2"},W={class:"row"},P=(0,s._)("div",{class:"col-md-12 col-xs-12",style:{"align-self":"center","text-align":"left","margin-top":"-40px"}},[(0,s._)("h4",{style:{"font-size":"18px","margin-bottom":"0px"},class:"text-secondary"},[(0,s._)("strong",null,"Busqueda de Guias a Enviar a su Destino")])],-1),V={class:"col-md-4 col-xl-4 col-lg-4 col-xs-12 col-sm-4 cardMargin2"},U=(0,s.Uk)(" Sin resultados "),O={class:"col-md-3 col-xl-3 col-lg-3 col-xs-12 col-sm-3 cardMargin2"},I={class:"col-md-3 col-xl-3 col-lg-3 col-xs-12 col-sm-3 cardMargin2"},j={class:"col-md-2 col-xl-2 col-lg-2 col-xs-12 col-sm-2 cardMargin2"},k={style:{"text-align":"right"}},A={class:"row col-md-1 col-xs-12",style:{"text-align":"center","margin-left":"-40px","margin-right":"-40px"}},T={class:"col-md-12 col-xs-3",style:{"margin-bottom":"30px"}},q=(0,s.Uk)("Cerrar"),R={class:"col-md-12 col-xs-3 buttonsCard"},L={class:"col-md-12 col-xs-3 buttonsCard"},B={class:"col-md-12 col-xs-3 buttonsCard"},S={class:"col-md-12 col-xs-3 buttonsCard"},Y={class:"col-md-6 col-xs-12 Cards"},K={class:"row"},$=(0,s._)("div",{class:"col-md-12 col-xs-12",style:{"align-self":"center","text-align":"left","margin-top":"-40px"}},[(0,s._)("h4",{style:{"font-size":"18px","margin-bottom":"0px"},class:"text-secondary"},[(0,s._)("strong",null,"Guias a Enviar por el Transporte")])],-1),G={class:"col-md-3 col-xl-3 col-lg-3 col-xs-12 col-sm-3 cardMargin2"},z={class:"col-md-6 col-xl-6 col-lg-6 col-xs-12 col-sm-6 cardMargin2"},Z={class:"col-md-3 col-xl-3 col-lg-3 col-xs-12 col-sm-3"},F={style:{"text-align":"right"}},N={class:"q-pa-sm justify-center",style:{"margin-top":"10px"}},H={class:"row q-pa-md col-md-12 col-xl-12 col-lg-12 col-xs-12 col-sm-12",style:{"align-self":"center","text-align":"center","margin-top":"-20px"}},Q=(0,s._)("div",{class:"col-md-3 col-xl-3 col-lg-3 col-xs-12 col-sm-12 movilTitle",style:{"align-self":"center","text-align":"center"}},[(0,s._)("p",{style:{"font-size":"20px"},class:"text-secondary"},[(0,s._)("strong",null,"OPERACIONES - REGISTRO DE COSTOS")])],-1),J={class:"col-md-4 col-xl-4 col-lg-4 col-xs-12 col-sm-12 cardMargin selectMobile2",style:{"align-self":"center","text-align":"center"}},X=(0,s.Uk)(" Sin resultados "),ee={class:"col-md-3 col-xl-3 col-lg-3 col-xs-12 col-sm-6 cardMargin selectMobile2",style:{"align-self":"center","text-align":"center"}},te={class:"col-md-3 col-xl-3 col-lg-3 col-xs-12 col-sm-6 cardMargin selectMobile2",style:{"align-self":"center","text-align":"center"}},oe={class:"col-md-2 col-xl-2 col-lg-2 col-xs-12 col-sm-12 selectMobile2"},se=(0,s.Uk)("Agregar Costo"),ae=(0,s.Uk)("Guardar"),le=(0,s.Uk)("Resetear Filtros"),ie=(0,s.Uk)("Imprimir"),ne={class:"q-pa-md q-gutter-y-md",style:{"margin-top":"-30px"}},de={key:0},re=(0,s.Uk)("Eliminar Costo"),ce=(0,s.Uk)("Imprimir"),_e={key:1},ue={key:2},me={key:3},pe={key:4},he={key:5},ge={key:6},fe={key:7},we={key:8},De={key:9},ye={key:10},be={key:11},ve={key:12},xe={key:13},Ee={key:14},Ce={key:15},Me={class:"col-md-6 col-xs-12"},We={class:"row"},Pe={class:"col-md-1 col-xs-12"},Ve={class:"col-md-3 col-xs-12"},Ue={class:"col-md-3 col-xs-12"},Oe={class:"col-md-3 col-xs-12"},Ie={class:"col-md-1 col-xs-12"},je={class:"col-md-1 col-xs-12"},ke=(0,s._)("div",{class:"text-h5",style:{"font-size":"18px"}}," ¿Estas seguro que quieres eliminar este Costo? ",-1),Ae={style:{width:"700px",height:"700px"}};function Te(e,t,o,Te,qe,Re){const Le=(0,s.up)("q-select"),Be=(0,s.up)("q-btn"),Se=(0,s.up)("q-checkbox"),Ye=(0,s.up)("q-card-section"),Ke=(0,s.up)("q-card"),$e=(0,s.up)("q-dialog"),Ge=(0,s.up)("q-th"),ze=(0,s.up)("q-tr"),Ze=(0,s.up)("q-input"),Fe=(0,s.up)("q-tooltip"),Ne=(0,s.up)("q-td"),He=(0,s.up)("q-table"),Qe=(0,s.up)("q-item-section"),Je=(0,s.up)("q-item"),Xe=(0,s.up)("q-icon"),et=(0,s.up)("q-date"),tt=(0,s.up)("q-popup-proxy"),ot=(0,s.up)("q-inner-loading"),st=(0,s.up)("q-btn-toggle"),at=(0,s.up)("q-card-actions"),lt=(0,s.up)("webViewer"),it=(0,s.up)("methods"),nt=(0,s.up)("rules-vue"),dt=(0,s.up)("q-page"),rt=(0,s.Q2)("money"),ct=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(dt,{class:"pagina q-pa-md"},{default:(0,s.w5)((()=>[(0,s.Wm)($e,{modelValue:qe.printOptions,"onUpdate:modelValue":t[4]||(t[4]=e=>qe.printOptions=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(Ke,{style:{width:"400px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(Ye,null,{default:(0,s.w5)((()=>[(0,s._)("div",i,[n,(0,s._)("div",d,[(0,s.Wm)(Le,{outlined:"",dense:"",modelValue:qe.selectedTipo,"onUpdate:modelValue":t[0]||(t[0]=e=>qe.selectedTipo=e),label:"Tipo de Impresion",options:1==qe.tipoReporte?qe.tipoImpresion1:qe.tipoImpresion2},null,8,["modelValue","options"])]),(0,s._)("div",r,[(0,s.Wm)(Be,{label:"Imprimir",color:"primary",style:{width:"200px"},onClick:t[1]||(t[1]=e=>Re.printReport())})]),(0,s._)("div",c,[(0,s.Wm)(Se,{modelValue:qe.selectedNeta,"onUpdate:modelValue":t[2]||(t[2]=e=>qe.selectedNeta=e),label:"Neta",color:"primary","left-label":""},null,8,["modelValue"])]),(0,s._)("div",_,[(0,s.Wm)(Se,{modelValue:qe.selectedDolar,"onUpdate:modelValue":t[3]||(t[3]=e=>qe.selectedDolar=e),label:"$",color:"primary","left-label":""},null,8,["modelValue"])])])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)($e,{modelValue:Te.detalleCostosDialog,"onUpdate:modelValue":t[10]||(t[10]=e=>Te.detalleCostosDialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(Ke,{style:{width:"700px","max-width":"80vw"}},{default:(0,s.w5)((()=>[(0,s._)("div",u,[m,(0,s._)("div",p,[(0,s.Wm)(Be,{color:"primary",rounded:"",icon:"add",onClick:t[5]||(t[5]=e=>{Re.validateDetalle()&&this.costos[this.selectedCosto].detalles.push({})})})]),(0,s._)("div",h,[(0,s.Wm)(He,{rows:e.detalles_costo,"row-key":"id",columns:qe.columnsDetalle,"binary-state-sort":"",separator:Te.separator,pagination:qe.pagination,"onUpdate:pagination":t[8]||(t[8]=e=>qe.pagination=e),grid:e.$q.screen.xs,"rows-per-page-options":[0],style:{width:"100%",height:"350px"},"hide-bottom":""},(0,s.Nv)({header:(0,s.w5)((e=>[(0,s.Wm)(ze,{props:e},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.cols,(t=>((0,s.wg)(),(0,s.j4)(Ge,{key:t.name,props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(t.label),1)])),_:2},1032,["props"])))),128))])),_:2},1032,["props"])])),body:(0,s.w5)((e=>[(0,s.Wm)(ze,{props:e},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.cols,(t=>((0,s.wg)(),(0,s.j4)(Ne,{key:t.name,props:e},{default:(0,s.w5)((()=>["cod_concepto"==t.name?((0,s.wg)(),(0,s.iD)("div",g,[(0,s.Wm)(Le,{dense:"",outlined:"","fill-input":"","input-debounce":"0",options:qe.conceptos,"option-label":"desc_concepto","option-value":"id",style:{"min-width":"250px"},modelValue:e.row.cod_concepto,"onUpdate:modelValue":[t=>e.row.cod_concepto=t,t=>Re.validateConcepto(e.rowIndex)]},{"selected-item":(0,s.w5)((t=>[(0,s.Uk)((0,a.zw)(e.row.cod_concepto.id?e.row.cod_concepto.desc_concepto:this.findIndex("conceptos",e.row.cod_concepto,"desc_concepto")),1)])),_:2},1032,["options","modelValue","onUpdate:modelValue"])])):"monto_costo"==t.name?((0,s.wg)(),(0,s.iD)("div",f,[(0,s.wy)((0,s.Wm)(Ze,{dense:"",outlined:"",modelValue:e.row.monto_costo,"onUpdate:modelValue":t=>e.row.monto_costo=t,"input-class":"text-right",style:{"min-width":"80px"},onKeyup:t=>this.calculaDetalle("costo",e.rowIndex)},null,8,["modelValue","onUpdate:modelValue","onKeyup"]),[[rt,qe.money]])])):"monto_dolar"==t.name?((0,s.wg)(),(0,s.iD)("div",w,[(0,s.wy)((0,s.Wm)(Ze,{dense:"",outlined:"",modelValue:e.row.monto_dolar,"onUpdate:modelValue":t=>e.row.monto_dolar=t,"input-class":"text-right",style:{"min-width":"80px"},onKeyup:t=>this.calculaDetalle("dolar",e.rowIndex)},null,8,["modelValue","onUpdate:modelValue","onKeyup"]),[[rt,qe.money]])])):(0,s.kq)("",!0),"action"==t.name?((0,s.wg)(),(0,s.iD)("div",D,[(0,s.Wm)(Be,{dense:"",round:"",flat:"",color:"primary",icon:"cancel_presentation",onClick:t=>{this.costos[this.selectedCosto].detalles.splice(e.rowIndex,1),this.calculaTotales()}},{default:(0,s.w5)((()=>[(0,s.Wm)(Fe,{class:"bg-primary","transition-show":"scale",style:{"max-height":"30px"},"transition-hide":"scale",color:"primary"},{default:(0,s.w5)((()=>[y])),_:1})])),_:2},1032,["onClick"])])):(0,s.kq)("",!0)])),_:2},1032,["props"])))),128))])),_:2},1032,["props"])])),_:2},[this.costos[this.selectedCosto].detalles.length>0?{name:"bottom-row",fn:(0,s.w5)((()=>[(0,s.Wm)(ze,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ne,null,{default:(0,s.w5)((()=>[b])),_:1}),(0,s.Wm)(Ne,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ze,{outlined:"",modelValue:qe.total_detalle_costo,"onUpdate:modelValue":t[6]||(t[6]=e=>qe.total_detalle_costo=e),hint:"",dense:"",disable:!0,"input-class":"text-right"},null,8,["modelValue"])])),_:1}),(0,s.Wm)(Ne,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ze,{outlined:"",modelValue:qe.total_detalle_dolar,"onUpdate:modelValue":t[7]||(t[7]=e=>qe.total_detalle_dolar=e),hint:"",dense:"",disable:!0,"input-class":"text-right"},null,8,["modelValue"])])),_:1}),(0,s.Wm)(Ne)])),_:1})]))}:void 0]),1032,["rows","columns","separator","pagination","grid"])])]),(0,s._)("div",v,[(0,s.Wm)(Be,{label:"Asignar",color:"primary",class:"col-md-5 col-sm-5 col-xs-12",icon:"save",onClick:t[9]||(t[9]=e=>{Re.validateDetalle()&&(Re.calculaTotales(),this.detalleCostosDialog=!1)})}),(0,s.wy)((0,s.Wm)(Be,{label:"Cerrar",color:"primary",flat:"",class:"col-md-5 col-sm-5 col-xs-12 btnmovil",icon:"close"},null,512),[[ct]])])])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)($e,{modelValue:Te.detalleGuiasDialog,"onUpdate:modelValue":t[34]||(t[34]=e=>Te.detalleGuiasDialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(Ke,{style:{width:"1300px","max-width":"120vw"}},{default:(0,s.w5)((()=>[(0,s._)("div",x,[(0,s._)("div",E,[(0,s._)("div",C,[(0,s._)("div",M,[(0,s.Wm)(Ke,{style:{"margin-top":"10px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(Ye,null,{default:(0,s.w5)((()=>[(0,s._)("div",W,[P,(0,s._)("div",V,[(0,s.Wm)(Le,{rounded:"",dense:"","transition-show":"flip-up","transition-hide":"flip-down",options:qe.agenciasSelected,onFilter:t[11]||(t[11]=(e,t)=>Re.filterArray(e,t,"agenciasSelected","agencias","nb_agencia")),"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0","option-label":"nb_agencia","option-value":"id",modelValue:qe.selectedAgenciaGuia,"onUpdate:modelValue":[t[12]||(t[12]=e=>qe.selectedAgenciaGuia=e),t[13]||(t[13]=e=>Re.getGuiasAsignar())],label:"Agencia Origen"},{"no-option":(0,s.w5)((()=>[(0,s.Wm)(Je,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Qe,{class:"text-grey"},{default:(0,s.w5)((()=>[U])),_:1})])),_:1})])),prepend:(0,s.w5)((()=>[(0,s.Wm)(Xe,{name:"search"})])),_:1},8,["options","modelValue"])]),(0,s._)("div",O,[(0,s.Wm)(Ze,{modelValue:qe.fecha_desde_guias_asignar,"onUpdate:modelValue":t[16]||(t[16]=e=>qe.fecha_desde_guias_asignar=e),dense:"",label:"Fecha Desde"},{append:(0,s.w5)((()=>[(0,s.Wm)(Xe,{name:"event",class:"cursor-pointer"},{default:(0,s.w5)((()=>[(0,s.Wm)(tt,{ref:"qDateProxy","transition-show":"scale","transition-hide":"scale"},{default:(0,s.w5)((()=>[(0,s.Wm)(et,{modelValue:qe.fecha_desde_guias_asignar,"onUpdate:modelValue":[t[14]||(t[14]=e=>qe.fecha_desde_guias_asignar=e),t[15]||(t[15]=e=>{this.$refs.qDateProxy.hide(),Re.getGuiasAsignar()})],mask:"DD/MM/YYYY",style:{"padding-bottom":"0px"}},null,8,["modelValue"])])),_:1},512)])),_:1})])),_:1},8,["modelValue"])]),(0,s._)("div",I,[(0,s.Wm)(Ze,{modelValue:qe.fecha_hasta_guias_asignar,"onUpdate:modelValue":t[19]||(t[19]=e=>qe.fecha_hasta_guias_asignar=e),dense:"",label:"Fecha Hasta"},{append:(0,s.w5)((()=>[(0,s.Wm)(Xe,{name:"event",class:"cursor-pointer"},{default:(0,s.w5)((()=>[(0,s.Wm)(tt,{ref:"qDateProxy","transition-show":"scale","transition-hide":"scale"},{default:(0,s.w5)((()=>[(0,s.Wm)(et,{modelValue:qe.fecha_hasta_guias_asignar,"onUpdate:modelValue":[t[17]||(t[17]=e=>qe.fecha_hasta_guias_asignar=e),t[18]||(t[18]=e=>{this.$refs.qDateProxy.hide(),Re.getGuiasAsignar()})],mask:"DD/MM/YYYY",style:{"padding-bottom":"0px"}},null,8,["modelValue"])])),_:1},512)])),_:1})])),_:1},8,["modelValue"])]),(0,s._)("div",j,[(0,s.Wm)(Ze,{modelValue:qe.buscar_guia_asignar,"onUpdate:modelValue":t[21]||(t[21]=e=>qe.buscar_guia_asignar=e),rounded:"",dense:"",label:"Guía",onKeyup:t[22]||(t[22]=(0,l.D2)((t=>{e.find=this.detalles_costo_guias_asignar.findIndex((e=>e.nro_documento==this.buscar_guia_asignar)),e.find>=0&&(this.selectedGuiasAsignar.push(this.detalles_costo_guias_asignar[e.find]),this.buscar_guia_asignar="")}),["enter"]))},{append:(0,s.w5)((()=>[(0,s.Wm)(Xe,{onClick:t[20]||(t[20]=t=>{e.find=this.detalles_costo_guias_asignar.findIndex((e=>e.nro_documento==this.buscar_guia_asignar)),e.find>=0&&(this.selectedGuiasAsignar.push(this.detalles_costo_guias_asignar[e.find]),this.buscar_guia_asignar="")}),class:"cursor-pointer",name:"search"})])),_:1},8,["modelValue"])]),(0,s.Wm)(He,{rows:qe.detalles_costo_guias_asignar,dense:"",selection:"multiple",columns:qe.columnsDetalleGuiasAsignar,"binary-state-sort":"",separator:Te.separator,"rows-per-page-options":[0],selected:qe.selectedGuiasAsignar,"onUpdate:selected":t[23]||(t[23]=e=>qe.selectedGuiasAsignar=e),"row-key":"id",loading:Te.loadingGuias,style:{width:"100%","margin-top":"10px",height:"280px"},"hide-bottom":""},(0,s.Nv)({_:2},[this.detalles_costo_guias_asignar.length>0?{name:"bottom-row",fn:(0,s.w5)((()=>[(0,s.Wm)(ze,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ne,{colspan:"3"},{default:(0,s.w5)((()=>[(0,s._)("p",null,[(0,s._)("strong",null,(0,a.zw)("Cant: "+this.detalles_costo_guias_asignar.length),1)])])),_:1}),(0,s.Wm)(Ne,null,{default:(0,s.w5)((()=>[(0,s._)("strong",null,[(0,s._)("p",k,(0,a.zw)(new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR",currencyDisplay:"code"}).format(this.total_detalle_guias_asignar).replace("EUR","").trim()),1)])])),_:1}),(0,s.Wm)(Ne,{colspan:"2"})])),_:1})]))}:void 0]),1032,["rows","columns","separator","selected","loading"])])])),_:1})])),_:1})]),(0,s._)("div",A,[(0,s._)("div",T,[(0,s.wy)(((0,s.wg)(),(0,s.j4)(Be,{dense:"",color:"primary",round:"",padding:"sm",icon:"close"},{default:(0,s.w5)((()=>[(0,s.Wm)(Fe,{class:"bg-primary",style:{"max-height":"30px"},"transition-show":"scale","transition-hide":"scale",color:"primary"},{default:(0,s.w5)((()=>[q])),_:1})])),_:1})),[[ct]])]),(0,s._)("div",R,[(0,s.Wm)(Be,{color:"primary",round:"",padding:"sm",icon:"chevron_right",onClick:t[24]||(t[24]=e=>Re.addSelectedGuia()),disabled:this.loadingGuias},null,8,["disabled"])]),(0,s._)("div",L,[(0,s.Wm)(Be,{color:"primary",round:"",padding:"sm",icon:"chevron_left",onClick:t[25]||(t[25]=e=>Re.deleteSelectedGuia()),disabled:this.loadingGuias},null,8,["disabled"])]),(0,s._)("div",B,[(0,s.Wm)(Be,{dense:"",color:"primary",round:"",padding:"sm",icon:"keyboard_double_arrow_right",onClick:t[26]||(t[26]=e=>{this.selectedGuiasAsignar=this.detalles_costo_guias_asignar,this.addSelectedGuia()}),disabled:this.loadingGuias},null,8,["disabled"])]),(0,s._)("div",S,[(0,s.Wm)(Be,{dense:"",color:"primary",round:"",padding:"sm",icon:"keyboard_double_arrow_left",onClick:t[27]||(t[27]=e=>{this.selectedGuias=JSON.parse(JSON.stringify(this.detalles_costo_guias)),this.deleteSelectedGuia()}),disabled:this.loadingGuias},null,8,["disabled"])])]),(0,s._)("div",Y,[(0,s.Wm)(Ke,{style:{"margin-top":"10px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(Ye,null,{default:(0,s.w5)((()=>[(0,s._)("div",K,[$,(0,s._)("div",G,[(0,s.Wm)(Ze,{modelValue:qe.fecha_desde_guias,"onUpdate:modelValue":t[28]||(t[28]=e=>qe.fecha_desde_guias=e),rounded:"",dense:"",label:"Fecha Envío",disable:""},null,8,["modelValue"])]),(0,s._)("div",z,[(0,s.Wm)(Ze,{modelValue:qe.transporte_guias,"onUpdate:modelValue":t[29]||(t[29]=e=>qe.transporte_guias=e),rounded:"",dense:"",label:"Transporte",disable:""},null,8,["modelValue"])]),(0,s._)("div",Z,[(0,s.Wm)(Ze,{modelValue:qe.buscar_guia,"onUpdate:modelValue":t[31]||(t[31]=e=>qe.buscar_guia=e),rounded:"",dense:"",label:"Guía",onKeyup:t[32]||(t[32]=(0,l.D2)((t=>{e.find=this.detalles_costo_guias.findIndex((e=>e.movimientos.nro_documento==this.buscar_guia)),e.find>=0&&(this.selectedGuias.push(this.detalles_costo_guias[e.find]),this.buscar_guia="")}),["enter"]))},{append:(0,s.w5)((()=>[(0,s.Wm)(Xe,{onClick:t[30]||(t[30]=t=>{e.find=this.detalles_costo_guias.findIndex((e=>e.movimientos.nro_documento==this.buscar_guia)),e.find>=0&&(this.selectedGuias.push(this.detalles_costo_guias[e.find]),this.buscar_guia="")}),class:"cursor-pointer",name:"search"})])),_:1},8,["modelValue"])]),(0,s.Wm)(He,{rows:qe.detalles_costo_guias,dense:"",selection:"multiple",columns:qe.columnsDetalleGuias,"binary-state-sort":"",separator:Te.separator,"rows-per-page-options":[0],selected:qe.selectedGuias,"onUpdate:selected":t[33]||(t[33]=e=>qe.selectedGuias=e),"row-key":"id",loading:Te.loadingGuias,style:{width:"100%","margin-top":"10px",height:"280px"},"hide-bottom":""},(0,s.Nv)({_:2},[this.detalles_costo_guias.length>0?{name:"bottom-row",fn:(0,s.w5)((()=>[(0,s.Wm)(ze,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Ne,{colspan:"3"},{default:(0,s.w5)((()=>[(0,s._)("p",null,[(0,s._)("strong",null,(0,a.zw)("Cant: "+this.detalles_costo_guias.length),1)])])),_:1}),(0,s.Wm)(Ne,null,{default:(0,s.w5)((()=>[(0,s._)("strong",null,[(0,s._)("p",F,(0,a.zw)(new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR",currencyDisplay:"code"}).format(this.total_detalle_guias).replace("EUR","").trim()),1)])])),_:1})])),_:1})]))}:void 0]),1032,["rows","columns","separator","selected","loading"])])])),_:1})])),_:1})])])])])])),_:1})])),_:1},8,["modelValue"]),(0,s._)("div",N,[(0,s._)("div",H,[Q,(0,s._)("div",J,[(0,s.Wm)(Le,{rounded:"",dense:"","transition-show":"flip-up","transition-hide":"flip-down",options:qe.agenciasSelected,onFilter:t[35]||(t[35]=(e,t)=>Re.filterArray(e,t,"agenciasSelected","agencias","nb_agencia")),"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0","option-label":"nb_agencia","option-value":"id",modelValue:qe.selectedAgencia,"onUpdate:modelValue":[t[36]||(t[36]=e=>qe.selectedAgencia=e),t[37]||(t[37]=e=>{this.agentes=[],this.$refs.methods.getData("/agentes","setData","agentes",{headers:{Authorization:"",agencia:this.selectedAgencia.id}}),Re.getDataTable()})],outlined:"",standout:"",label:"Agencia Origen"},{"no-option":(0,s.w5)((()=>[(0,s.Wm)(Je,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Qe,{class:"text-grey"},{default:(0,s.w5)((()=>[X])),_:1})])),_:1})])),prepend:(0,s.w5)((()=>[(0,s.Wm)(Xe,{name:"search"})])),_:1},8,["options","modelValue"])]),(0,s._)("div",ee,[(0,s.Wm)(Ze,{outlined:"",label:"Fecha Desde",hint:"",dense:"",rounded:"",style:{"padding-bottom":"0px"},modelValue:qe.fecha_desde,"onUpdate:modelValue":t[40]||(t[40]=e=>qe.fecha_desde=e),"lazy-rules":"",mask:"##/##/####",rules:[e=>this.$refs.rulesVue.checkDate(e)],onKeyup:t[41]||(t[41]=(0,l.D2)((e=>Re.getDataTable()),["enter"]))},{append:(0,s.w5)((()=>[(0,s.Wm)(Xe,{name:"event",class:"cursor-pointer"},{default:(0,s.w5)((()=>[(0,s.Wm)(tt,{ref:"qDateProxy","transition-show":"scale","transition-hide":"scale"},{default:(0,s.w5)((()=>[(0,s.Wm)(et,{modelValue:qe.fecha_desde,"onUpdate:modelValue":[t[38]||(t[38]=e=>qe.fecha_desde=e),t[39]||(t[39]=e=>{this.$refs.qDateProxy.hide(),Re.getDataTable()})],mask:"DD/MM/YYYY",style:{"padding-bottom":"0px"}},null,8,["modelValue"])])),_:1},512)])),_:1})])),_:1},8,["modelValue","rules"])]),(0,s._)("div",te,[(0,s.Wm)(Ze,{outlined:"",label:"Fecha Hasta",hint:"",dense:"",rounded:"",style:{"padding-bottom":"0px"},modelValue:qe.fecha_hasta,"onUpdate:modelValue":t[44]||(t[44]=e=>qe.fecha_hasta=e),"lazy-rules":"",mask:"##/##/####",rules:[e=>this.$refs.rulesVue.checkDate(e)],onKeyup:t[45]||(t[45]=(0,l.D2)((e=>Re.getDataTable()),["enter"]))},{append:(0,s.w5)((()=>[(0,s.Wm)(Xe,{name:"event",class:"cursor-pointer"},{default:(0,s.w5)((()=>[(0,s.Wm)(tt,{ref:"qDateProxy","transition-show":"scale","transition-hide":"scale"},{default:(0,s.w5)((()=>[(0,s.Wm)(et,{modelValue:qe.fecha_hasta,"onUpdate:modelValue":[t[42]||(t[42]=e=>qe.fecha_hasta=e),t[43]||(t[43]=e=>{this.$refs.qDateProxy.hide(),Re.getDataTable()})],mask:"DD/MM/YYYY",style:{"padding-bottom":"0px"}},null,8,["modelValue"])])),_:1},512)])),_:1})])),_:1},8,["modelValue","rules"])]),(0,s._)("div",oe,[(0,s.Wm)(Be,{dense:"",color:"primary",round:"",padding:"sm",style:{"margin-right":"15px"},onClick:t[46]||(t[46]=e=>Re.addData())},{default:(0,s.w5)((()=>[(0,s.Wm)(Xe,{size:"25px",name:"add",color:"white"}),(0,s.Wm)(Fe,{class:"bg-primary",style:{"max-height":"30px"},"transition-show":"scale","transition-hide":"scale",color:"primary"},{default:(0,s.w5)((()=>[se])),_:1})])),_:1}),(0,s.Wm)(Be,{dense:"",color:"primary",round:"",padding:"sm",style:{"margin-right":"15px"},onClick:t[47]||(t[47]=e=>Re.sendData())},{default:(0,s.w5)((()=>[(0,s.Wm)(Xe,{size:"25px",name:"save",color:"white"}),(0,s.Wm)(Fe,{class:"bg-primary",style:{"max-height":"30px"},"transition-show":"scale","transition-hide":"scale",color:"primary"},{default:(0,s.w5)((()=>[ae])),_:1})])),_:1}),(0,s.Wm)(Be,{dense:"",color:"primary",round:"",padding:"sm",style:{"margin-right":"15px"},onClick:t[48]||(t[48]=e=>Re.resetFilters())},{default:(0,s.w5)((()=>[(0,s.Wm)(Xe,{size:"25px",name:"filter_alt_off",color:"white"}),(0,s.Wm)(Fe,{class:"bg-primary",style:{"max-height":"30px"},"transition-show":"scale","transition-hide":"scale",color:"primary"},{default:(0,s.w5)((()=>[le])),_:1})])),_:1}),(0,s.Wm)(Be,{dense:"",color:"primary",round:"",padding:"sm",onClick:t[49]||(t[49]=e=>{this.selectedTipo=this.tipoImpresion2[0],this.tipoReporte=2,qe.printOptions=!0}),disabled:!(this.costos.length>0)},{default:(0,s.w5)((()=>[(0,s.Wm)(Xe,{size:"25px",name:"print",color:"white"}),(0,s.Wm)(Fe,{class:"bg-primary","transition-show":"scale",style:{"max-height":"30px"},"transition-hide":"scale",color:"primary"},{default:(0,s.w5)((()=>[ie])),_:1})])),_:1},8,["disabled"])])])]),(0,s._)("div",ne,[(0,s.Wm)(He,{rows:qe.costos,columns:qe.columns,"binary-state-sort":"",separator:Te.separator,"row-key":"id",loading:Te.loading,"rows-per-page-options":[0],style:{width:"100%",height:"510px"},grid:e.$q.screen.xs,"hide-bottom":"","visible-columns":qe.visibleColumns,pagination:qe.pagination,"onUpdate:pagination":t[52]||(t[52]=e=>qe.pagination=e)},{loading:(0,s.w5)((()=>[(0,s.Wm)(ot,{showing:"",color:"primary",class:"loading"})])),header:(0,s.w5)((e=>[(0,s.Wm)(ze,{props:e},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.cols,(t=>((0,s.wg)(),(0,s.j4)(Ge,{key:t.name,props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(t.label),1)])),_:2},1032,["props"])))),128))])),_:2},1032,["props"])])),body:(0,s.w5)((e=>[(0,s.Wm)(ze,{props:e},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.cols,(o=>((0,s.wg)(),(0,s.j4)(Ne,{key:o.name,props:e},{default:(0,s.w5)((()=>["action"==o.name?((0,s.wg)(),(0,s.iD)("div",de,[(0,s.Wm)(Be,{dense:"",round:"",flat:"",color:"primary",icon:"cancel_presentation",onClick:t=>{qe.selected=e.row.id,qe.selectedIndex=e.rowIndex},onClickCapture:t[50]||(t[50]=e=>Te.deletePopup=!0)},{default:(0,s.w5)((()=>[(0,s.Wm)(Fe,{class:"bg-primary","transition-show":"scale",style:{"max-height":"30px"},"transition-hide":"scale",color:"primary"},{default:(0,s.w5)((()=>[re])),_:1})])),_:2},1032,["onClick"]),(0,s.Wm)(Be,{dense:"",round:"",flat:"",color:"primary",icon:"print",onClick:t=>{this.selectedTipo=this.tipoImpresion1[0],this.tipoReporte=1,qe.printOptions=!0,qe.selected=e.row.id},disabled:!(this.costos.length>0)},{default:(0,s.w5)((()=>[(0,s.Wm)(Fe,{class:"bg-primary","transition-show":"scale",style:{"max-height":"30px"},"transition-hide":"scale",color:"primary"},{default:(0,s.w5)((()=>[ce])),_:1})])),_:2},1032,["onClick","disabled"])])):(0,s.kq)("",!0),"fecha_envio"==o.name?((0,s.wg)(),(0,s.iD)("div",_e,[(0,s.Wm)(Ze,{dense:"",outlined:"",modelValue:e.row.fecha_envio,"onUpdate:modelValue":t=>e.row.fecha_envio=t,ref_for:!0,ref:"fecha_envio"+e.rowIndex,"lazy-rules":"",rules:[e=>this.$refs.rulesVue.isReq(e),e=>this.$refs.rulesVue.checkDate(e)],mask:"##/##/####",style:{"padding-top":"5px","margin-bottom":"-15px","min-width":"150px"}},{append:(0,s.w5)((()=>[(0,s.Wm)(Xe,{name:"event",class:"cursor-pointer"},{default:(0,s.w5)((()=>[(0,s.Wm)(tt,{ref_for:!0,ref:"qDateProxy","transition-show":"scale","transition-hide":"scale"},{default:(0,s.w5)((()=>[(0,s.Wm)(et,{modelValue:e.row.fecha_envio,"onUpdate:modelValue":[t=>e.row.fecha_envio=t,t[51]||(t[51]=e=>this.$refs.qDateProxy[0].hide())],mask:"DD/MM/YYYY"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1536)])),_:2},1024)])),_:2},1032,["modelValue","onUpdate:modelValue","rules"])])):"tipo_transporte"==o.name?((0,s.wg)(),(0,s.iD)("div",ue,[(0,s.Wm)(st,{modelValue:e.row.tipo_transporte,"onUpdate:modelValue":t=>e.row.tipo_transporte=t,spread:"",class:"my-custom-toggle",rounded:"",unelevated:"","toggle-color":"primary",color:"white","text-color":"black",options:qe.tipo},null,8,["modelValue","onUpdate:modelValue","options"])])):"cod_agente"==o.name?((0,s.wg)(),(0,s.iD)("div",me,["I"==e.row.tipo_transporte?((0,s.wg)(),(0,s.j4)(Le,{key:0,dense:"",outlined:"","fill-input":"","input-debounce":"0",options:qe.agentes,"option-label":"persona_responsable","option-value":"id",modelValue:e.row.cod_agente,"onUpdate:modelValue":t=>e.row.cod_agente=t},{"selected-item":(0,s.w5)((t=>[(0,s.Uk)((0,a.zw)(e.row.cod_agente.id?e.row.cod_agente.persona_responsable:this.findIndex("agentes",e.row.cod_agente,"persona_responsable")),1)])),_:2},1032,["options","modelValue","onUpdate:modelValue"])):((0,s.wg)(),(0,s.j4)(Le,{key:1,dense:"",outlined:"","fill-input":"","input-debounce":"0",options:qe.proveedores,"option-label":"nb_proveedor","option-value":"id",modelValue:e.row.cod_proveedor,"onUpdate:modelValue":t=>e.row.cod_proveedor=t},{"selected-item":(0,s.w5)((t=>[(0,s.Uk)((0,a.zw)(e.row.cod_proveedor.id?e.row.cod_proveedor.nb_proveedor:this.findIndex("proveedores",e.row.cod_proveedor,"nb_proveedor")),1)])),_:2},1032,["options","modelValue","onUpdate:modelValue"]))])):"cod_transporte"==o.name?((0,s.wg)(),(0,s.iD)("div",pe,[(0,s.Wm)(Le,{dense:"",outlined:"","fill-input":"","input-debounce":"0",options:qe.unidades,"option-label":"descripcion","option-value":"id",modelValue:e.row.cod_transporte,"onUpdate:modelValue":t=>e.row.cod_transporte=t},{"selected-item":(0,s.w5)((t=>[(0,s.Uk)((0,a.zw)(e.row.cod_transporte.id?e.row.cod_transporte.descripcion:this.findIndex("unidades",e.row.cod_transporte,"descripcion")),1)])),_:2},1032,["options","modelValue","onUpdate:modelValue"])])):"cod_ayudante"==o.name?((0,s.wg)(),(0,s.iD)("div",he,[(0,s.Wm)(Le,{dense:"",outlined:"","fill-input":"","input-debounce":"0",options:qe.ayudantes,"option-label":"nb_ayudante","option-value":"id",style:{"min-width":"150px"},modelValue:e.row.cod_ayudante,"onUpdate:modelValue":t=>e.row.cod_ayudante=t},{"selected-item":(0,s.w5)((t=>[(0,s.Uk)((0,a.zw)(e.row.cod_ayudante.id?e.row.cod_ayudante.nb_ayudante:this.findIndex("ayudantes",e.row.cod_ayudante,"nb_ayudante")),1)])),_:2},1032,["options","modelValue","onUpdate:modelValue"])])):"cod_agencia"==o.name?((0,s.wg)(),(0,s.iD)("div",ge,[(0,s.Wm)(Le,{dense:"",outlined:"","fill-input":"","input-debounce":"0",options:qe.agencias,"option-label":"nb_agencia","option-value":"id",style:{"min-width":"150px"},modelValue:e.row.cod_agencia,"onUpdate:modelValue":t=>e.row.cod_agencia=t},{"selected-item":(0,s.w5)((t=>[(0,s.Uk)((0,a.zw)(e.row.cod_agencia.id?e.row.cod_agencia.nb_agencia:this.findIndex("agencias",e.row.cod_agencia,"nb_agencia")),1)])),_:2},1032,["options","modelValue","onUpdate:modelValue"])])):"destino"==o.name?((0,s.wg)(),(0,s.iD)("div",fe,[(0,s.Wm)(Ze,{dense:"",outlined:"",modelValue:e.row.destino,"onUpdate:modelValue":t=>e.row.destino=t,style:{"min-width":"250px"}},null,8,["modelValue","onUpdate:modelValue"])])):"monto_anticipo"==o.name?((0,s.wg)(),(0,s.iD)("div",we,[(0,s.wy)((0,s.Wm)(Ze,{dense:"",outlined:"",modelValue:e.row.monto_anticipo,"onUpdate:modelValue":t=>e.row.monto_anticipo=t,"input-class":"text-right",style:{"padding-top":"5px","margin-bottom":"-15px","min-width":"100px"},rules:[e=>this.$refs.rulesVue.isMax(e,14)]},null,8,["modelValue","onUpdate:modelValue","rules"]),[[rt,qe.money]])])):"monto_guias"==o.name?((0,s.wg)(),(0,s.iD)("div",De,[(0,s.wy)((0,s.Wm)(Ze,{dense:"",outlined:"",modelValue:e.row.monto_guias,"onUpdate:modelValue":t=>e.row.monto_guias=t,"input-class":"text-right",style:{"min-width":"100px"},onKeydown:t=>Re.onLoadDetalleGuias(e.rowIndex),onClick:t=>Re.onLoadDetalleGuias(e.rowIndex)},null,8,["modelValue","onUpdate:modelValue","onKeydown","onClick"]),[[rt,qe.money]])])):"monto_costo"==o.name?((0,s.wg)(),(0,s.iD)("div",ye,[(0,s.wy)((0,s.Wm)(Ze,{dense:"",outlined:"",modelValue:e.row.monto_costo,"onUpdate:modelValue":t=>e.row.monto_costo=t,"input-class":"text-right","input-style":{color:"#060640"},style:{"min-width":"100px"},onKeydown:t=>Re.onLoadDetalle(e.rowIndex),onClick:t=>Re.onLoadDetalle(e.rowIndex)},null,8,["modelValue","onUpdate:modelValue","onKeydown","onClick"]),[[rt,qe.money]])])):"utilidad"==o.name?((0,s.wg)(),(0,s.iD)("div",be,[(0,s.wy)((0,s.Wm)(Ze,{dense:"",outlined:"",modelValue:e.row.utilidad,"onUpdate:modelValue":t=>e.row.utilidad=t,readonly:!0,"input-class":"text-right",style:{"min-width":"100px"}},null,8,["modelValue","onUpdate:modelValue"]),[[rt,qe.money]])])):"porc_costo"==o.name?((0,s.wg)(),(0,s.iD)("div",ve,[(0,s.wy)((0,s.Wm)(Ze,{dense:"",outlined:"",modelValue:e.row.porc_costo,"onUpdate:modelValue":t=>e.row.porc_costo=t,readonly:!0,"input-class":"text-right",style:{"min-width":"100px"}},null,8,["modelValue","onUpdate:modelValue"]),[[rt,qe.money_porc]])])):"porc_utilidad"==o.name?((0,s.wg)(),(0,s.iD)("div",xe,[(0,s.wy)((0,s.Wm)(Ze,{dense:"",outlined:"",modelValue:e.row.porc_utilidad,"onUpdate:modelValue":t=>e.row.porc_utilidad=t,readonly:!0,"input-class":"text-right",style:{"min-width":"100px"}},null,8,["modelValue","onUpdate:modelValue"]),[[rt,qe.money_porc]])])):"observacion_gnral"==o.name?((0,s.wg)(),(0,s.iD)("div",Ee,[(0,s.Wm)(Ze,{dense:"",outlined:"",modelValue:e.row.observacion_gnral,"onUpdate:modelValue":t=>e.row.observacion_gnral=t,style:{"min-width":"600px"}},null,8,["modelValue","onUpdate:modelValue"])])):((0,s.wg)(),(0,s.iD)("div",Ce,(0,a.zw)(o.value),1))])),_:2},1032,["props"])))),128))])),_:2},1032,["props"])])),_:1},8,["rows","columns","separator","loading","grid","visible-columns","pagination"]),(0,s._)("div",Me,[(0,s.Wm)(Ke,{class:"q-pa-md col-md-12 col-xs-12",bordered:"",style:{padding:"5px","margin-top":"10px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(Ye,{style:{padding:"5px","margin-bottom":"-22px"}},{default:(0,s.w5)((()=>[(0,s._)("div",We,[(0,s._)("div",Pe,[(0,s.Wm)(Ze,{outlined:"",modelValue:qe.cantidad,"onUpdate:modelValue":t[53]||(t[53]=e=>qe.cantidad=e),label:"Cantidad",hint:"",dense:"",disable:!0,"input-class":"text-right",class:"pcform"},null,8,["modelValue"])]),(0,s._)("div",Ve,[(0,s.wy)((0,s.Wm)(Ze,{outlined:"",modelValue:qe.total_costo,"onUpdate:modelValue":t[54]||(t[54]=e=>qe.total_costo=e),label:"Costo",class:"pcform",dense:"",disable:!0,"input-class":"text-right"},null,8,["modelValue"]),[[rt,qe.money]])]),(0,s._)("div",Ue,[(0,s.wy)((0,s.Wm)(Ze,{outlined:"",modelValue:qe.total_guias,"onUpdate:modelValue":t[55]||(t[55]=e=>qe.total_guias=e),label:"Venta","input-class":"text-right",disable:!0,dense:"",class:"pcform"},null,8,["modelValue"]),[[rt,qe.money]])]),(0,s._)("div",Oe,[(0,s.wy)((0,s.Wm)(Ze,{outlined:"",modelValue:qe.total_utilidad,"onUpdate:modelValue":t[56]||(t[56]=e=>qe.total_utilidad=e),label:"Utilidad",class:"pcform",dense:"",disable:!0,"input-class":"text-right"},null,8,["modelValue"]),[[rt,qe.money]])]),(0,s._)("div",Ie,[(0,s.wy)(((0,s.wg)(),(0,s.j4)(Ze,{outlined:"",modelValue:qe.total_porc_costo,"onUpdate:modelValue":t[57]||(t[57]=e=>qe.total_porc_costo=e),label:"% Costo",class:"pcform",dense:"",disable:!0,"input-class":"text-right"},{append:(0,s.w5)((()=>[(0,s.Wm)(Xe,{name:"percent",class:"cursor-pointer"})])),_:1},8,["modelValue"])),[[rt,qe.money_porc]])]),(0,s._)("div",je,[(0,s.wy)(((0,s.wg)(),(0,s.j4)(Ze,{outlined:"",modelValue:qe.total_porc_utilidad,"onUpdate:modelValue":t[58]||(t[58]=e=>qe.total_porc_utilidad=e),label:"% Utilidad",class:"pcform",dense:"",disable:!0,"input-class":"text-right"},{append:(0,s.w5)((()=>[(0,s.Wm)(Xe,{name:"percent",class:"cursor-pointer"})])),_:1},8,["modelValue"])),[[rt,qe.money_porc]])])])])),_:1})])),_:1})])]),(0,s.Wm)($e,{modelValue:Te.deletePopup,"onUpdate:modelValue":t[60]||(t[60]=e=>Te.deletePopup=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(Ke,{style:{width:"700px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(Ye,null,{default:(0,s.w5)((()=>[ke])),_:1}),(0,s.Wm)(at,{align:"right"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(Be,{flat:"",label:"Cancelar",color:"primary"},null,512),[[ct]]),(0,s.wy)((0,s.Wm)(Be,{flat:"",label:"Aceptar",color:"primary",onClick:t[59]||(t[59]=e=>Re.deleteCosto())},null,512),[[ct]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)($e,{modelValue:Te.pdfView,"onUpdate:modelValue":t[62]||(t[62]=e=>Te.pdfView=e),onShow:t[63]||(t[63]=e=>this.pdfPrint())},{default:(0,s.w5)((()=>[(0,s._)("div",Ae,[(0,s.Wm)(lt,{ref:"webViewer",onClosePdf:t[61]||(t[61]=e=>this.pdfView=!1)},null,512)])])),_:1},8,["modelValue"]),(0,s.Wm)(it,{ref:"methods",onSetData:Re.setData,onSetDataInit:Re.setDataInit,onGetDataTable:Re.getDataTable,onSetDataTable:Re.setDataTable,onSetDataPermisos:Re.setDataPermisos},null,8,["onSetData","onSetDataInit","onGetDataTable","onSetDataTable","onSetDataPermisos"]),(0,s.Wm)(nt,{ref:"rulesVue"},null,512)])),_:1})}var qe=o(33934),Re=o(74260),Le=o(24379),Be=o(46778),Se=o(10151),Ye=o(25589),Ke=o(72448),$e=o(48240),Ge=o(65735),ze=o(96023),Ze=o(18186),Fe=o(92414),Ne=o(83884),He=o(64689),Qe=o(5363),Je=o(83414),Xe=o(52035),et=o(24554),tt=o(83944),ot=o(85626),st=o(66941),at=o(38761),lt=o(99367),it=o(60677),nt=o(7518),dt=o.n(nt);const rt=(0,Re.Z)(qe.Z,[["render",Te]]),ct=rt;dt()(qe.Z,"components",{QPage:Le.Z,QDialog:Be.Z,QCard:Se.Z,QCardSection:Ye.Z,QSelect:Ke.Z,QBtn:$e.Z,QCheckbox:Ge.Z,QTable:ze.Z,QTr:Ze.Z,QTh:Fe.Z,QTd:Ne.Z,QInput:He.Z,QTooltip:Qe.Z,QItem:Je.Z,QItemSection:Xe.Z,QIcon:et.Z,QPopupProxy:tt.Z,QDate:ot.Z,QInnerLoading:st.Z,QBtnToggle:at.Z,QCardActions:lt.Z}),dt()(qe.Z,"directives",{ClosePopup:it.Z})},46700:(e,t,o)=>{var s={"./af":5809,"./af.js":5809,"./ar":46069,"./ar-dz":70481,"./ar-dz.js":70481,"./ar-kw":93994,"./ar-kw.js":93994,"./ar-ly":33312,"./ar-ly.js":33312,"./ar-ma":90239,"./ar-ma.js":90239,"./ar-sa":31863,"./ar-sa.js":31863,"./ar-tn":19607,"./ar-tn.js":19607,"./ar.js":46069,"./az":69281,"./az.js":69281,"./be":29945,"./be.js":29945,"./bg":59384,"./bg.js":59384,"./bm":21476,"./bm.js":21476,"./bn":43345,"./bn-bd":70216,"./bn-bd.js":70216,"./bn.js":43345,"./bo":81713,"./bo.js":81713,"./br":19655,"./br.js":19655,"./bs":87296,"./bs.js":87296,"./ca":43049,"./ca.js":43049,"./cs":62722,"./cs.js":62722,"./cv":98039,"./cv.js":98039,"./cy":95563,"./cy.js":95563,"./da":31960,"./da.js":31960,"./de":67533,"./de-at":76674,"./de-at.js":76674,"./de-ch":17732,"./de-ch.js":17732,"./de.js":67533,"./dv":78343,"./dv.js":78343,"./el":37004,"./el.js":37004,"./en-au":32517,"./en-au.js":32517,"./en-ca":84929,"./en-ca.js":84929,"./en-gb":99722,"./en-gb.js":99722,"./en-ie":96923,"./en-ie.js":96923,"./en-il":68050,"./en-il.js":68050,"./en-in":99624,"./en-in.js":99624,"./en-nz":70540,"./en-nz.js":70540,"./en-sg":14375,"./en-sg.js":14375,"./eo":10040,"./eo.js":10040,"./es":99720,"./es-do":25595,"./es-do.js":25595,"./es-mx":10180,"./es-mx.js":10180,"./es-us":61563,"./es-us.js":61563,"./es.js":99720,"./et":9217,"./et.js":9217,"./eu":39474,"./eu.js":39474,"./fa":85243,"./fa.js":85243,"./fi":57645,"./fi.js":57645,"./fil":55350,"./fil.js":55350,"./fo":75622,"./fo.js":75622,"./fr":91467,"./fr-ca":53439,"./fr-ca.js":53439,"./fr-ch":14335,"./fr-ch.js":14335,"./fr.js":91467,"./fy":86026,"./fy.js":86026,"./ga":32969,"./ga.js":32969,"./gd":21347,"./gd.js":21347,"./gl":11085,"./gl.js":11085,"./gom-deva":904,"./gom-deva.js":904,"./gom-latn":69597,"./gom-latn.js":69597,"./gu":28705,"./gu.js":28705,"./he":69128,"./he.js":69128,"./hi":92821,"./hi.js":92821,"./hr":9002,"./hr.js":9002,"./hu":94814,"./hu.js":94814,"./hy-am":30658,"./hy-am.js":30658,"./id":29344,"./id.js":29344,"./is":28204,"./is.js":28204,"./it":70376,"./it-ch":81549,"./it-ch.js":81549,"./it.js":70376,"./ja":69293,"./ja.js":69293,"./jv":96401,"./jv.js":96401,"./ka":60482,"./ka.js":60482,"./kk":87329,"./kk.js":87329,"./km":44241,"./km.js":44241,"./kn":23566,"./kn.js":23566,"./ko":52742,"./ko.js":52742,"./ku":92915,"./ku.js":92915,"./ky":86846,"./ky.js":86846,"./lb":44959,"./lb.js":44959,"./lo":82188,"./lo.js":82188,"./lt":58967,"./lt.js":58967,"./lv":41245,"./lv.js":41245,"./me":90751,"./me.js":90751,"./mi":57501,"./mi.js":57501,"./mk":11643,"./mk.js":11643,"./ml":15597,"./ml.js":15597,"./mn":67612,"./mn.js":67612,"./mr":19065,"./mr.js":19065,"./ms":84703,"./ms-my":84645,"./ms-my.js":84645,"./ms.js":84703,"./mt":64365,"./mt.js":64365,"./my":83788,"./my.js":83788,"./nb":57357,"./nb.js":57357,"./ne":99109,"./ne.js":99109,"./nl":63746,"./nl-be":31985,"./nl-be.js":31985,"./nl.js":63746,"./nn":27175,"./nn.js":27175,"./oc-lnc":70566,"./oc-lnc.js":70566,"./pa-in":32733,"./pa-in.js":32733,"./pl":182,"./pl.js":182,"./pt":505,"./pt-br":17839,"./pt-br.js":17839,"./pt.js":505,"./ro":39578,"./ro.js":39578,"./ru":32328,"./ru.js":32328,"./sd":641,"./sd.js":641,"./se":51758,"./se.js":51758,"./si":36680,"./si.js":36680,"./sk":25016,"./sk.js":25016,"./sl":7424,"./sl.js":7424,"./sq":88635,"./sq.js":88635,"./sr":49038,"./sr-cyrl":73716,"./sr-cyrl.js":73716,"./sr.js":49038,"./ss":64771,"./ss.js":64771,"./sv":3517,"./sv.js":3517,"./sw":39419,"./sw.js":39419,"./ta":55959,"./ta.js":55959,"./te":21739,"./te.js":21739,"./tet":22264,"./tet.js":22264,"./tg":94792,"./tg.js":94792,"./th":88328,"./th.js":88328,"./tk":60702,"./tk.js":60702,"./tl-ph":57814,"./tl-ph.js":57814,"./tlh":10797,"./tlh.js":10797,"./tr":16691,"./tr.js":16691,"./tzl":76891,"./tzl.js":76891,"./tzm":16362,"./tzm-latn":37855,"./tzm-latn.js":37855,"./tzm.js":16362,"./ug-cn":77606,"./ug-cn.js":77606,"./uk":30513,"./uk.js":30513,"./ur":43803,"./ur.js":43803,"./uz":60344,"./uz-latn":8957,"./uz-latn.js":8957,"./uz.js":60344,"./vi":70003,"./vi.js":70003,"./x-pseudo":8842,"./x-pseudo.js":8842,"./yo":62083,"./yo.js":62083,"./zh-cn":84536,"./zh-cn.js":84536,"./zh-hk":92475,"./zh-hk.js":92475,"./zh-mo":67593,"./zh-mo.js":67593,"./zh-tw":4746,"./zh-tw.js":4746};function a(e){var t=l(e);return o(t)}function l(e){if(!o.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}a.keys=function(){return Object.keys(s)},a.resolve=l,e.exports=a,a.id=46700}}]);