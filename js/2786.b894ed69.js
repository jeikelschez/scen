"use strict";(globalThis["webpackChunktest"]=globalThis["webpackChunktest"]||[]).push([[2786],{93899:(e,t,o)=>{function s(e,t,o,s,r,a){return null}o.d(t,{A:()=>u});var r=o(45022),a=o(80660),i=o(14907);const n={setup(){const e=(0,i.A)();return{errorDelServidor(){this.$emit("resetLoading"),e.notify({message:this.error,color:"red"})},añadidoConExito(){e.notify({message:"Agregado exitosamente",color:"green"})},editadoConExito(){e.notify({message:"Editado exitosamente",color:"green"})},eliminadoConExito(){e.notify({message:"Eliminado exitosamente",color:"green"})}}},methods:{getData:function(e,t,o,s={headers:{}}){s.headers.Authorization=`Bearer ${r.A.getItem("token")}`,a.api.get(e,s).then((e=>{this.$emit(t,e.data,o)})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor(),this.$emit("resetLoading")}))},createData:function(e,t,o,s={headers:{}}){s.headers.Authorization=`Bearer ${r.A.getItem("token")}`,a.api.post(e,t,s).then((e=>{(e.status=200)&&(this.$emit(o),this.añadidoConExito())})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor(),this.$emit("resetLoading")}))},putData:function(e,t,o,s={headers:{}}){s.headers.Authorization=`Bearer ${r.A.getItem("token")}`,a.api.put(e,t,s).then((e=>{(e.status=200)&&(this.$emit(o),this.editadoConExito())})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor()}))},deleteData:function(e,t,o={headers:{}}){o.headers.Authorization=`Bearer ${r.A.getItem("token")}`,a.api.delete(e,o).then((e=>{(e.status=200)&&(this.$emit(t),this.eliminadoConExito())})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor(),this.$emit("resetLoading")}))},login:function(e,t,o,s={headers:{}}){s.headers.Authorization=`Bearer ${r.A.getItem("token")}`,a.api.post(e,t,s).then((e=>{(e.status=200)&&this.$emit(o,e.data)})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor()}))}}};var l=o(12807);const d=(0,l.A)(n,[["render",s]]),u=d},12786:(e,t,o)=>{o.r(t),o.d(t,{default:()=>F});var s=o(61758);const r={class:"fix-center text-center"},a={class:"frame q-pa-xl pad"},i=(0,s.Lk)("p",{class:"titulo"},"SCEN",-1),n={class:"column"},l={class:"col q-gutter-md"},d=(0,s.Lk)("div",{class:"q-pa-lg"},null,-1),u={class:"col q-gutter-md"};function m(e,t,o,m,h,g){const c=(0,s.g2)("q-icon"),p=(0,s.g2)("q-input"),f=(0,s.g2)("q-btn"),b=(0,s.g2)("q-form"),A=(0,s.g2)("methods"),k=(0,s.g2)("user-logout"),$=(0,s.g2)("q-page"),v=(0,s.g2)("q-page-container"),L=(0,s.g2)("q-layout");return(0,s.uX)(),(0,s.Wv)(L,null,{default:(0,s.k6)((()=>[(0,s.bF)(v,null,{default:(0,s.k6)((()=>[(0,s.bF)($,{class:"login"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",r,[(0,s.Lk)("div",a,[(0,s.bF)(b,{class:"q-gutter-md",onSubmit:g.onSubmit,onReset:g.onReset,novalidate:"novalidate"},{default:(0,s.k6)((()=>[i,(0,s.Lk)("div",n,[(0,s.Lk)("div",l,[(0,s.bF)(p,{required:"",color:"blue","bg-color":"white",filled:"",modelValue:h.form.username,"onUpdate:modelValue":t[0]||(t[0]=e=>h.form.username=e),label:e.$t("Login.user"),rules:[t=>!!t||e.$t("Login.blank_user")]},{prepend:(0,s.k6)((()=>[(0,s.bF)(c,{name:"perm_identity"})])),_:1},8,["modelValue","label","rules"]),(0,s.bF)(p,{color:"blue",standout:"","bg-color":"white",filled:"",modelValue:h.form.password,"onUpdate:modelValue":t[2]||(t[2]=e=>h.form.password=e),label:e.$t("Login.password"),type:h.isPwd?"password":"text",rules:[t=>!!t||e.$t("Login.blank_pass")]},{prepend:(0,s.k6)((()=>[(0,s.bF)(c,{name:"screen_lock_landscape"})])),append:(0,s.k6)((()=>[(0,s.bF)(c,{name:h.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:t[1]||(t[1]=e=>h.isPwd=!h.isPwd)},null,8,["name"])])),_:1},8,["modelValue","label","type","rules"])]),d,(0,s.Lk)("div",u,[(0,s.bF)(f,{glossy:"",label:e.$t("Login.login"),type:"submit"},null,8,["label"])])])])),_:1},8,["onSubmit","onReset"])])]),(0,s.bF)(A,{ref:"methods",onLogUser:g.logUser},null,8,["onLogUser"]),(0,s.bF)(k,{ref:"userLogout"},null,512)])),_:1})])),_:1})])),_:1})}o(10239);var h=o(45022),g=o(14907),c=o(39364),p=o(93899);const f={components:{"user-logout":c.A,methods:p.A},name:"login",data(){return{routes:[],form:{username:"",password:""},isPwd:!0,remember:!0,axiosConfig:{headers:{Authorization:""}}}},setup(){const e=(0,g.A)();return{isNotAuthenticated(){e.notify({message:"Hubo un error al Iniciar Sesion...",color:"red"})}}},mounted(){},methods:{onSubmit(){h.A.set("usuario",this.form.username),this.$refs.methods.login("/usuarios/login",this.form,"logUser",this.axiosConfig)},logUser(e){h.A.set("token",`${e.data.accessToken}`),h.A.set("user",!0),h.A.set("username",`${this.form.username}`),h.A.set("refreshToken",`${e.data.refreshToken}`),this.$router.push("/dashboard"),this.$refs.userLogout.login()},onReset(){this.form.username="",this.form.password=""}}};var b=o(12807),A=o(29078),k=o(45205),$=o(77716),v=o(49200),L=o(67837),w=o(50492),x=o(56384),y=o(98582),q=o.n(y);const C=(0,b.A)(f,[["render",m]]),F=C;q()(f,"components",{QLayout:A.A,QPageContainer:k.A,QPage:$.A,QForm:v.A,QInput:L.A,QIcon:w.A,QBtn:x.A})}}]);