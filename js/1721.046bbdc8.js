"use strict";(globalThis["webpackChunktest"]=globalThis["webpackChunktest"]||[]).push([[1721],{38015:(e,t,a)=>{function o(e,t,a,o,i,r){return null}a.d(t,{Z:()=>d});var i=a(80589),r=a(48825);const s={name:"desactivateCrud",data:function(){return{axiosConfig:{headers:{Authorization:`Bearer ${i.Z.getItem("token")}`}},error:"",permisos:[{permisoName:"r_bancos",permiso:!1,pagina:"disabledBancos",paginaSet:"disabledBancosSet"},{permisoName:"r_agencias",permiso:!1,pagina:"disabledAgencias",paginaSet:"disabledAgenciasSet"},{permisoName:"r_ciudades",permiso:!1,pagina:"disabledCiudades",paginaSet:"disabledCiudadesSet"},{permisoName:"r_permisos",permiso:!1,pagina:"disabledPermisos",paginaSet:"disabledPermisosSet"},{permisoName:"r_usuarios",permiso:!1,pagina:"disabledUsuarios",paginaSet:"disabledUsuariosSet"},{permisoName:"r_roles",permiso:!1,pagina:"disabledRoles",paginaSet:"disabledRolesSet"},{permisoName:"r_agentes",permiso:!1,pagina:"disabledAgentes",paginaSet:"disabledAgentesSet"},{permisoName:"r_zonas",permiso:!1,pagina:"disabledZonas",paginaSet:"disabledZonasSet"},{permisoName:"r_unidades",permiso:!1,pagina:"disabledUnidades",paginaSet:"disabledUnidadesSet"},{permisoName:"r_ayudantes",permiso:!1,pagina:"disabledAyudantes",paginaSet:"disabledAyudantesSet"},{permisoName:"r_receptores",permiso:!1,pagina:"disabledReceptores",paginaSet:"disabledReceptoresSet"},{permisoName:"r_tarifas",permiso:!1,pagina:"disabledTarifas",paginaSet:"disabledTarifasSet"},{permisoName:"r_ccorrelativo",permiso:!1,pagina:"disabledCcorrelativo",paginaSet:"disabledCcorrelativoSet"},{permisoName:"r_vcontrol",permiso:!1,pagina:"disabledVcontrol",paginaSet:"disabledVcontrolSet"},{permisoName:"r_cuentas",permiso:!1,pagina:"disabledCuentas",paginaSet:"disabledCuentasSet"},{permisoName:"r_clientes",permiso:!1,pagina:"disabledClientes",paginaSet:"disabledClientesSet"},{permisoName:"r_empleados",permiso:!1,pagina:"disabledEmpleados",paginaSet:"disabledEmpleadosSet"},{permisoName:"r_proveedores",permiso:!1,pagina:"disabledProveedores",paginaSet:"disabledProveedoresSet"},{permisoName:"r_retenciones",permiso:!1,pagina:"disabledRetenciones",paginaSet:"disabledRetencionesSet"},{permisoName:"r_concepto_operacion",permiso:!1,pagina:"disabledConceptoOperacion",paginaSet:"disabledConceptoOperacionSet"},{permisoName:"r_concepto_facturacion",permiso:!1,pagina:"disabledConceptoFacturacion",paginaSet:"disabledConceptoFacturacionSet"},{permisoName:"r_concepto_fpo",permiso:!1,pagina:"disabledConceptoFpo",paginaSet:"disabledConceptoFpoSet"},{permisoName:"r_asignacionguias",permiso:!1,pagina:"disabledAsignacionGuias",paginaSet:"disabledAsignacionGuiasSet"}]}},setup(){const e=(0,r.Z)();return{errorDelServidor(){e.notify({message:this.error,color:"red"})}}},methods:{desactivarCrud(e,t,a,o,r){for(var s,n,l,d,m=i.Z.getItem("tokenTraducido"),u=0,p=m.usuario.roles.permisos.length;u<p;u++)if(m.usuario.roles.permisos[u].codigo===e&&(s=!0),m.usuario.roles.permisos[u].codigo===o&&(l=!0),m.usuario.roles.permisos[u].codigo===a&&(d=!0),m.usuario.roles.permisos[u].codigo===t&&(n=!0),u==m.usuario.roles.permisos.length.length-1)break;e=!0===s,o=!0===l,a=!0===d,t=!0===n,this.$emit(r,e,t,o,a)},desactivarOpciones(e){for(var t=i.Z.getItem("tokenTraducido"),a=0,o=this.permisos.length;a<o;a++){var r=0;for(o=t.usuario.roles.permisos.length;r<o;r++)if(t.usuario.roles.permisos[r].codigo==this.permisos[a].permisoName&&(this.permisos[a].permiso=!0),r==t.usuario.roles.permisos.length.length-1)break;if(a==this.permisos.length-1){this.$emit(e,this.permisos);break}}}}};var n=a(74260);const l=(0,n.Z)(s,[["render",o]]),d=l},55325:(e,t,a)=>{function o(e,t,a,o,i,r){return null}a.d(t,{Z:()=>m});var i=a(80589),r=a(5474),s=a(48825);const n={name:"userLogout",data:function(){return{}},setup(){const e=(0,s.Z)();return{errorDelServidor(){this.$emit("resetLoading"),e.notify({message:this.error,color:"red"})},añadidoConExito(){e.notify({message:"Agregado exitosamente",color:"green"})},editadoConExito(){e.notify({message:"Editado exitosamente",color:"green"})},eliminadoConExito(){e.notify({message:"Eliminado exitosamente",color:"green"})}}},methods:{getData:function(e,t,a,o){void 0==o?o={headers:{Authorization:`Bearer ${i.Z.getItem("token")}`}}:o.headers.Authorization=`Bearer ${i.Z.getItem("token")}`,r.api.get(e,o).then((e=>{this.$emit(t,e.data,a)})).catch((e=>{e.response&&(console.log(e.response),this.error=e.response.data.message),this.errorDelServidor(),this.$emit("resetLoading")}))},getDataEdit:function(e,t,a,o){void 0==o?o={headers:{Authorization:`Bearer ${i.Z.getItem("token")}`}}:o.headers.Authorization=`Bearer ${i.Z.getItem("token")}`,r.api.get(e,o).then((e=>{this.$emit(t,e.data,a)})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor(),this.$emit("resetLoading")}))},deleteData:function(e,t,a){void 0==a?a={headers:{Authorization:`Bearer ${i.Z.getItem("token")}`}}:a.headers.Authorization=`Bearer ${i.Z.getItem("token")}`,r.api["delete"](e,a).then((e=>{(e.status=200)&&(this.$emit(t),this.eliminadoConExito())})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor(),this.$emit("resetLoading")}))},createData:function(e,t,a,o){void 0==o?o={headers:{Authorization:`Bearer ${i.Z.getItem("token")}`}}:o.headers.Authorization=`Bearer ${i.Z.getItem("token")}`,r.api.post(e,t,o).then((e=>{(e.status=200)&&(this.$emit(a),this.añadidoConExito())})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor(),this.$emit("resetLoading")}))},login:function(e,t,a,o){void 0==o?o={headers:{Authorization:`Bearer ${i.Z.getItem("token")}`}}:o.headers.Authorization=`Bearer ${i.Z.getItem("token")}`,r.api.post(e,t,o).then((e=>{(e.status=200)&&this.$emit(a,e.data)})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor()}))},putData:function(e,t,a,o){void 0==o?o={headers:{Authorization:`Bearer ${i.Z.getItem("token")}`}}:o.headers.Authorization=`Bearer ${i.Z.getItem("token")}`,r.api.put(e,t,o).then((e=>{(e.status=200)&&(this.$emit(a),this.editadoConExito())})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor()}))}}};var l=a(74260);const d=(0,l.Z)(n,[["render",o]]),m=d},41721:(e,t,a)=>{a.r(t),a.d(t,{default:()=>F});var o=a(83673),i=a(62323),r=a(98880);const s=(0,o.Uk)("SCEN - Sistema de Control de Encomiendas"),n=["src"],l={key:0},d={key:0},m={key:0,class:"q-pl-lg"},u={class:"tool"},p={key:0},c={class:"tool"},g={class:"float-left",style:{"margin-top":"10px","margin-bottom":"10px","margin-left":"15px"}},h=(0,o._)("div",{class:"text-caption float-right items-center creditos"},[(0,o._)("p",{style:{"font-size":"12px","margin-right":"20px","padding-top":"16px"}},[(0,o._)("strong",null,"© 2019. LOS DERECHOS RESERVADOS. RCS EXPRESS")])],-1);function f(e,t,a,f,v,w){const _=(0,o.up)("q-btn"),S=(0,o.up)("q-toolbar-title"),b=(0,o.up)("q-space"),k=(0,o.up)("q-icon"),Z=(0,o.up)("q-avatar"),D=(0,o.up)("q-item-section"),I=(0,o.up)("q-item"),T=(0,o.up)("q-list"),W=(0,o.up)("q-menu"),x=(0,o.up)("q-toolbar"),C=(0,o.up)("q-header"),$=(0,o.up)("q-item-label"),L=(0,o.up)("q-tooltip"),y=(0,o.up)("q-expansion-item"),z=(0,o.up)("q-drawer"),q=(0,o.up)("router-view"),A=(0,o.up)("q-page-container"),N=(0,o.up)("user-logout"),E=(0,o.up)("desactivate-crud"),Q=(0,o.up)("q-footer"),U=(0,o.up)("q-layout"),B=(0,o.up)("methods"),V=(0,o.Q2)("ripple");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(U,{view:"hHh Lpr fFf"},{default:(0,o.w5)((()=>[(0,o.Wm)(C,{elevated:""},{default:(0,o.w5)((()=>[(0,o.Wm)(x,{class:"bg-indigo-9"},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{flat:"",dense:"",round:"",onClick:t[0]||(t[0]=e=>{this.hideItems(),this.drawerClick()}),icon:"menu","aria-label":"Menu",class:"q-mr-sm"}),(0,o.Wm)(S,{class:"titleMainLayout"},{default:(0,o.w5)((()=>[s])),_:1}),(0,o.Wm)(b),(0,o.Wm)(_,{dense:"",color:"white",round:"",style:{"margin-right":"10px"},clickable:"",to:"/m_bancos",padding:"xs"},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{size:"20px",name:"question_mark",color:"primary"})])),_:1}),(0,o.Wm)(_,{flat:"",dense:""},{default:(0,o.w5)((()=>[(0,o.Wm)(Z,{size:"42px"},{default:(0,o.w5)((()=>[(0,o._)("img",{src:f.url},null,8,n)])),_:1}),(0,o.Wm)(W,{"transition-show":"flip-right","transition-hide":"flip-left","auto-close":""},{default:(0,o.w5)((()=>[(0,o.Wm)(T,{style:{"min-width":"100px"}},{default:(0,o.w5)((()=>[(0,o.wy)(((0,o.wg)(),(0,o.j4)(I,{clickable:"",onClick:w.logout},{default:(0,o.w5)((()=>[(0,o.Wm)(D,{avatar:""},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{name:"logout"})])),_:1}),(0,o.Wm)(D,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.$t("Menu.logout")),1)])),_:1})])),_:1},8,["onClick"])),[[V]])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,o.Wm)(z,{modelValue:v.drawer,"onUpdate:modelValue":t[1]||(t[1]=e=>v.drawer=e),"show-if-above":"",breakpoint:500,bordered:"",width:350,"auto-close":"",mini:!v.drawer||v.miniState,onClick:t[2]||(t[2]=e=>v.miniState=!1),"content-class":"bg-grey-3"},{default:(0,o.w5)((()=>[(0,o.Wm)(T,null,{default:(0,o.w5)((()=>[(0,o._)("div",null,[(0,o.Wm)(T,{class:"rounded-borders"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(v.items,(e=>((0,o.wg)(),(0,o.iD)("div",null,[0==e.level?((0,o.wg)(),(0,o.iD)("div",l,[e.qitem?((0,o.wg)(),(0,o.j4)(I,{key:0,clickable:"",tag:"a",to:e.url,exact:""},{default:(0,o.w5)((()=>[(0,o.Wm)(D,{avatar:""},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{size:"28px",name:e.icon},null,8,["name"])])),_:2},1024),(0,o.Wm)(D,null,{default:(0,o.w5)((()=>[(0,o.Wm)($,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.label),1)])),_:2},1024),(0,o.Wm)($,{caption:""})])),_:2},1024)])),_:2},1032,["to"])):((0,o.wg)(),(0,o.j4)(y,{key:1,"expand-separator":"",icon:e.icon,group:"somegroup","default-opened":"",label:e.label,modelValue:v.items_model[e.name],"onUpdate:modelValue":t=>v.items_model[e.name]=t},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(v.items,(t=>((0,o.wg)(),(0,o.iD)("div",null,[1==t.level&&e.name==t.padre?((0,o.wg)(),(0,o.iD)("div",d,[t.qitem?((0,o.wg)(),(0,o.iD)("div",m,[(0,o.Wm)(I,{clickable:"",tag:"a",to:t.url,exact:""},{default:(0,o.w5)((()=>[(0,o.Wm)(D,{avatar:""},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{size:"28px",name:t.icon},null,8,["name"]),v.miniState?((0,o.wg)(),(0,o.j4)(L,{key:0,anchor:"center right",self:"center left",offset:[10,10],"transition-show":"scale","transition-hide":"scale"},{default:(0,o.w5)((()=>[(0,o._)("div",u,(0,i.zw)(t.label),1)])),_:2},1024)):(0,o.kq)("",!0)])),_:2},1024),(0,o.Wm)(D,null,{default:(0,o.w5)((()=>[(0,o.Wm)($,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(t.label),1)])),_:2},1024),(0,o.Wm)($,{caption:""})])),_:2},1024)])),_:2},1032,["to"])])):((0,o.wg)(),(0,o.j4)(y,{key:1,"header-inset-level":.4,"content-inset-level":.9,"expand-separator":"",group:"somegroup2","default-opened":"",icon:t.icon,label:t.label,modelValue:v.items_model[t.name],"onUpdate:modelValue":e=>v.items_model[t.name]=e},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(v.items,(e=>((0,o.wg)(),(0,o.iD)("div",null,[2==e.level&&t.name==e.padre?((0,o.wg)(),(0,o.iD)("div",p,[(0,o.Wm)(I,{clickable:"",tag:"a",to:e.url,exact:""},{default:(0,o.w5)((()=>[(0,o.Wm)(D,{avatar:""},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{size:"28px",name:e.icon},null,8,["name"]),v.miniState?((0,o.wg)(),(0,o.j4)(L,{key:0,anchor:"center right",self:"center left",offset:[10,10],"transition-show":"scale","transition-hide":"scale"},{default:(0,o.w5)((()=>[(0,o._)("div",c,(0,i.zw)(e.label),1)])),_:2},1024)):(0,o.kq)("",!0)])),_:2},1024),(0,o.Wm)(D,null,{default:(0,o.w5)((()=>[(0,o.Wm)($,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.label),1)])),_:2},1024),(0,o.Wm)($,{caption:""})])),_:2},1024)])),_:2},1032,["to"])])):(0,o.kq)("",!0)])))),256))])),_:2},1032,["header-inset-level","content-inset-level","icon","label","modelValue","onUpdate:modelValue"]))])):(0,o.kq)("",!0)])))),256))])),_:2},1032,["icon","label","modelValue","onUpdate:modelValue"]))])):(0,o.kq)("",!0)])))),256))])),_:1})])])),_:1})])),_:1},8,["modelValue","mini"]),(0,o.Wm)(q,{onMouseover:t[3]||(t[3]=e=>{this.hideItems(),this.miniState=!0})}),(0,o.Wm)(o.Ob),(0,o.Wm)(A,{style:{"padding-bottom":"0px","padding-top":"37px"}}),(0,o.Wm)(Q,{elevated:"",bordered:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(v.directs,(e=>((0,o.wg)(),(0,o.iD)("div",g,[(0,o.wy)((0,o.Wm)(_,{dense:"",color:"white",round:"",class:(0,i.C_)(`b${e.dorder}`),clickable:"",to:e.url,exact:"",padding:"xs"},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{size:"25px",name:e.icon,color:"primary"},{default:(0,o.w5)((()=>[(0,o.Wm)(L,{"transition-show":"flip-right","transition-hide":"flip-left",class:"bg-primary",style:{"max-height":"30px"},color:"primary","max-height":"40px"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.label),1)])),_:2},1024)])),_:2},1032,["name"])])),_:2},1032,["class","to"]),[[r.F8,e.direct]])])))),256)),h,(0,o.Wm)(N,{ref:"component"},null,512),(0,o.Wm)(E,{ref:"desactivateCrud",onDesactivarOpcionesSet:w.desactivarOpcionesSet},null,8,["onDesactivarOpcionesSet"])])),_:1})])),_:1}),(0,o.Wm)(B,{ref:"methods",onSetData:w.setData},null,8,["onSetData"])],64)}var v=a(61959),w=a(80589),_=a(38015),S=a(16336),b=a(55325);const k={components:{"desactivate-crud":_.Z,"user-logout":S.Z,methods:b.Z},data(){return{directs:[],items:[],items_model:{},events:["click","mousemove","mousedown","scroll","keypress","load"],permisos:["r_bancos","r_agencias","r_ciudades","r_permisos","r_usuarios","r_roles","r_agentes","r_zonas","r_unidades","r_ayudantes","r_receptores","r_tarifas","r_ccorrelativo","r_vcontrol","r_cuentas","r_clientes","r_empleados","r_proveedores","r_retenciones","r_concepto_operacion","r_concepto_facturacion","r_concepto_fpo","r_asignacionguias"],drawer:!1,miniState:!1,intervalLogout:null,dashboard:this.$t("Menu.dashboard"),picture:"https://www.thepeakid.com/wp-content/uploads/2016/03/default-profile-picture.jpg"}},setup(){const e=(0,v.iH)("https://joshuaproject.net/assets/img/chatbot/default.jpg");return{url:e}},mounted(){this.events.forEach((function(e){window.addEventListener(e,this.resetLogoutTimer)}),this),this.resetLogoutTimer(),this.miniState=!0,this.Authenticator(),this.refreshTimer(),this.$refs.desactivateCrud.desactivarOpciones("desactivarOpcionesSet"),this.getData("/menus","setData","items",{headers:{Authorization:""}}),this.getData("/menus","setData","directs",{headers:{Authorization:"",direct:1}})},methods:{getData(e,t,a,o){this.$refs.methods.getData(e,t,a,o)},setData(e,t){this[t]=e},drawerClick(){this.miniState?(this.miniState=!1,this.drawer=!0):(this.miniState=!0,this.drawer=!0)},desactivarOpcionesSet(e){for(var t=0,a=e.length;t<a;t++)if(1==e[t].permiso&&(this[e[t].pagina]=!0,this[e[t].paginaSet]=!1),t==e.length-1)break},Authenticator(){1!=w.Z.getItem("user")&&this.$router.push("/login")},logout(){this.$refs.component.logoutUser()},refreshTimer(){let e=this;var t;let a=19,o=localStorage.getItem("currentTime"),i=localStorage.getItem("targetTime");function r(){!0===w.Z.getItem("user")?(o=localStorage.getItem("currentTime"),i=localStorage.getItem("targetTime"),o>i?(clearInterval(t),w.Z.remove("currentTime"),w.Z.remove("targetTime"),e.$refs.component.refreshToken(),e.refreshTimer()):(o=new Date,localStorage.setItem("currentTime",o))):(clearInterval(t),w.Z.remove("currentTime"),w.Z.remove("targetTime"),e.$router.push("/login"))}null==i&&null==o?(o=new Date,i=new Date(o.getTime()+6e4*a),localStorage.setItem("currentTime",o),localStorage.setItem("targetTime",i)):(o=new Date(o),i=new Date(i)),r()||(t=setInterval(r,1e3)),document.onbeforeunload=function(){localStorage.setItem("currentTime",o)}},resetLogoutTimer(){clearInterval(this.intervalLogout),w.Z.remove("currentTimeLogout"),w.Z.remove("targetTimeLogout");var e=new Date,t=new Date(e.getTime()+3e5);localStorage.setItem("currentTimeLogout",e),localStorage.setItem("targetTimeLogout",t),this.logoutTimer()},logoutTimer(){let e=this,t=5,a=localStorage.getItem("currentTimeLogout"),o=localStorage.getItem("targetTimeLogout");function i(){!0===w.Z.getItem("user")?(a=localStorage.getItem("currentTimeLogout"),o=localStorage.getItem("targetTimeLogout"),a>o?(clearInterval(e.intervalLogout),w.Z.remove("currentTimeLogout"),w.Z.remove("targetTimeLogout"),e.$refs.component.logoutUser()):(a=new Date,localStorage.setItem("currentTimeLogout",a))):(clearInterval(e.intervalLogout),w.Z.remove("currentTimeLogout"),w.Z.remove("targetTimeLogout"),e.$router.push("/login"))}null==o&&null==a?(a=new Date,o=new Date(a.getTime()+6e4*t),localStorage.setItem("currentTimeLogout",a),localStorage.setItem("targetTimeLogout",o)):(a=new Date(a),o=new Date(o)),i()||(e.intervalLogout=setInterval(i,1e3)),document.onbeforeunload=function(){localStorage.setItem("currentTime",a)}},hideItems(){for(var e=0;e<this.items.length-1;e++)this.items_model[this.items[e].name]=!1}}};var Z=a(74260),D=a(83066),I=a(53812),T=a(39570),W=a(48240),x=a(13747),C=a(62025),$=a(24554),L=a(75096),y=a(20811),z=a(27011),q=a(83414),A=a(52035),N=a(52901),E=a(2350),Q=a(64615),U=a(5363),B=a(72652),V=a(41762),O=a(46489),R=a(7518),j=a.n(R);const H=(0,Z.Z)(k,[["render",f]]),F=H;j()(k,"components",{QLayout:D.Z,QHeader:I.Z,QToolbar:T.Z,QBtn:W.Z,QToolbarTitle:x.Z,QSpace:C.Z,QIcon:$.Z,QAvatar:L.Z,QMenu:y.Z,QList:z.Z,QItem:q.Z,QItemSection:A.Z,QDrawer:N.Z,QItemLabel:E.Z,QExpansionItem:Q.Z,QTooltip:U.Z,QPageContainer:B.Z,QFooter:V.Z}),j()(k,"directives",{Ripple:O.Z})}}]);