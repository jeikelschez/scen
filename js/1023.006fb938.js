"use strict";(globalThis["webpackChunktest"]=globalThis["webpackChunktest"]||[]).push([[1023],{38015:(e,t,a)=>{function i(e,t,a,i,o,s){return null}a.d(t,{Z:()=>d});var o=a(80589),s=a(48825);const r={name:"desactivateCrud",data:function(){return{axiosConfig:{headers:{Authorization:`Bearer ${o.Z.getItem("token")}`}},error:"",permisos:[{permisoName:"r_bancos",permiso:!1,pagina:"disabledBancos",paginaSet:"disabledBancosSet"},{permisoName:"r_agencias",permiso:!1,pagina:"disabledAgencias",paginaSet:"disabledAgenciasSet"},{permisoName:"r_ciudades",permiso:!1,pagina:"disabledCiudades",paginaSet:"disabledCiudadesSet"},{permisoName:"r_permisos",permiso:!1,pagina:"disabledPermisos",paginaSet:"disabledPermisosSet"},{permisoName:"r_usuarios",permiso:!1,pagina:"disabledUsuarios",paginaSet:"disabledUsuariosSet"},{permisoName:"r_roles",permiso:!1,pagina:"disabledRoles",paginaSet:"disabledRolesSet"},{permisoName:"r_agentes",permiso:!1,pagina:"disabledAgentes",paginaSet:"disabledAgentesSet"},{permisoName:"r_zonas",permiso:!1,pagina:"disabledZonas",paginaSet:"disabledZonasSet"},{permisoName:"r_unidades",permiso:!1,pagina:"disabledUnidades",paginaSet:"disabledUnidadesSet"},{permisoName:"r_ayudantes",permiso:!1,pagina:"disabledAyudantes",paginaSet:"disabledAyudantesSet"},{permisoName:"r_receptores",permiso:!1,pagina:"disabledReceptores",paginaSet:"disabledReceptoresSet"},{permisoName:"r_tarifas",permiso:!1,pagina:"disabledTarifas",paginaSet:"disabledTarifasSet"},{permisoName:"r_ccorrelativo",permiso:!1,pagina:"disabledCcorrelativo",paginaSet:"disabledCcorrelativoSet"},{permisoName:"r_vcontrol",permiso:!1,pagina:"disabledVcontrol",paginaSet:"disabledVcontrolSet"},{permisoName:"r_cuentas",permiso:!1,pagina:"disabledCuentas",paginaSet:"disabledCuentasSet"},{permisoName:"r_clientes",permiso:!1,pagina:"disabledClientes",paginaSet:"disabledClientesSet"},{permisoName:"r_empleados",permiso:!1,pagina:"disabledEmpleados",paginaSet:"disabledEmpleadosSet"},{permisoName:"r_proveedores",permiso:!1,pagina:"disabledProveedores",paginaSet:"disabledProveedoresSet"},{permisoName:"r_retenciones",permiso:!1,pagina:"disabledRetenciones",paginaSet:"disabledRetencionesSet"},{permisoName:"r_concepto_operacion",permiso:!1,pagina:"disabledConceptoOperacion",paginaSet:"disabledConceptoOperacionSet"},{permisoName:"r_concepto_facturacion",permiso:!1,pagina:"disabledConceptoFacturacion",paginaSet:"disabledConceptoFacturacionSet"},{permisoName:"r_concepto_fpo",permiso:!1,pagina:"disabledConceptoFpo",paginaSet:"disabledConceptoFpoSet"},{permisoName:"r_asignacionguias",permiso:!1,pagina:"disabledAsignacionGuias",paginaSet:"disabledAsignacionGuiasSet"}]}},setup(){const e=(0,s.Z)();return{errorDelServidor(){e.notify({message:this.error,color:"red"})}}},methods:{desactivarCrud(e,t,a,i,s){for(var r,l,n,d,c=o.Z.getItem("tokenTraducido"),u=0,m=c.usuario.roles.permisos.length;u<m;u++)if(c.usuario.roles.permisos[u].codigo===e&&(r=!0),c.usuario.roles.permisos[u].codigo===i&&(n=!0),c.usuario.roles.permisos[u].codigo===a&&(d=!0),c.usuario.roles.permisos[u].codigo===t&&(l=!0),u==c.usuario.roles.permisos.length.length-1)break;e=!0===r,i=!0===n,a=!0===d,t=!0===l,this.$emit(s,e,t,i,a)},desactivarOpciones(e){for(var t=o.Z.getItem("tokenTraducido"),a=0,i=this.permisos.length;a<i;a++){var s=0;for(i=t.usuario.roles.permisos.length;s<i;s++)if(t.usuario.roles.permisos[s].codigo==this.permisos[a].permisoName&&(this.permisos[a].permiso=!0),s==t.usuario.roles.permisos.length.length-1)break;if(a==this.permisos.length-1){this.$emit(e,this.permisos);break}}}}};var l=a(74260);const n=(0,l.Z)(r,[["render",i]]),d=n},55325:(e,t,a)=>{function i(e,t,a,i,o,s){return null}a.d(t,{Z:()=>c});var o=a(80589),s=a(5474),r=a(48825);const l={name:"userLogout",data:function(){return{}},setup(){const e=(0,r.Z)();return{errorDelServidor(){this.$emit("resetLoading"),e.notify({message:this.error,color:"red"})},añadidoConExito(){e.notify({message:"Agregado exitosamente",color:"green"})},editadoConExito(){e.notify({message:"Editado exitosamente",color:"green"})},eliminadoConExito(){e.notify({message:"Eliminado exitosamente",color:"green"})}}},methods:{getData:function(e,t,a,i){void 0==i?i={headers:{Authorization:`Bearer ${o.Z.getItem("token")}`}}:i.headers.Authorization=`Bearer ${o.Z.getItem("token")}`,s.api.get(e,i).then((e=>{this.$emit(t,e.data,a)})).catch((e=>{e.response&&(console.log(e.response),this.error=e.response.data.message),this.errorDelServidor(),this.$emit("resetLoading")}))},getDataEdit:function(e,t,a,i){void 0==i?i={headers:{Authorization:`Bearer ${o.Z.getItem("token")}`}}:i.headers.Authorization=`Bearer ${o.Z.getItem("token")}`,s.api.get(e,i).then((e=>{this.$emit(t,e.data,a)})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor(),this.$emit("resetLoading")}))},deleteData:function(e,t,a){void 0==a?a={headers:{Authorization:`Bearer ${o.Z.getItem("token")}`}}:a.headers.Authorization=`Bearer ${o.Z.getItem("token")}`,s.api["delete"](e,a).then((e=>{(e.status=200)&&(this.$emit(t),this.eliminadoConExito())})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor(),this.$emit("resetLoading")}))},createData:function(e,t,a,i){void 0==i?i={headers:{Authorization:`Bearer ${o.Z.getItem("token")}`}}:i.headers.Authorization=`Bearer ${o.Z.getItem("token")}`,s.api.post(e,t,i).then((e=>{(e.status=200)&&(this.$emit(a),this.añadidoConExito())})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor(),this.$emit("resetLoading")}))},login:function(e,t,a,i){void 0==i?i={headers:{Authorization:`Bearer ${o.Z.getItem("token")}`}}:i.headers.Authorization=`Bearer ${o.Z.getItem("token")}`,s.api.post(e,t,i).then((e=>{(e.status=200)&&this.$emit(a,e.data)})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor()}))},putData:function(e,t,a,i){void 0==i?i={headers:{Authorization:`Bearer ${o.Z.getItem("token")}`}}:i.headers.Authorization=`Bearer ${o.Z.getItem("token")}`,s.api.put(e,t,i).then((e=>{(e.status=200)&&(this.$emit(a),this.editadoConExito())})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor()}))}}};var n=a(74260);const d=(0,n.Z)(l,[["render",i]]),c=d},73556:(e,t,a)=>{function i(e,t,a,i,o,s){return null}a.d(t,{Z:()=>d});var o=a(61959),s=a(48825);const r={name:"rules",setup(){const e=(0,o.iH)(!1);(0,s.Z)();return{showSimulatedReturnData:e}},methods:{isReq(e,t){var a=!0;return null!=e&&""!=e.trim()||(a=t),a},isReqSelect(e,t){var a=!0;return null!=e&&e!=[]&&""!=e||(a=t),a},isMax(e,t,a){console.log(e);var i=!0;return""!==e&&null!==e&&e.length>t&&(i=a),i},isMin(e,t,a){var i=!0;return""!==e&&null!==e&&e.length<t?a:i}}};var l=a(74260);const n=(0,l.Z)(r,[["render",i]]),d=n},41023:(e,t,a)=>{a.r(t),a.d(t,{default:()=>te});var i=a(83673),o=a(62323);const s={class:"row"},r={class:"col-md-6 col-xs-12"},l={class:"col-md-6 col-xs-12"},n={class:"col-md-2 col-xs-12"},d={class:"col-md-6 col-xs-12"},c={class:"col-md-4 col-xs-12"},u={class:"full-width row justify-center items-center content-center"},m={class:"q-pa-sm justify-center"},p=(0,i._)("div",{class:"col-md-12 col-xl-12 col-lg-12 col-xs-12 col-sm-12 text-secondary movilTitle"},[(0,i._)("p",{style:{"font-size":"25px","align-self":"center","text-align":"center","margin-top":"18px"}},[(0,i._)("strong",null,"MANTENIMIENTO - CONTROL CORRELATIVO")])],-1),g={class:"q-pa-md row col-md-12 col-xl-12 col-lg-12 col-xs-12 col-sm-12"},h={class:"col-md-3 col-xl-3 col-lg-3 col-xs-12 col-sm-6 cardMarginFilter cardMarginSm selectMobile"},f=(0,i.Uk)(" Sin resultados "),_={class:"col-md-3 col-xl-3 col-lg-3 col-xs-12 col-sm-6 cardMarginFilter selectMobile"},b=(0,i.Uk)(" Sin resultados "),v={class:"col-md-4 col-md-4 col-xl-4 col-lg-4 col-xs-12 col-sm-12 cardMarginFilter selectMobile"},w={class:"col-md-2 col-md-2 col-xl-2 col-lg-2 col-xs-12 col-sm-12",style:{"text-align":"center","align-self":"center"}},C={class:"q-pa-md q-gutter-y-md"},S=(0,i._)("div",{class:"text-h5",style:{"font-size":"18px"}}," ¿Estás seguro que quieres eliminar este elemento? ",-1);function D(e,t,a,D,y,x){const A=(0,i.up)("q-icon"),k=(0,i.up)("q-input"),q=(0,i.up)("q-select"),Z=(0,i.up)("q-btn"),V=(0,i.up)("q-form"),W=(0,i.up)("q-card-section"),$=(0,i.up)("q-card"),E=(0,i.up)("q-dialog"),R=(0,i.up)("q-item-section"),T=(0,i.up)("q-item"),N=(0,i.up)("q-inner-loading"),I=(0,i.up)("q-td"),U=(0,i.up)("q-item-label"),z=(0,i.up)("q-chip"),P=(0,i.up)("q-list"),M=(0,i.up)("q-table"),B=(0,i.up)("q-card-actions"),Q=(0,i.up)("methods"),L=(0,i.up)("desactive-crud"),O=(0,i.up)("rules-vue"),j=(0,i.up)("q-page"),F=(0,i.Q2)("close-popup");return(0,i.wg)(),(0,i.j4)(j,{class:"pagina q-pa-md"},{default:(0,i.w5)((()=>[(0,i.Wm)(E,{modelValue:D.dialog,"onUpdate:modelValue":t[6]||(t[6]=e=>D.dialog=e)},{default:(0,i.w5)((()=>[(0,i.Wm)($,{class:"q-pa-md",bordered:"",style:{width:"900px","max-width":"80vw"}},{default:(0,i.w5)((()=>[(0,i.Wm)(W,null,{default:(0,i.w5)((()=>[(0,i.Wm)(V,{onSubmit:x.sendData,class:"q-gutter-md"},{default:(0,i.w5)((()=>[(0,i._)("div",s,[(0,i._)("div",r,[(0,i.Wm)(k,{"upper-case":"",outlined:"",modelValue:y.form.control_inicio,"onUpdate:modelValue":t[0]||(t[0]=e=>y.form.control_inicio=e),label:"Primer Correlativo",class:"pcform",hint:"","lazy-rules":"",rules:[e=>this.$refs.rulesVue.isReq(e,"Requerido"),e=>this.$refs.rulesVue.isMax(e,10,"Maximo 10 Caracteres")||""],type:"number"},{prepend:(0,i.w5)((()=>[(0,i.Wm)(A,{name:"apartment"})])),_:1},8,["modelValue","rules"])]),(0,i._)("div",l,[(0,i.Wm)(k,{outlined:"",modelValue:y.form.control_final,"onUpdate:modelValue":t[1]||(t[1]=e=>y.form.control_final=e),label:"Ultimo Correlativo",rules:[x.reglasSegundoCorrelativo],hint:"","lazy-rules":"",type:"number"},{prepend:(0,i.w5)((()=>[(0,i.Wm)(A,{name:"account_circle"})])),_:1},8,["modelValue","rules"])]),(0,i._)("div",n,[(0,i.Wm)(k,{outlined:"",modelValue:y.form.serie_doc,"onUpdate:modelValue":[t[2]||(t[2]=e=>y.form.serie_doc=e),t[3]||(t[3]=e=>y.form.serie_doc=y.form.serie_doc.toUpperCase())],label:"Serie Lote",hint:"",class:"pcform","lazy-rules":"",rules:[e=>this.$refs.rulesVue.isMax(e,1,"Maximo 1 Caracter")||""]},{prepend:(0,i.w5)((()=>[(0,i.Wm)(A,{name:"pin_drop"})])),_:1},8,["modelValue","rules"])]),(0,i._)("div",d,[(0,i.Wm)(k,{outlined:"",modelValue:y.form.ult_doc_referencia,"onUpdate:modelValue":t[4]||(t[4]=e=>y.form.ult_doc_referencia=e),label:"Ultimo Numero Asignado",hint:"",class:"pcform",type:"number",rules:[e=>this.$refs.rulesVue.isMax(e,10,"Maximo 10 Caracteres")||""],"lazy-rules":""},{prepend:(0,i.w5)((()=>[(0,i.Wm)(A,{name:"badge"})])),_:1},8,["modelValue","rules"])]),(0,i._)("div",c,[(0,i.Wm)(q,{outlined:"",modelValue:y.form.estatus_lote,"onUpdate:modelValue":t[5]||(t[5]=e=>y.form.estatus_lote=e),label:"Estatus",hint:"",options:y.estatus,"lazy-rules":"",rules:[e=>this.$refs.rulesVue.isReqSelect(e,"Requerido")||""]},{prepend:(0,i.w5)((()=>[(0,i.Wm)(A,{name:"done_all"})])),_:1},8,["modelValue","options","rules"])])]),(0,i._)("div",u,[(0,i.Wm)(Z,{label:"Agregar Control",type:"submit",color:"primary",class:"col-md-5 col-sm-5 col-xs-12",icon:"person_add"}),(0,i.wy)((0,i.Wm)(Z,{label:"Cerrar",color:"primary",flat:"",class:"col-md-5 col-sm-5 col-xs-12 btnmovil",icon:"close"},null,512),[[F]])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,i._)("div",m,[p,(0,i._)("div",g,[(0,i._)("div",h,[(0,i.Wm)(q,{rounded:"","transition-show":"flip-up","transition-hide":"flip-down","option-label":"nb_agencia","option-value":"id",options:y.agenciasSelected,onFilter:t[7]||(t[7]=(e,t,a)=>x.filterArray(e,t,a,"agenciasSelected","agencias","nb_agencia")),"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",modelValue:y.selectedAgencia,"onUpdate:modelValue":[t[8]||(t[8]=e=>y.selectedAgencia=e),t[9]||(t[9]=e=>x.getData("/correlativo","setDataTable","datos",{headers:{page:1,limit:6,agencia:this.selectedAgencia.id,tipo:this.selectedTipo.id,fuente:"CR"}}))],outlined:"",standout:"",label:"Escoge una Agencia"},{"no-option":(0,i.w5)((()=>[(0,i.Wm)(T,null,{default:(0,i.w5)((()=>[(0,i.Wm)(R,{class:"text-grey"},{default:(0,i.w5)((()=>[f])),_:1})])),_:1})])),prepend:(0,i.w5)((()=>[(0,i.Wm)(A,{name:"search"})])),_:1},8,["options","modelValue"])]),(0,i._)("div",_,[(0,i.Wm)(q,{rounded:"","transition-show":"flip-up","transition-hide":"flip-down",options:y.tiposSelected,onFilter:t[10]||(t[10]=(e,t,a)=>x.filterArray(e,t,a,"tiposSelected","tipos","descripcion")),"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0","option-label":"descripcion","option-value":"id",modelValue:y.selectedTipo,"onUpdate:modelValue":[t[11]||(t[11]=e=>y.selectedTipo=e),t[12]||(t[12]=e=>x.getData("/correlativo","setDataTable","datos",{headers:{page:1,limit:6,agencia:this.selectedAgencia.id,tipo:this.selectedTipo.id,fuente:"CR"}}))],outlined:"",standout:"",label:"Tipo de Control"},{"no-option":(0,i.w5)((()=>[(0,i.Wm)(T,null,{default:(0,i.w5)((()=>[(0,i.Wm)(R,{class:"text-grey"},{default:(0,i.w5)((()=>[b])),_:1})])),_:1})])),prepend:(0,i.w5)((()=>[(0,i.Wm)(A,{name:"search"})])),_:1},8,["options","modelValue"])]),(0,i._)("div",v,[(0,i.Wm)(k,{rounded:"",outlined:"",modelValue:D.filter,"onUpdate:modelValue":t[13]||(t[13]=e=>D.filter=e),standout:"",type:"search",label:"Búsqueda avanzada"},{prepend:(0,i.w5)((()=>[(0,i.Wm)(A,{name:"search"})])),_:1},8,["modelValue"])]),(0,i._)("div",w,[(0,i.Wm)(Z,{label:"Insertar",rounded:"",color:"primary",disabled:this.disabledCreate,onClick:t[14]||(t[14]=e=>D.dialog=!0),onClickCapture:x.resetForm,size:"16px",class:"q-px-xl q-py-xs"},null,8,["disabled","onClickCapture"])])]),(0,i._)("div",C,[(0,i.Wm)(M,{rows:y.datos,"binary-state-sort":"","row-key":"id",loading:D.loading,columns:y.columns,"rows-per-page-options":[5,10,15,20,50],onRequest:x.onRequest,separator:D.separator,filter:D.filter,style:{width:"100%"},grid:e.$q.screen.xs,pagination:D.pagination,"onUpdate:pagination":t[17]||(t[17]=e=>D.pagination=e)},{loading:(0,i.w5)((()=>[(0,i.Wm)(N,{showing:"",color:"primary"})])),"body-cell-estatus":(0,i.w5)((e=>[(0,i.Wm)(I,{props:e},{default:(0,i.w5)((()=>[(0,i.Wm)(q,{outlined:"",modelValue:e.row.estatus_desc,"onUpdate:modelValue":[t=>e.row.estatus_desc=t,t=>{x.getData(`/correlativo/${e.row.id}`,"putDataSelect","form"),this.form.estatus_lote=e.row.estatus_desc.value}],options:y.estatus},null,8,["modelValue","onUpdate:modelValue","options"])])),_:2},1032,["props"])])),"body-cell-action":(0,i.w5)((a=>[(0,i.Wm)(I,{props:a},{default:(0,i.w5)((()=>[(0,i.Wm)(Z,{dense:"",round:"",flat:"",color:"primary",icon:"edit",disabled:this.disabledEdit,onClick:e=>{x.getData(`/correlativo/${a.row.id}`,"setDataEdit","form"),D.dialog=!0}},null,8,["disabled","onClick"]),(0,i.Wm)(Z,{dense:"",round:"",flat:"",color:"primary",icon:"delete",disabled:this.disabledDelete,onClick:t=>e.selected=a.row.id,onClickCapture:t[15]||(t[15]=e=>D.deletePopup=!0)},null,8,["disabled","onClick"])])),_:2},1032,["props"])])),item:(0,i.w5)((a=>[(0,i._)("div",{class:"q-pa-xs col-xs-12 col-sm-6 col-md-4 col-lg-3 grid-style-transition",style:(0,o.j5)(a.selected?"transform: scale(0.95);":"")},[(0,i.Wm)($,{class:(0,o.C_)(a.selected?"bg-grey-2":"")},{default:(0,i.w5)((()=>[(0,i.Wm)(P,{dense:""},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.cols,(s=>((0,i.wg)(),(0,i.j4)(T,{key:s.name},{default:(0,i.w5)((()=>[(0,i.Wm)(R,null,{default:(0,i.w5)((()=>[(0,i.Wm)(U,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(s.label),1)])),_:2},1024)])),_:2},1024),(0,i.Wm)(R,{side:""},{default:(0,i.w5)((()=>["status"===s.name?((0,i.wg)(),(0,i.j4)(z,{key:0,color:"Active"==a.row.status?"green":"Disable"==a.row.status?"red":"grey","text-color":"white",dense:"",class:"text-weight-bolder",square:""},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(s.value),1)])),_:2},1032,["color"])):"action"===s.name?((0,i.wg)(),(0,i.j4)(Z,{key:1,dense:"",round:"",flat:"",color:"primary",icon:"edit",disabled:this.disabledEdit,onClick:e=>{x.getData(`/correlativo/${a.row.id}`,"setDataEdit","form"),D.dialog=!0}},null,8,["disabled","onClick"])):(0,i.kq)("",!0),"status"===s.name?((0,i.wg)(),(0,i.j4)(z,{key:2,color:"Active"==a.row.status?"green":"Disable"==a.row.status?"red":"grey","text-color":"white",dense:"",class:"text-weight-bolder",square:""},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(s.value),1)])),_:2},1032,["color"])):"action"===s.name?((0,i.wg)(),(0,i.j4)(Z,{key:3,dense:"",round:"",flat:"",color:"primary",icon:"delete",disabled:this.disabledDelete,onClick:t=>e.selected=a.row.id,onClickCapture:t[16]||(t[16]=e=>D.deletePopup=!0)},null,8,["disabled","onClick"])):((0,i.wg)(),(0,i.j4)(U,{key:4,caption:"",class:(0,o.C_)(s.classes?s.classes:"")},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(s.value),1)])),_:2},1032,["class"]))])),_:2},1024),(0,i.Wm)(R,{side:""},{default:(0,i.w5)((()=>["status"===s.name?((0,i.wg)(),(0,i.j4)(z,{key:0,color:"Active"==a.row.status?"green":"Disable"==a.row.status?"red":"grey","text-color":"white",dense:"",class:"text-weight-bolder",square:""},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(s.value),1)])),_:2},1032,["color"])):"estatus"===s.name?((0,i.wg)(),(0,i.j4)(q,{key:1,outlined:"",modelValue:a.row.estatus_desc,"onUpdate:modelValue":[e=>a.row.estatus_desc=e,e=>{x.getData(`/correlativo/${a.row.id}`,"putDataSelect","form"),this.form.estatus_lote=a.row.estatus_desc.value}],options:y.estatus},null,8,["modelValue","onUpdate:modelValue","options"])):((0,i.wg)(),(0,i.j4)(U,{key:2,caption:"",class:(0,o.C_)(s.classes?s.classes:"")},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(s.value),1)])),_:2},1032,["class"]))])),_:2},1024)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1032,["class"])],4)])),_:1},8,["rows","loading","columns","onRequest","separator","filter","grid","pagination"])])]),(0,i.Wm)(E,{modelValue:D.deletePopup,"onUpdate:modelValue":t[19]||(t[19]=e=>D.deletePopup=e)},{default:(0,i.w5)((()=>[(0,i.Wm)($,{style:{width:"700px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(W,null,{default:(0,i.w5)((()=>[S])),_:1}),(0,i.Wm)(B,{align:"right"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(Z,{flat:"",label:"Cancelar",color:"primary"},null,512),[[F]]),(0,i.wy)((0,i.Wm)(Z,{flat:"",label:"Aceptar",color:"primary",onClick:t[18]||(t[18]=t=>x.deleteData(e.selected))},null,512),[[F]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(Q,{ref:"methods",onGetData:t[20]||(t[20]=e=>x.getData("/correlativo","setData","datos",{headers:{page:1,limit:6,agencia:"1",tipo:"16",fuente:"CR"}})),onSetDataTable:x.setDataTable,onOnRequest:x.onRequest,onSetData:x.setData,onSetDataIniciar:x.setDataIniciar,onResetLoading:x.resetLoading,onSetDataEdit:x.setDataEdit,onPutDataSelect:x.putDataSelect},null,8,["onSetDataTable","onOnRequest","onSetData","onSetDataIniciar","onResetLoading","onSetDataEdit","onPutDataSelect"]),(0,i.Wm)(L,{ref:"desactiveCrud",onDesactivarCrud:x.desactivarCrud},null,8,["onDesactivarCrud"]),(0,i.Wm)(O,{ref:"rulesVue"},null,512)])),_:1})}var y=a(61959),x=a(5474),A=a(73556),k=a(48825),q=a(55325),Z=a(38015),V=a(80589);const W={components:{"desactive-crud":Z.Z,methods:q.Z,rulesVue:A.Z},data(){return{columns:[{name:"control_inicio",label:"Primer Correlativo",field:"control_inicio",align:"left",sortable:!0,required:!0},{name:"control_final",label:"Ultimo Correlativo",field:"control_final",align:"left",sortable:!0,required:!0},{name:"serie_doc",label:"Serie Lote",field:"serie_doc",align:"left",sortable:!0,required:!0},{name:"ult_doc_referencia",label:"Ultimo Numero Asignado",field:"ult_doc_referencia",align:"left",type:"string",sortable:!0,required:!0},{name:"estatus",label:"Estatus",align:"center",sortable:!0,required:!0},{name:"action",label:"Acciones",align:"center",sortable:!0,required:!0}],form:{tipo:"",control_inicio:"",control_final:"",ult_doc_referencia:"",estatus_lote:"",serie_doc:"",cod_agencia:""},estatus:[{label:"CERRADO",value:"C"},{label:"ACTIVO",value:"A"},{label:"INACTIVO",value:"I"}],agencias:[],count:1,currentPage:1,tipos:[],selectedAgencia:[],selectedTipo:[],agenciasSelected:[],tiposSelected:[],datos:[],disabledCreate:!0,disabledEdit:!0,disabledDelete:!0}},setup(){const e=(0,k.Z)(),t=((0,y.iH)(!1),(0,y.iH)(!1),(0,y.iH)({descending:"",page:1,rowsPerPage:9,rowsNumber:""}));return{pagination:t,anulate:(0,y.iH)(!1),separator:(0,y.iH)("vertical"),dialog:(0,y.iH)(!1),loading:(0,y.iH)(!1),activoExistente(){e.notify({message:"Solo puede haber un Activo por Agencia",color:"red"})},deletePopup:(0,y.iH)(!1),filter:(0,y.iH)("")}},mounted(){this.$emit("changeTitle","SCEN - Mantenimiento - Control Correlativo",""),this.getData("/agencias","setDataIniciar","agencias"),this.$refs.desactiveCrud.desactivarCrud("c_ccorrelativo","r_ccorrelativo","u_ccorrelativo","d_ccorrelativo","desactivarCrud")},methods:{onRequest(e,t){if(1==this.count)this[t]=e.data,this.pagination.rowsNumber=e.total;else{let{page:t,rowsPerPage:r,sortBy:l,descending:n}=e.pagination;this.currentPage!==t&&(n="");e.filter;const d=0===r?this.pagination.rowsNumber:r;var a=t,i=d;if(l)var o=l;else o="";if("estatus"==o)o="estatus_lote";var s="";""!==n&&(this.pagination.descending=!this.pagination.descending,s=1==this.pagination.descending?"DESC":"ASC"),l&&(this.pagination.sortBy=l),this.pagination.page=t,this.pagination.rowsPerPage=r,this.getData("/correlativo","setDataTable","datos",{headers:{page:a,limit:i,order_direction:s,order_by:o}})}this.count=0},setDataTable(e,t){this[t]=e.data,this.pagination.page=e.currentPage,this.currentPage=e.currentPage,this.pagination.rowsNumber=e.total,this.pagination.rowsPerPage=e.limit,this.loading=!1},filterArray(e,t,a,i,o,s){t(""!==e?()=>{const t=e.toUpperCase();for(var a=[],r=0;r<=this[o].length-1;r++)if(this[o][r][s].indexOf(t)>-1&&a.push(this[o][r]),r==this[o].length-1){this[i]=a;break}}:()=>{this[i]=this[o]})},resetLoading(){this.loading=!1},desactivarCrud(e,t,a,i){1==t?(1==e&&(this.disabledCreate=!1),1==a&&(this.disabledDelete=!1),1==i&&(this.disabledEdit=!1)):this.$router.push("/dashboard")},reglasSegundoCorrelativo(e){if(null===e)return"Debes Escribir Algo";if(""===e)return"Debes Escribir Algo";if(null!==e!==""){if(e<this.form.control_inicio)return"El Ultimo Correlativo debe ser Mayor al Primero";if(e.length>10)return"Deben ser Maximo 10 caracteres"}},reglasSegundoCorrelativoEdit(e){if(null===e)return"Debes Escribir Algo";if(""===e)return"Debes Escribir Algo";if(null!==e!==""){if(e<this.form.control_inicio)return"El Ultimo Correlativo debe ser Mayor al Primero";if(e.length>10)return"Deben ser Maximo 10 caracteres"}},getData(e,t,a,i){this.$refs.methods.getData(e,t,a,i)},setData(e,t){this[t]=e.data,this.loading=!1},setDataIniciar(e,t){this[t]=e.data,this.selectedAgencia=this.agencias[0],x.api.get("/tipos",{headers:{Authorization:`Bearer ${V.Z.getItem("token")}`,fuente:"CR"}}).then((e=>{this.tipos=e.data,this.selectedTipo=this.tipos[0],this.getData("/correlativo","onRequest","datos",{headers:{page:1,limit:6,agencia:this.selectedAgencia.id,tipo:this.selectedTipo.id,fuente:"CR"}})}))},setDataEdit(e,t){this[t].id=e.id,this[t].tipo=e.tipo,this[t].control_inicio=e.control_inicio,this[t].control_final=e.control_final,this[t].ult_doc_referencia=e.ult_doc_referencia,this[t].estatus_lote=e.estatus_desc,this[t].serie_doc=e.serie_doc,this[t].cod_agencia=e.cod_agencia},deleteData(e){this.$refs.methods.deleteData(`/correlativo/${e}`,"getData",{headers:{page:1,limit:6,agencia:this.selectedAgencia.id,tipo:this.selectedTipo.id,fuente:"CR"}}),this.loading=!0},sendData(){if("A"===this.form.estatus_lote.value)for(var e=0,t=this.datos.length;e<t;e++){if("A"===this.datos[e].estatus_lote&&this.form.id!==this.datos[e].id)return void this.activoExistente();if(e==this.datos.length-1)break}this.form.cod_agencia=this.selectedAgencia.id,this.form.tipo=this.selectedTipo.id,this.form.estatus_lote=this.form.estatus_lote.value,this.form.id?(this.$refs.methods.putData(`/correlativo/${this.form.id}`,this.form,"getData",{headers:{page:1,limit:6,agencia:this.selectedAgencia.id,tipo:this.selectedTipo.id,fuente:"CR"}}),this.dialog=!1,this.loading=!0):(this.$refs.methods.createData("/correlativo",this.form,"getData",{headers:{page:1,limit:6,agencia:this.selectedAgencia.id,tipo:this.selectedTipo.id,fuente:"CR"}}),this.resetForm(),this.dialog=!1,this.loading=!0)},putDataSelect(e,t){if(this[t].id=e.id,this[t].tipo=e.tipo,this[t].control_inicio=e.control_inicio,this[t].control_final=e.control_final,this[t].ult_doc_referencia=e.ult_doc_referencia,this[t].serie_doc=e.serie_doc,this[t].cod_agencia=e.cod_agencia,"A"===this.form.estatus_lote)for(var a=0,i=this.datos.length;a<i;a++){if("A"===this.datos[a].estatus_lote&&this.form.id!==this.datos[a].id)return this.activoExistente(),void this.getData("/correlativo","setDataTable","datos",{headers:{page:1,limit:6,agencia:this.selectedAgencia.id,tipo:this.selectedTipo.id,fuente:"CR"}});if(a==this.datos.length-1)break}this.$refs.methods.putData(`/correlativo/${this.form.id}`,this.form,"getData",{headers:{page:1,limit:6,agencia:this.selectedAgencia.id,tipo:this.selectedTipo.id,fuente:"CR"}}),this.loading=!0},resetForm(){delete this.form.id,this.form.tipo="",this.form.control_inicio="",this.form.control_final="",this.form.ult_doc_referencia="",this.form.estatus_lote="",this.form.serie_doc="",this.form.cod_agencia=""}}};var $=a(74260),E=a(24379),R=a(46778),T=a(10151),N=a(25589),I=a(68689),U=a(34842),z=a(24554),P=a(72448),M=a(48240),B=a(83414),Q=a(52035),L=a(17352),O=a(66941),j=a(83884),F=a(27011),H=a(2350),G=a(67030),K=a(99367),Y=a(60677),J=a(7518),X=a.n(J);const ee=(0,$.Z)(W,[["render",D]]),te=ee;X()(W,"components",{QPage:E.Z,QDialog:R.Z,QCard:T.Z,QCardSection:N.Z,QForm:I.Z,QInput:U.Z,QIcon:z.Z,QSelect:P.Z,QBtn:M.Z,QItem:B.Z,QItemSection:Q.Z,QTable:L.Z,QInnerLoading:O.Z,QTd:j.Z,QList:F.Z,QItemLabel:H.Z,QChip:G.Z,QCardActions:K.Z}),X()(W,"directives",{ClosePopup:Y.Z})}}]);