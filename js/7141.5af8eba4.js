"use strict";(globalThis["webpackChunktest"]=globalThis["webpackChunktest"]||[]).push([[7141],{55325:(e,t,o)=>{function a(e,t,o,a,i,r){return null}o.d(t,{Z:()=>u});var i=o(80589),r=o(5474),l=o(48825);const n={name:"userLogout",data:function(){return{}},setup(){const e=(0,l.Z)();return{errorDelServidor(){this.$emit("resetLoading"),e.notify({message:this.error,color:"red"})},añadidoConExito(){e.notify({message:"Agregado exitosamente",color:"green"})},editadoConExito(){e.notify({message:"Editado exitosamente",color:"green"})},eliminadoConExito(){e.notify({message:"Eliminado exitosamente",color:"green"})}}},methods:{getData:function(e,t,o,a){void 0==a?a={headers:{Authorization:`Bearer ${i.Z.getItem("token")}`}}:a.headers.Authorization=`Bearer ${i.Z.getItem("token")}`,r.api.get(e,a).then((e=>{this.$emit(t,e.data,o)})).catch((e=>{e.response&&(console.log(e.response),this.error=e.response.data.message),this.errorDelServidor(),this.$emit("resetLoading")}))},getDataEdit:function(e,t,o,a){void 0==a?a={headers:{Authorization:`Bearer ${i.Z.getItem("token")}`}}:a.headers.Authorization=`Bearer ${i.Z.getItem("token")}`,r.api.get(e,a).then((e=>{this.$emit(t,e.data,o)})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor(),this.$emit("resetLoading")}))},deleteData:function(e,t,o){void 0==o?o={headers:{Authorization:`Bearer ${i.Z.getItem("token")}`}}:o.headers.Authorization=`Bearer ${i.Z.getItem("token")}`,r.api["delete"](e,o).then((e=>{(e.status=200)&&(this.$emit(t),this.eliminadoConExito())})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor(),this.$emit("resetLoading")}))},createData:function(e,t,o,a){void 0==a?a={headers:{Authorization:`Bearer ${i.Z.getItem("token")}`}}:a.headers.Authorization=`Bearer ${i.Z.getItem("token")}`,r.api.post(e,t,a).then((e=>{(e.status=200)&&(this.$emit(o),this.añadidoConExito())})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor(),this.$emit("resetLoading")}))},login:function(e,t,o,a){void 0==a?a={headers:{Authorization:`Bearer ${i.Z.getItem("token")}`}}:a.headers.Authorization=`Bearer ${i.Z.getItem("token")}`,r.api.post(e,t,a).then((e=>{(e.status=200)&&this.$emit(o,e.data)})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor()}))},putData:function(e,t,o,a){void 0==a?a={headers:{Authorization:`Bearer ${i.Z.getItem("token")}`}}:a.headers.Authorization=`Bearer ${i.Z.getItem("token")}`,r.api.put(e,t,a).then((e=>{(e.status=200)&&(this.$emit(o),this.editadoConExito())})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor()}))}}};var s=o(74260);const m=(0,s.Z)(n,[["render",a]]),u=m},97141:(e,t,o)=>{o.r(t),o.d(t,{default:()=>H});var a=o(83673),i=o(62323),r=o(98880);const l=["src"],n={key:0},s={key:0},m={key:0,class:"q-pl-lg"},u={class:"tool"},d={key:0},c={class:"tool"},g={class:"float-left",style:{"margin-top":"10px","margin-bottom":"10px","margin-left":"15px"}},h=(0,a._)("div",{class:"text-caption float-right items-center creditos"},[(0,a._)("p",{style:{"font-size":"12px","margin-right":"20px","padding-top":"16px"}},[(0,a._)("strong",null,"© 2022. LOS DERECHOS RESERVADOS. RCS EXPRESS")])],-1);function p(e,t,o,p,w,f){const v=(0,a.up)("q-btn"),b=(0,a.up)("q-toolbar-title"),k=(0,a.up)("q-space"),T=(0,a.up)("q-icon"),_=(0,a.up)("q-avatar"),S=(0,a.up)("q-item-section"),Z=(0,a.up)("q-item"),D=(0,a.up)("q-list"),I=(0,a.up)("q-menu"),W=(0,a.up)("q-toolbar"),x=(0,a.up)("q-header"),L=(0,a.up)("q-item-label"),$=(0,a.up)("q-tooltip"),y=(0,a.up)("q-expansion-item"),z=(0,a.up)("q-drawer"),q=(0,a.up)("router-view"),C=(0,a.up)("user-logout"),E=(0,a.up)("q-footer"),Q=(0,a.up)("q-layout"),A=(0,a.up)("methods"),U=(0,a.Q2)("ripple");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(Q,{view:"hHh Lpr fFf"},{default:(0,a.w5)((()=>[(0,a.Wm)(x,{elevated:""},{default:(0,a.w5)((()=>[(0,a.Wm)(W,{class:"bg-indigo-9"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{flat:"",dense:"",round:"",onClick:t[0]||(t[0]=e=>{this.hideItems(),this.drawerClick()}),icon:"menu","aria-label":"Menu",class:"q-mr-sm"}),(0,a.Wm)(b,{class:"titleMainLayout"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(w.title),1)])),_:1}),(0,a.Wm)(b,{class:"titleMainLayoutMobile"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(w.titleMobile),1)])),_:1}),(0,a.Wm)(k),(0,a.Wm)(v,{dense:"",color:"white",round:"",style:{"margin-right":"10px"},clickable:"",to:"/m_bancos",padding:"xs"},{default:(0,a.w5)((()=>[(0,a.Wm)(T,{size:"20px",name:"question_mark",color:"primary"})])),_:1}),(0,a.Wm)(v,{flat:"",dense:""},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{size:"42px"},{default:(0,a.w5)((()=>[(0,a._)("img",{src:w.url},null,8,l)])),_:1}),(0,a.Wm)(I,{"transition-show":"flip-right","transition-hide":"flip-left","auto-close":""},{default:(0,a.w5)((()=>[(0,a.Wm)(D,{style:{"min-width":"100px"}},{default:(0,a.w5)((()=>[(0,a.wy)(((0,a.wg)(),(0,a.j4)(Z,{clickable:"",onClick:f.logout},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(T,{name:"logout"})])),_:1}),(0,a.Wm)(S,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(e.$t("Menu.logout")),1)])),_:1})])),_:1},8,["onClick"])),[[U]])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(z,{modelValue:w.drawer,"onUpdate:modelValue":t[1]||(t[1]=e=>w.drawer=e),"show-if-above":"",breakpoint:500,bordered:"",width:350,"auto-close":"",mini:!w.drawer||w.miniState,onClick:t[2]||(t[2]=e=>w.miniState=!1),"content-class":"bg-grey-3"},{default:(0,a.w5)((()=>[(0,a.Wm)(D,null,{default:(0,a.w5)((()=>[(0,a._)("div",null,[(0,a.Wm)(D,{class:"rounded-borders"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(w.items,(e=>((0,a.wg)(),(0,a.iD)("div",null,[0==e.level?((0,a.wg)(),(0,a.iD)("div",n,[e.qitem?((0,a.wg)(),(0,a.j4)(Z,{key:0,style:{"margin-top":"5px"},clickable:"",to:e.url,disable:f.allowOption(e),exact:""},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(T,{size:"28px",name:e.icon},null,8,["name"])])),_:2},1024),(0,a.Wm)(S,null,{default:(0,a.w5)((()=>[(0,a.Wm)(L,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(e.label),1)])),_:2},1024),(0,a.Wm)(L,{caption:""})])),_:2},1024)])),_:2},1032,["to","disable"])):((0,a.wg)(),(0,a.j4)(y,{key:1,"expand-separator":"",icon:e.icon,group:"somegroup","default-opened":"",label:e.label,modelValue:w.items_model[e.name],"onUpdate:modelValue":t=>w.items_model[e.name]=t},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(w.items,(t=>((0,a.wg)(),(0,a.iD)("div",null,[1==t.level&&e.name==t.padre?((0,a.wg)(),(0,a.iD)("div",s,[t.qitem?((0,a.wg)(),(0,a.iD)("div",m,[(0,a.Wm)(Z,{clickable:"",to:t.url,disable:f.allowOption(t),exact:""},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(T,{size:"28px",name:t.icon},null,8,["name"]),w.miniState?((0,a.wg)(),(0,a.j4)($,{key:0,anchor:"center right",self:"center left",offset:[10,10],"transition-show":"scale","transition-hide":"scale"},{default:(0,a.w5)((()=>[(0,a._)("div",u,(0,i.zw)(t.label),1)])),_:2},1024)):(0,a.kq)("",!0)])),_:2},1024),(0,a.Wm)(S,null,{default:(0,a.w5)((()=>[(0,a.Wm)(L,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(t.label),1)])),_:2},1024),(0,a.Wm)(L,{caption:""})])),_:2},1024)])),_:2},1032,["to","disable"])])):((0,a.wg)(),(0,a.j4)(y,{key:1,"header-inset-level":.4,"content-inset-level":.9,"expand-separator":"",group:"somegroup2","default-opened":"",icon:t.icon,label:t.label,modelValue:w.items_model[t.name],"onUpdate:modelValue":e=>w.items_model[t.name]=e},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(w.items,(e=>((0,a.wg)(),(0,a.iD)("div",null,[2==e.level&&t.name==e.padre?((0,a.wg)(),(0,a.iD)("div",d,[(0,a.Wm)(Z,{clickable:"",to:e.url,disable:f.allowOption(e),exact:""},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(T,{size:"28px",name:e.icon},null,8,["name"]),w.miniState?((0,a.wg)(),(0,a.j4)($,{key:0,anchor:"center right",self:"center left",offset:[10,10],"transition-show":"scale","transition-hide":"scale"},{default:(0,a.w5)((()=>[(0,a._)("div",c,(0,i.zw)(e.label),1)])),_:2},1024)):(0,a.kq)("",!0)])),_:2},1024),(0,a.Wm)(S,null,{default:(0,a.w5)((()=>[(0,a.Wm)(L,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(e.label),1)])),_:2},1024),(0,a.Wm)(L,{caption:""})])),_:2},1024)])),_:2},1032,["to","disable"])])):(0,a.kq)("",!0)])))),256))])),_:2},1032,["header-inset-level","content-inset-level","icon","label","modelValue","onUpdate:modelValue"]))])):(0,a.kq)("",!0)])))),256))])),_:2},1032,["icon","label","modelValue","onUpdate:modelValue"]))])):(0,a.kq)("",!0)])))),256))])),_:1})])])),_:1})])),_:1},8,["modelValue","mini"]),(0,a.Wm)(q,{onChangeTitle:f.changeTitle,onMouseover:t[3]||(t[3]=e=>{this.hideItems(),this.miniState=!0})},null,8,["onChangeTitle"]),(0,a.Wm)(a.Ob),(0,a.Wm)(E,{elevated:"",bordered:""},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(w.directs,(e=>((0,a.wg)(),(0,a.iD)("div",g,[(0,a.wy)((0,a.Wm)(v,{dense:"",color:"white",round:"",class:(0,i.C_)(`b${e.dorder}`),clickable:"",to:e.url,exact:"",padding:"xs",disable:f.allowOption(e)},{default:(0,a.w5)((()=>[(0,a.Wm)(T,{size:"25px",name:e.icon,color:"primary"},{default:(0,a.w5)((()=>[(0,a.Wm)($,{"transition-show":"flip-right","transition-hide":"flip-left",class:"bg-primary",style:{"max-height":"30px"},color:"primary","max-height":"40px"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(e.label),1)])),_:2},1024)])),_:2},1032,["name"])])),_:2},1032,["class","to","disable"]),[[r.F8,e.direct]])])))),256)),h,(0,a.Wm)(C,{ref:"component"},null,512)])),_:1})])),_:1}),(0,a.Wm)(A,{ref:"methods",onSetData:f.setData},null,8,["onSetData"])],64)}var w=o(61959),f=o(80589),v=o(16336),b=o(55325);const k={emits:["changeTitle","mouseover"],components:{"user-logout":v.Z,methods:b.Z},data(){return{directs:[],title:"SCEN - Sistema de Control de Encomiendas",titleMobile:"SCEN",items:[],items_model:{},events:["click","mousemove","mousedown","scroll","keypress","load"],drawer:!1,miniState:!1,intervalLogout:null,dashboard:this.$t("Menu.dashboard"),url:(0,w.iH)("https://joshuaproject.net/assets/img/chatbot/default.jpg")}},mounted(){this.events.forEach((function(e){window.addEventListener(e,this.resetLogoutTimer)}),this),this.resetLogoutTimer(),this.miniState=!0,this.authenticator(),this.refreshTimer(),this.getData("/menus","setData","items",{headers:{rol:f.Z.getItem("tokenTraducido").usuario.roles.id,read:"S"}}),this.getData("/menus","setData","directs",{headers:{rol:f.Z.getItem("tokenTraducido").usuario.roles.id,direct:1,read:"S"}})},methods:{getData(e,t,o,a){this.$refs.methods.getData(e,t,o,a)},setData(e,t){this[t]=e},drawerClick(){this.miniState?(this.miniState=!1,this.drawer=!0):(this.miniState=!0,this.drawer=!0)},allowOption(e){return 0==e.acciones[0].rpermisos.length},authenticator(){1!=f.Z.getItem("user")&&this.$router.push("/login")},logout(){this.$refs.component.logoutUser()},refreshTimer(){let e=this;var t;let o=19,a=localStorage.getItem("currentTime"),i=localStorage.getItem("targetTime");function r(){!0===f.Z.getItem("user")?(a=localStorage.getItem("currentTime"),i=localStorage.getItem("targetTime"),a>i?(clearInterval(t),f.Z.remove("currentTime"),f.Z.remove("targetTime"),e.$refs.component.refreshToken(),e.refreshTimer()):(a=new Date,localStorage.setItem("currentTime",a))):(clearInterval(t),f.Z.remove("currentTime"),f.Z.remove("targetTime"),e.$router.push("/login"))}null==i&&null==a?(a=new Date,i=new Date(a.getTime()+6e4*o),localStorage.setItem("currentTime",a),localStorage.setItem("targetTime",i)):(a=new Date(a),i=new Date(i)),r()||(t=setInterval(r,1e3)),document.onbeforeunload=function(){localStorage.setItem("currentTime",a)}},resetLogoutTimer(){clearInterval(this.intervalLogout),f.Z.remove("currentTimeLogout"),f.Z.remove("targetTimeLogout");var e=new Date,t=new Date(e.getTime()+3e5);localStorage.setItem("currentTimeLogout",e),localStorage.setItem("targetTimeLogout",t),this.logoutTimer()},logoutTimer(){let e=this,t=5,o=localStorage.getItem("currentTimeLogout"),a=localStorage.getItem("targetTimeLogout");function i(){!0===f.Z.getItem("user")?(o=localStorage.getItem("currentTimeLogout"),a=localStorage.getItem("targetTimeLogout"),o>a?(clearInterval(e.intervalLogout),f.Z.remove("currentTimeLogout"),f.Z.remove("targetTimeLogout"),e.$refs.component.logoutUser()):(o=new Date,localStorage.setItem("currentTimeLogout",o))):(clearInterval(e.intervalLogout),f.Z.remove("currentTimeLogout"),f.Z.remove("targetTimeLogout"),e.$router.push("/login"))}null==a&&null==o?(o=new Date,a=new Date(o.getTime()+6e4*t),localStorage.setItem("currentTimeLogout",o),localStorage.setItem("targetTimeLogout",a)):(o=new Date(o),a=new Date(a)),i()||(e.intervalLogout=setInterval(i,1e3)),document.onbeforeunload=function(){localStorage.setItem("currentTime",o)}},hideItems(){for(var e=0;e<this.items.length-1;e++)this.items_model[this.items[e].name]=!1},changeTitle(e,t){this.title=e,this.titleMobile=t}}};var T=o(74260),_=o(83066),S=o(53812),Z=o(39570),D=o(48240),I=o(13747),W=o(62025),x=o(24554),L=o(75096),$=o(20811),y=o(27011),z=o(83414),q=o(52035),C=o(52901),E=o(2350),Q=o(64615),A=o(5363),U=o(41762),B=o(46489),V=o(7518),M=o.n(V);const j=(0,T.Z)(k,[["render",p]]),H=j;M()(k,"components",{QLayout:_.Z,QHeader:S.Z,QToolbar:Z.Z,QBtn:D.Z,QToolbarTitle:I.Z,QSpace:W.Z,QIcon:x.Z,QAvatar:L.Z,QMenu:$.Z,QList:y.Z,QItem:z.Z,QItemSection:q.Z,QDrawer:C.Z,QItemLabel:E.Z,QExpansionItem:Q.Z,QTooltip:A.Z,QFooter:U.Z}),M()(k,"directives",{Ripple:B.Z})}}]);