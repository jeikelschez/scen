(globalThis["webpackChunktest"]=globalThis["webpackChunktest"]||[]).push([[1551],{23759:(e,t,a)=>{"use strict";function o(e,t,a,o,i,r){return null}a.d(t,{Z:()=>u});var i=a(80589),r=a(5474),l=a(48825);const n={setup(){const e=(0,l.Z)();return{errorDelServidor(){this.$emit("resetLoading"),e.notify({message:this.error,color:"red"})},añadidoConExito(){e.notify({message:"Agregado exitosamente",color:"green"})},editadoConExito(){e.notify({message:"Editado exitosamente",color:"green"})},eliminadoConExito(){e.notify({message:"Eliminado exitosamente",color:"green"})}}},methods:{getData:function(e,t,a,o={headers:{}}){o.headers.Authorization=`Bearer ${i.Z.getItem("token")}`,r.api.get(e,o).then((e=>{this.$emit(t,e.data,a)})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor(),this.$emit("resetLoading")}))},createData:function(e,t,a,o={headers:{}}){o.headers.Authorization=`Bearer ${i.Z.getItem("token")}`,r.api.post(e,t,o).then((e=>{(e.status=200)&&(this.$emit(a),this.añadidoConExito())})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor(),this.$emit("resetLoading")}))},putData:function(e,t,a,o={headers:{}}){o.headers.Authorization=`Bearer ${i.Z.getItem("token")}`,r.api.put(e,t,o).then((e=>{(e.status=200)&&(this.$emit(a),this.editadoConExito())})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor()}))},deleteData:function(e,t,a={headers:{}}){a.headers.Authorization=`Bearer ${i.Z.getItem("token")}`,r.api["delete"](e,a).then((e=>{(e.status=200)&&(this.$emit(t),this.eliminadoConExito())})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor(),this.$emit("resetLoading")}))},login:function(e,t,a,o={headers:{}}){o.headers.Authorization=`Bearer ${i.Z.getItem("token")}`,r.api.post(e,t,o).then((e=>{(e.status=200)&&this.$emit(a,e.data)})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor()}))}}};var s=a(74260);const m=(0,s.Z)(n,[["render",o]]),u=m},51551:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>B});var o=a(83673),i=a(62323),r=a(98880),l=a(47348),n=a.n(l);const s=(0,o._)("img",{src:n()},null,-1),m={key:0},u={key:0},d={key:0,class:"q-pl-lg"},c={class:"tool"},g={key:0},h={class:"tool"},p={class:"float-left",style:{"margin-top":"10px","margin-bottom":"10px","margin-left":"15px"}},w=(0,o._)("div",{class:"text-caption float-right items-center creditos"},[(0,o._)("p",{style:{"font-size":"12px","margin-right":"20px","padding-top":"16px"}},[(0,o._)("strong",null,"© 2022. LOS DERECHOS RESERVADOS. RCS EXPRESS")])],-1);function f(e,t,a,l,n,f){const v=(0,o.up)("q-btn"),b=(0,o.up)("q-toolbar-title"),T=(0,o.up)("q-space"),_=(0,o.up)("q-icon"),S=(0,o.up)("q-avatar"),k=(0,o.up)("q-item-section"),D=(0,o.up)("q-item"),W=(0,o.up)("q-list"),Z=(0,o.up)("q-menu"),I=(0,o.up)("q-toolbar"),x=(0,o.up)("q-header"),L=(0,o.up)("q-item-label"),y=(0,o.up)("q-tooltip"),q=(0,o.up)("q-expansion-item"),$=(0,o.up)("q-drawer"),C=(0,o.up)("router-view"),z=(0,o.up)("user-logout"),E=(0,o.up)("q-footer"),Q=(0,o.up)("q-layout"),U=(0,o.up)("methods"),V=(0,o.Q2)("ripple");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(Q,{view:"hHh Lpr fFf"},{default:(0,o.w5)((()=>[(0,o.Wm)(x,{elevated:""},{default:(0,o.w5)((()=>[(0,o.Wm)(I,{class:"bg-indigo-9"},{default:(0,o.w5)((()=>[(0,o.Wm)(v,{flat:"",dense:"",round:"",onClick:t[0]||(t[0]=e=>{this.hideItems(),this.drawerClick()}),icon:"menu","aria-label":"Menu",class:"q-mr-sm"}),(0,o.Wm)(b,{class:"titleMainLayout"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(n.title),1)])),_:1}),(0,o.Wm)(b,{class:"titleMainLayoutMobile"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(n.titleMobile),1)])),_:1}),(0,o.Wm)(T),(0,o.Wm)(v,{dense:"",color:"white",round:"",style:{"margin-right":"10px"},clickable:"",to:"/m_bancos",padding:"xs"},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{size:"20px",name:"question_mark",color:"primary"})])),_:1}),(0,o.Wm)(v,{flat:"",dense:""},{default:(0,o.w5)((()=>[(0,o.Wm)(S,{size:"42px"},{default:(0,o.w5)((()=>[s])),_:1}),(0,o.Wm)(Z,{"transition-show":"flip-right","transition-hide":"flip-left","auto-close":""},{default:(0,o.w5)((()=>[(0,o.Wm)(W,{style:{"min-width":"100px"}},{default:(0,o.w5)((()=>[(0,o.wy)(((0,o.wg)(),(0,o.j4)(D,{clickable:"",onClick:f.logout},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{avatar:""},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{name:"logout"})])),_:1}),(0,o.Wm)(k,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.$t("Menu.logout")),1)])),_:1})])),_:1},8,["onClick"])),[[V]])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,o.Wm)($,{modelValue:n.drawer,"onUpdate:modelValue":t[1]||(t[1]=e=>n.drawer=e),"show-if-above":"",breakpoint:500,bordered:"",width:350,"auto-close":"",mini:!n.drawer||n.miniState,onClick:t[2]||(t[2]=e=>n.miniState=!1),"content-class":"bg-grey-3"},{default:(0,o.w5)((()=>[(0,o.Wm)(W,null,{default:(0,o.w5)((()=>[(0,o._)("div",null,[(0,o.Wm)(W,{class:"rounded-borders"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.items,(e=>((0,o.wg)(),(0,o.iD)("div",null,[0==e.level?((0,o.wg)(),(0,o.iD)("div",m,[e.qitem?((0,o.wg)(),(0,o.j4)(D,{key:0,style:{"margin-top":"5px"},clickable:"",to:e.url,disable:f.allowOption(e),exact:""},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{avatar:""},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{size:"28px",name:e.icon},null,8,["name"])])),_:2},1024),(0,o.Wm)(k,null,{default:(0,o.w5)((()=>[(0,o.Wm)(L,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.label),1)])),_:2},1024),(0,o.Wm)(L,{caption:""})])),_:2},1024)])),_:2},1032,["to","disable"])):((0,o.wg)(),(0,o.j4)(q,{key:1,"expand-separator":"",icon:e.icon,group:"somegroup","default-opened":"",label:e.label,modelValue:n.items_model[e.name],"onUpdate:modelValue":t=>n.items_model[e.name]=t},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.items,(t=>((0,o.wg)(),(0,o.iD)("div",null,[1==t.level&&e.name==t.padre?((0,o.wg)(),(0,o.iD)("div",u,[t.qitem?((0,o.wg)(),(0,o.iD)("div",d,[(0,o.Wm)(D,{clickable:"",to:t.url,disable:f.allowOption(t),exact:""},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{avatar:""},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{size:"28px",name:t.icon},null,8,["name"]),n.miniState?((0,o.wg)(),(0,o.j4)(y,{key:0,anchor:"center right",self:"center left",offset:[10,10],"transition-show":"scale","transition-hide":"scale"},{default:(0,o.w5)((()=>[(0,o._)("div",c,(0,i.zw)(t.label),1)])),_:2},1024)):(0,o.kq)("",!0)])),_:2},1024),(0,o.Wm)(k,null,{default:(0,o.w5)((()=>[(0,o.Wm)(L,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(t.label),1)])),_:2},1024),(0,o.Wm)(L,{caption:""})])),_:2},1024)])),_:2},1032,["to","disable"])])):((0,o.wg)(),(0,o.j4)(q,{key:1,"header-inset-level":.4,"content-inset-level":.9,"expand-separator":"",group:"somegroup2","default-opened":"",icon:t.icon,label:t.label,modelValue:n.items_model[t.name],"onUpdate:modelValue":e=>n.items_model[t.name]=e},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.items,(e=>((0,o.wg)(),(0,o.iD)("div",null,[2==e.level&&t.name==e.padre?((0,o.wg)(),(0,o.iD)("div",g,[(0,o.Wm)(D,{clickable:"",to:e.url,disable:f.allowOption(e),exact:""},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{avatar:""},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{size:"28px",name:e.icon},null,8,["name"]),n.miniState?((0,o.wg)(),(0,o.j4)(y,{key:0,anchor:"center right",self:"center left",offset:[10,10],"transition-show":"scale","transition-hide":"scale"},{default:(0,o.w5)((()=>[(0,o._)("div",h,(0,i.zw)(e.label),1)])),_:2},1024)):(0,o.kq)("",!0)])),_:2},1024),(0,o.Wm)(k,null,{default:(0,o.w5)((()=>[(0,o.Wm)(L,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.label),1)])),_:2},1024),(0,o.Wm)(L,{caption:""})])),_:2},1024)])),_:2},1032,["to","disable"])])):(0,o.kq)("",!0)])))),256))])),_:2},1032,["header-inset-level","content-inset-level","icon","label","modelValue","onUpdate:modelValue"]))])):(0,o.kq)("",!0)])))),256))])),_:2},1032,["icon","label","modelValue","onUpdate:modelValue"]))])):(0,o.kq)("",!0)])))),256))])),_:1})])])),_:1})])),_:1},8,["modelValue","mini"]),(0,o.Wm)(C,{onChangeTitle:f.changeTitle,onMouseover:t[3]||(t[3]=e=>{this.hideItems(),this.miniState=!0})},null,8,["onChangeTitle"]),(0,o.Wm)(o.Ob),(0,o.Wm)(E,{elevated:"",bordered:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.directs,((e,t)=>((0,o.wg)(),(0,o.iD)("div",p,[(0,o.wy)((0,o.Wm)(v,{dense:"",color:"white",round:"",class:(0,i.C_)(`b${t+1}`),clickable:"",to:e.url,exact:"",padding:"xs",disable:f.allowOption(e)},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{size:"25px",name:e.icon,color:"primary"},{default:(0,o.w5)((()=>[(0,o.Wm)(y,{"transition-show":"flip-right","transition-hide":"flip-left",class:"bg-primary",style:{"max-height":"30px"},color:"primary","max-height":"40px"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.label),1)])),_:2},1024)])),_:2},1032,["name"])])),_:2},1032,["class","to","disable"]),[[r.F8,e.direct]])])))),256)),w,(0,o.Wm)(z,{ref:"component"},null,512)])),_:1})])),_:1}),(0,o.Wm)(U,{ref:"methods",onSetData:f.setData},null,8,["onSetData"])],64)}var v=a(80589),b=a(86455),T=a(23759);const _={emits:["changeTitle","mouseover"],components:{"user-logout":b.Z,methods:T.Z},data(){return{directs:[],title:"SCEN - Sistema de Control de Encomiendas",titleMobile:"SCEN",items:[],items_model:{},events:["click","mousemove","mousedown","scroll","keypress","load"],drawer:!1,miniState:!1,intervalLogout:null,dashboard:this.$t("Menu.dashboard")}},mounted(){this.events.forEach((function(e){window.addEventListener(e,this.resetLogoutTimer)}),this),this.resetLogoutTimer(),this.miniState=!0,this.authenticator(),this.refreshTimer(),this.getData("/menus","setData","items",{headers:{rol:v.Z.getItem("tokenTraducido").usuario.roles.id,read:"S"}}),this.getData("/menus","setData","directs",{headers:{rol:v.Z.getItem("tokenTraducido").usuario.roles.id,direct:1,read:"S"}})},methods:{getData(e,t,a,o){this.$refs.methods.getData(e,t,a,o)},setData(e,t){this[t]=e},drawerClick(){this.miniState?(this.miniState=!1,this.drawer=!0):(this.miniState=!0,this.drawer=!0)},allowOption(e){return 0==e.acciones[0].rpermisos.length},authenticator(){1!=v.Z.getItem("user")&&this.$router.push("/login")},logout(){this.$refs.component.logoutUser()},refreshTimer(){let e=this;var t;let a=19,o=localStorage.getItem("currentTime"),i=localStorage.getItem("targetTime");function r(){!0===v.Z.getItem("user")?(o=localStorage.getItem("currentTime"),i=localStorage.getItem("targetTime"),o>i?(clearInterval(t),v.Z.remove("currentTime"),v.Z.remove("targetTime"),e.$refs.component.refreshToken(),e.refreshTimer()):(o=new Date,localStorage.setItem("currentTime",o))):(clearInterval(t),v.Z.remove("currentTime"),v.Z.remove("targetTime"),e.$router.push("/login"))}null==i&&null==o?(o=new Date,i=new Date(o.getTime()+6e4*a),localStorage.setItem("currentTime",o),localStorage.setItem("targetTime",i)):(o=new Date(o),i=new Date(i)),r()||(t=setInterval(r,1e3)),document.onbeforeunload=function(){localStorage.setItem("currentTime",o)}},resetLogoutTimer(){clearInterval(this.intervalLogout),v.Z.remove("currentTimeLogout"),v.Z.remove("targetTimeLogout");var e=new Date,t=new Date(e.getTime()+3e5);localStorage.setItem("currentTimeLogout",e),localStorage.setItem("targetTimeLogout",t),this.logoutTimer()},logoutTimer(){let e=this,t=5,a=localStorage.getItem("currentTimeLogout"),o=localStorage.getItem("targetTimeLogout");function i(){!0===v.Z.getItem("user")?(a=localStorage.getItem("currentTimeLogout"),o=localStorage.getItem("targetTimeLogout"),a>o?(clearInterval(e.intervalLogout),v.Z.remove("currentTimeLogout"),v.Z.remove("targetTimeLogout"),e.$refs.component.logoutUser()):(a=new Date,localStorage.setItem("currentTimeLogout",a))):(clearInterval(e.intervalLogout),v.Z.remove("currentTimeLogout"),v.Z.remove("targetTimeLogout"),e.$router.push("/login"))}null==o&&null==a?(a=new Date,o=new Date(a.getTime()+6e4*t),localStorage.setItem("currentTimeLogout",a),localStorage.setItem("targetTimeLogout",o)):(a=new Date(a),o=new Date(o)),i()||(e.intervalLogout=setInterval(i,1e3)),document.onbeforeunload=function(){localStorage.setItem("currentTime",a)}},hideItems(){for(var e=0;e<this.items.length-1;e++)this.items_model[this.items[e].name]=!1},changeTitle(e,t){this.title=e,this.titleMobile=t}}};var S=a(74260),k=a(83066),D=a(53812),W=a(39570),Z=a(48240),I=a(13747),x=a(62025),L=a(24554),y=a(75096),q=a(20811),$=a(27011),C=a(83414),z=a(52035),E=a(52901),Q=a(2350),U=a(64615),V=a(5363),M=a(41762),O=a(46489),A=a(7518),H=a.n(A);const j=(0,S.Z)(_,[["render",f]]),B=j;H()(_,"components",{QLayout:k.Z,QHeader:D.Z,QToolbar:W.Z,QBtn:Z.Z,QToolbarTitle:I.Z,QSpace:x.Z,QIcon:L.Z,QAvatar:y.Z,QMenu:q.Z,QList:$.Z,QItem:C.Z,QItemSection:z.Z,QDrawer:E.Z,QItemLabel:Q.Z,QExpansionItem:U.Z,QTooltip:V.Z,QFooter:M.Z}),H()(_,"directives",{Ripple:O.Z})},47348:(e,t,a)=>{e.exports=a.p+"img/avatar.498e291a.jpg"}}]);