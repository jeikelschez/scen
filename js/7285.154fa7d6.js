"use strict";(globalThis["webpackChunktest"]=globalThis["webpackChunktest"]||[]).push([[7285],{55325:(e,t,o)=>{function r(e,t,o,r,s,a){return null}o.d(t,{Z:()=>u});var s=o(80589),a=o(5474),i=o(48825);const n={name:"userLogout",data:function(){return{}},setup(){const e=(0,i.Z)();return{errorDelServidor(){this.$emit("resetLoading"),e.notify({message:this.error,color:"red"})},añadidoConExito(){e.notify({message:"Agregado exitosamente",color:"green"})},editadoConExito(){e.notify({message:"Editado exitosamente",color:"green"})},eliminadoConExito(){e.notify({message:"Eliminado exitosamente",color:"green"})}}},methods:{getData:function(e,t,o,r){void 0==r?r={headers:{Authorization:`Bearer ${s.Z.getItem("token")}`}}:r.headers.Authorization=`Bearer ${s.Z.getItem("token")}`,a.api.get(e,r).then((e=>{this.$emit(t,e.data,o)})).catch((e=>{e.response&&(console.log(e.response),this.error=e.response.data.message),this.errorDelServidor(),this.$emit("resetLoading")}))},getDataEdit:function(e,t,o,r){void 0==r?r={headers:{Authorization:`Bearer ${s.Z.getItem("token")}`}}:r.headers.Authorization=`Bearer ${s.Z.getItem("token")}`,a.api.get(e,r).then((e=>{this.$emit(t,e.data,o)})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor(),this.$emit("resetLoading")}))},deleteData:function(e,t,o){void 0==o?o={headers:{Authorization:`Bearer ${s.Z.getItem("token")}`}}:o.headers.Authorization=`Bearer ${s.Z.getItem("token")}`,a.api["delete"](e,o).then((e=>{(e.status=200)&&(this.$emit(t),this.eliminadoConExito())})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor(),this.$emit("resetLoading")}))},createData:function(e,t,o,r){void 0==r?r={headers:{Authorization:`Bearer ${s.Z.getItem("token")}`}}:r.headers.Authorization=`Bearer ${s.Z.getItem("token")}`,a.api.post(e,t,r).then((e=>{(e.status=200)&&(this.$emit(o),this.añadidoConExito())})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor(),this.$emit("resetLoading")}))},login:function(e,t,o,r){void 0==r?r={headers:{Authorization:`Bearer ${s.Z.getItem("token")}`}}:r.headers.Authorization=`Bearer ${s.Z.getItem("token")}`,a.api.post(e,t,r).then((e=>{(e.status=200)&&this.$emit(o,e.data)})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor()}))},putData:function(e,t,o,r){void 0==r?r={headers:{Authorization:`Bearer ${s.Z.getItem("token")}`}}:r.headers.Authorization=`Bearer ${s.Z.getItem("token")}`,a.api.put(e,t,r).then((e=>{(e.status=200)&&(this.$emit(o),this.editadoConExito())})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor()}))}}};var d=o(74260);const l=(0,d.Z)(n,[["render",r]]),u=l},87285:(e,t,o)=>{o.r(t),o.d(t,{default:()=>y});var r=o(83673);const s={class:"fix-center text-center"},a={class:"frame q-pa-xl pad"},i=(0,r._)("p",{class:"titulo"},"SCEN",-1),n={class:"column"},d={class:"col q-gutter-md"},l=(0,r._)("div",{class:"q-pa-lg"},null,-1),u={class:"col q-gutter-md"};function m(e,t,o,m,h,g){const c=(0,r.up)("q-icon"),p=(0,r.up)("q-input"),f=(0,r.up)("q-btn"),$=(0,r.up)("q-form"),Z=(0,r.up)("methods"),v=(0,r.up)("user-logout"),b=(0,r.up)("q-page"),k=(0,r.up)("q-page-container"),w=(0,r.up)("q-layout");return(0,r.wg)(),(0,r.j4)(w,null,{default:(0,r.w5)((()=>[(0,r.Wm)(k,null,{default:(0,r.w5)((()=>[(0,r.Wm)(b,{class:"login"},{default:(0,r.w5)((()=>[(0,r._)("div",s,[(0,r._)("div",a,[(0,r.Wm)($,{class:"q-gutter-md",onSubmit:g.onSubmit,onReset:g.onReset,novalidate:"novalidate"},{default:(0,r.w5)((()=>[i,(0,r._)("div",n,[(0,r._)("div",d,[(0,r.Wm)(p,{required:"",color:"blue","bg-color":"white",filled:"",modelValue:h.form.username,"onUpdate:modelValue":t[0]||(t[0]=e=>h.form.username=e),label:e.$t("Login.user"),rules:[t=>!!t||e.$t("Login.blank_user")]},{prepend:(0,r.w5)((()=>[(0,r.Wm)(c,{name:"perm_identity"})])),_:1},8,["modelValue","label","rules"]),(0,r.Wm)(p,{color:"blue",standout:"","bg-color":"white",filled:"",modelValue:h.form.password,"onUpdate:modelValue":t[2]||(t[2]=e=>h.form.password=e),label:e.$t("Login.password"),type:h.isPwd?"password":"text",rules:[t=>!!t||e.$t("Login.blank_pass")]},{prepend:(0,r.w5)((()=>[(0,r.Wm)(c,{name:"screen_lock_landscape"})])),append:(0,r.w5)((()=>[(0,r.Wm)(c,{name:h.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:t[1]||(t[1]=e=>h.isPwd=!h.isPwd)},null,8,["name"])])),_:1},8,["modelValue","label","type","rules"])]),l,(0,r._)("div",u,[(0,r.Wm)(f,{glossy:"",label:e.$t("Login.login"),type:"submit"},null,8,["label"])])])])),_:1},8,["onSubmit","onReset"])])]),(0,r.Wm)(Z,{ref:"methods",onLogUser:g.logUser},null,8,["onLogUser"]),(0,r.Wm)(v,{ref:"userLogout"},null,512)])),_:1})])),_:1})])),_:1})}o(5474);var h=o(80589),g=o(48825),c=o(16336),p=o(55325);const f={components:{"user-logout":c.Z,methods:p.Z},name:"login",data(){return{routes:[],form:{username:"",password:""},isPwd:!0,remember:!0,axiosConfig:{headers:{Authorization:""}}}},setup(){const e=(0,g.Z)();return{isNotAuthenticated(){e.notify({message:"Hubo un error al Iniciar Sesion...",color:"red"})}}},mounted(){},methods:{onSubmit(){h.Z.set("usuario",this.form.username),this.$refs.methods.login("/usuarios/login",this.form,"logUser",this.axiosConfig)},logUser(e){h.Z.set("token",`${e.data.accessToken}`),h.Z.set("user",!0),h.Z.set("username",`${this.form.username}`),h.Z.set("refreshToken",`${e.data.refreshToken}`),this.$router.push("/dashboard"),this.$refs.userLogout.login()},onReset(){this.form.username="",this.form.password=""}}};var $=o(74260),Z=o(83066),v=o(72652),b=o(24379),k=o(68689),w=o(34842),_=o(24554),L=o(48240),x=o(7518),A=o.n(x);const I=(0,$.Z)(f,[["render",m]]),y=I;A()(f,"components",{QLayout:Z.Z,QPageContainer:v.Z,QPage:b.Z,QForm:k.Z,QInput:w.Z,QIcon:_.Z,QBtn:L.Z})}}]);