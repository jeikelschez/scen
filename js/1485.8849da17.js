"use strict";(globalThis["webpackChunktest"]=globalThis["webpackChunktest"]||[]).push([[1485],{1496:(e,t,o)=>{function s(e,t,o,s,r,a){return null}o.d(t,{Z:()=>d});var r=o(589),a=o(5474),i=o(8825);const n={name:"userLogout",data:function(){return{}},setup(){const e=(0,i.Z)();return{errorDelServidor(){this.$emit("resetLoading"),e.notify({message:this.error,color:"red"})},añadidoConExito(){e.notify({message:"Agregado exitosamente",color:"green"})},editadoConExito(){e.notify({message:"Editado exitosamente",color:"green"})},eliminadoConExito(){e.notify({message:"Eliminado exitosamente",color:"green"})}}},methods:{getData:function(e,t,o,s){s.headers.Authorization=`Bearer ${r.Z.getItem("token")}`,a.api.get(e,s).then((e=>{this.$emit(t,e.data,o)})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor(),this.$emit("resetLoading")}))},getDataEdit:function(e,t,o,s){s.headers.Authorization=`Bearer ${r.Z.getItem("token")}`,a.api.get(e,s).then((e=>{this.$emit(t,e.data,o)})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor(),this.$emit("resetLoading")}))},deleteData:function(e,t,o){o.headers.Authorization=`Bearer ${r.Z.getItem("token")}`,a.api["delete"](e,o).then((e=>{(e.status=200)&&(this.$emit(t),this.eliminadoConExito())})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor(),this.$emit("resetLoading")}))},createData:function(e,t,o,s){s.headers.Authorization=`Bearer ${r.Z.getItem("token")}`,a.api.post(e,t,s).then((e=>{(e.status=200)&&(this.$emit(o),this.añadidoConExito())})).catch((e=>{e.response&&(this.error=e.response.message),this.errorDelServidor(),this.$emit("resetLoading")}))},login:function(e,t,o,s){s.headers.Authorization=`Bearer ${r.Z.getItem("token")}`,a.api.post(e,t,s).then((e=>{(e.status=200)&&this.$emit(o,e.data)})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor()}))},putData:function(e,t,o,s){s.headers.Authorization=`Bearer ${r.Z.getItem("token")}`,a.api.put(e,t,s).then((e=>{(e.status=200)&&(this.$emit(o),this.editadoConExito())})).catch((e=>{e.response&&(this.error=e.response.message),this.errorDelServidor()}))}}};var l=o(4260);const u=(0,l.Z)(n,[["render",s]]),d=u},1485:(e,t,o)=>{o.r(t),o.d(t,{default:()=>C});var s=o(3673);const r={class:"fix-center text-center"},a={class:"frame q-pa-xl pad"},i=(0,s._)("p",{class:"titulo"},"SCEN",-1),n={class:"column"},l={class:"col q-gutter-md"},u=(0,s._)("div",{class:"q-pa-lg"},null,-1),d={class:"col q-gutter-md"};function m(e,t,o,m,h,c){const g=(0,s.up)("q-icon"),p=(0,s.up)("q-input"),f=(0,s.up)("q-btn"),$=(0,s.up)("q-form"),b=(0,s.up)("methods"),Z=(0,s.up)("user-logout"),w=(0,s.up)("q-page"),v=(0,s.up)("q-page-container"),_=(0,s.up)("q-layout");return(0,s.wg)(),(0,s.j4)(_,null,{default:(0,s.w5)((()=>[(0,s.Wm)(v,null,{default:(0,s.w5)((()=>[(0,s.Wm)(w,{class:"login"},{default:(0,s.w5)((()=>[(0,s._)("div",r,[(0,s._)("div",a,[(0,s.Wm)($,{class:"q-gutter-md",onSubmit:c.onSubmit,onReset:c.onReset,novalidate:"novalidate"},{default:(0,s.w5)((()=>[i,(0,s._)("div",n,[(0,s._)("div",l,[(0,s.Wm)(p,{required:"",color:"blue","bg-color":"white",filled:"",modelValue:h.form.username,"onUpdate:modelValue":t[0]||(t[0]=e=>h.form.username=e),label:e.$t("Login.user"),rules:[t=>!!t||e.$t("Login.blank_user")]},{prepend:(0,s.w5)((()=>[(0,s.Wm)(g,{name:"perm_identity"})])),_:1},8,["modelValue","label","rules"]),(0,s.Wm)(p,{color:"blue",standout:"","bg-color":"white",filled:"",modelValue:h.form.password,"onUpdate:modelValue":t[2]||(t[2]=e=>h.form.password=e),label:e.$t("Login.password"),type:h.isPwd?"password":"text",rules:[t=>!!t||e.$t("Login.blank_pass")]},{prepend:(0,s.w5)((()=>[(0,s.Wm)(g,{name:"screen_lock_landscape"})])),append:(0,s.w5)((()=>[(0,s.Wm)(g,{name:h.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:t[1]||(t[1]=e=>h.isPwd=!h.isPwd)},null,8,["name"])])),_:1},8,["modelValue","label","type","rules"])]),u,(0,s._)("div",d,[(0,s.Wm)(f,{glossy:"",label:e.$t("Login.login"),type:"submit"},null,8,["label"])])])])),_:1},8,["onSubmit","onReset"])])]),(0,s.Wm)(b,{ref:"methods",onLogUser:c.logUser},null,8,["onLogUser"]),(0,s.Wm)(Z,{ref:"userLogout"},null,512)])),_:1})])),_:1})])),_:1})}o(5474);var h=o(589),c=o(8825),g=o(6336),p=o(1496);const f={components:{"user-logout":g.Z,methods:p.Z},name:"login",data(){return{routes:[],form:{username:"",password:""},isPwd:!0,remember:!0,axiosConfig:{headers:{Authorization:""}}}},setup(){const e=(0,c.Z)();return{isNotAuthenticated(){e.notify({message:"Hubo un error al Iniciar Sesion...",color:"red"})}}},mounted(){},methods:{onSubmit(){h.Z.set("usuario",this.form.username),this.$refs.methods.login("/usuarios/login",this.form,"logUser",this.axiosConfig)},logUser(e){h.Z.set("token",`${e.data.accessToken}`),h.Z.set("user",!0),h.Z.set("username",`${e.username}`),h.Z.set("refreshToken",`${e.data.refreshToken}`),this.$router.push("/dashboard"),this.$refs.userLogout.login()},onReset(){this.form.username="",this.form.password=""}}};var $=o(4260),b=o(3066),Z=o(2652),w=o(4379),v=o(5269),_=o(4842),k=o(4554),L=o(8240),x=o(7518),y=o.n(x);const q=(0,$.Z)(f,[["render",m]]),C=q;y()(f,"components",{QLayout:b.Z,QPageContainer:Z.Z,QPage:w.Z,QForm:v.Z,QInput:_.Z,QIcon:k.Z,QBtn:L.Z})}}]);