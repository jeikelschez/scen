"use strict";(globalThis["webpackChunktest"]=globalThis["webpackChunktest"]||[]).push([[7285],{23759:(e,t,o)=>{function s(e,t,o,s,r,a){return null}o.d(t,{Z:()=>d});var r=o(80589),a=o(5474),i=o(48825);const n={setup(){const e=(0,i.Z)();return{errorDelServidor(){this.$emit("resetLoading"),e.notify({message:this.error,color:"red"})},añadidoConExito(){e.notify({message:"Agregado exitosamente",color:"green"})},editadoConExito(){e.notify({message:"Editado exitosamente",color:"green"})},eliminadoConExito(){e.notify({message:"Eliminado exitosamente",color:"green"})}}},methods:{getData:function(e,t,o,s={headers:{}}){s.headers.Authorization=`Bearer ${r.Z.getItem("token")}`,a.api.get(e,s).then((e=>{this.$emit(t,e.data,o)})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor(),this.$emit("resetLoading")}))},createData:function(e,t,o,s={headers:{}}){s.headers.Authorization=`Bearer ${r.Z.getItem("token")}`,a.api.post(e,t,s).then((e=>{(e.status=200)&&(this.$emit(o),this.añadidoConExito())})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor(),this.$emit("resetLoading")}))},putData:function(e,t,o,s={headers:{}}){s.headers.Authorization=`Bearer ${r.Z.getItem("token")}`,a.api.put(e,t,s).then((e=>{(e.status=200)&&(this.$emit(o),this.editadoConExito())})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor()}))},deleteData:function(e,t,o={headers:{}}){o.headers.Authorization=`Bearer ${r.Z.getItem("token")}`,a.api["delete"](e,o).then((e=>{(e.status=200)&&(this.$emit(t),this.eliminadoConExito())})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor(),this.$emit("resetLoading")}))},login:function(e,t,o,s={headers:{}}){s.headers.Authorization=`Bearer ${r.Z.getItem("token")}`,a.api.post(e,t,s).then((e=>{(e.status=200)&&this.$emit(o,e.data)})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor()}))}}};var l=o(74260);const u=(0,l.Z)(n,[["render",s]]),d=u},87285:(e,t,o)=>{o.r(t),o.d(t,{default:()=>C});var s=o(83673);const r={class:"fix-center text-center"},a={class:"frame q-pa-xl pad"},i=(0,s._)("p",{class:"titulo"},"SCEN",-1),n={class:"column"},l={class:"col q-gutter-md"},u=(0,s._)("div",{class:"q-pa-lg"},null,-1),d={class:"col q-gutter-md"};function m(e,t,o,m,h,c){const p=(0,s.up)("q-icon"),g=(0,s.up)("q-input"),f=(0,s.up)("q-btn"),b=(0,s.up)("q-form"),$=(0,s.up)("methods"),Z=(0,s.up)("user-logout"),w=(0,s.up)("q-page"),v=(0,s.up)("q-page-container"),_=(0,s.up)("q-layout");return(0,s.wg)(),(0,s.j4)(_,null,{default:(0,s.w5)((()=>[(0,s.Wm)(v,null,{default:(0,s.w5)((()=>[(0,s.Wm)(w,{class:"login"},{default:(0,s.w5)((()=>[(0,s._)("div",r,[(0,s._)("div",a,[(0,s.Wm)(b,{class:"q-gutter-md",onSubmit:c.onSubmit,onReset:c.onReset,novalidate:"novalidate"},{default:(0,s.w5)((()=>[i,(0,s._)("div",n,[(0,s._)("div",l,[(0,s.Wm)(g,{required:"",color:"blue","bg-color":"white",filled:"",modelValue:h.form.username,"onUpdate:modelValue":t[0]||(t[0]=e=>h.form.username=e),label:e.$t("Login.user"),rules:[t=>!!t||e.$t("Login.blank_user")]},{prepend:(0,s.w5)((()=>[(0,s.Wm)(p,{name:"perm_identity"})])),_:1},8,["modelValue","label","rules"]),(0,s.Wm)(g,{color:"blue",standout:"","bg-color":"white",filled:"",modelValue:h.form.password,"onUpdate:modelValue":t[2]||(t[2]=e=>h.form.password=e),label:e.$t("Login.password"),type:h.isPwd?"password":"text",rules:[t=>!!t||e.$t("Login.blank_pass")]},{prepend:(0,s.w5)((()=>[(0,s.Wm)(p,{name:"screen_lock_landscape"})])),append:(0,s.w5)((()=>[(0,s.Wm)(p,{name:h.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:t[1]||(t[1]=e=>h.isPwd=!h.isPwd)},null,8,["name"])])),_:1},8,["modelValue","label","type","rules"])]),u,(0,s._)("div",d,[(0,s.Wm)(f,{glossy:"",label:e.$t("Login.login"),type:"submit"},null,8,["label"])])])])),_:1},8,["onSubmit","onReset"])])]),(0,s.Wm)($,{ref:"methods",onLogUser:c.logUser},null,8,["onLogUser"]),(0,s.Wm)(Z,{ref:"userLogout"},null,512)])),_:1})])),_:1})])),_:1})}o(5474);var h=o(80589),c=o(48825),p=o(86455),g=o(23759);const f={components:{"user-logout":p.Z,methods:g.Z},name:"login",data(){return{routes:[],form:{username:"",password:""},isPwd:!0,remember:!0,axiosConfig:{headers:{Authorization:""}}}},setup(){const e=(0,c.Z)();return{isNotAuthenticated(){e.notify({message:"Hubo un error al Iniciar Sesion...",color:"red"})}}},mounted(){},methods:{onSubmit(){h.Z.set("usuario",this.form.username),this.$refs.methods.login("/usuarios/login",this.form,"logUser",this.axiosConfig)},logUser(e){h.Z.set("token",`${e.data.accessToken}`),h.Z.set("user",!0),h.Z.set("username",`${this.form.username}`),h.Z.set("refreshToken",`${e.data.refreshToken}`),this.$router.push("/dashboard"),this.$refs.userLogout.login()},onReset(){this.form.username="",this.form.password=""}}};var b=o(74260),$=o(83066),Z=o(72652),w=o(24379),v=o(68689),_=o(64689),k=o(24554),x=o(48240),y=o(7518),L=o.n(y);const q=(0,b.Z)(f,[["render",m]]),C=q;L()(f,"components",{QLayout:$.Z,QPageContainer:Z.Z,QPage:w.Z,QForm:v.Z,QInput:_.Z,QIcon:k.Z,QBtn:x.Z})}}]);