(globalThis["webpackChunktest"]=globalThis["webpackChunktest"]||[]).push([[3501],{93899:(e,t,a)=>{"use strict";function o(e,t,a,o,r,i){return null}a.d(t,{A:()=>m});var r=a(45022),i=a(80660),l=a(14907);const n={setup(){const e=(0,l.A)();return{errorDelServidor(){this.$emit("resetLoading"),e.notify({message:this.error,color:"red"})},añadidoConExito(){e.notify({message:"Agregado exitosamente",color:"green"})},editadoConExito(){e.notify({message:"Editado exitosamente",color:"green"})},eliminadoConExito(){e.notify({message:"Eliminado exitosamente",color:"green"})}}},methods:{getData:function(e,t,a,o={headers:{}}){o.headers.Authorization=`Bearer ${r.A.getItem("token")}`,i.api.get(e,o).then((e=>{this.$emit(t,e.data,a)})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor(),this.$emit("resetLoading")}))},createData:function(e,t,a,o={headers:{}}){o.headers.Authorization=`Bearer ${r.A.getItem("token")}`,i.api.post(e,t,o).then((e=>{(e.status=200)&&(this.$emit(a),this.añadidoConExito())})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor(),this.$emit("resetLoading")}))},putData:function(e,t,a,o={headers:{}}){o.headers.Authorization=`Bearer ${r.A.getItem("token")}`,i.api.put(e,t,o).then((e=>{(e.status=200)&&(this.$emit(a),this.editadoConExito())})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor()}))},deleteData:function(e,t,a={headers:{}}){a.headers.Authorization=`Bearer ${r.A.getItem("token")}`,i.api.delete(e,a).then((e=>{(e.status=200)&&(this.$emit(t),this.eliminadoConExito())})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor(),this.$emit("resetLoading")}))},login:function(e,t,a,o={headers:{}}){o.headers.Authorization=`Bearer ${r.A.getItem("token")}`,i.api.post(e,t,o).then((e=>{(e.status=200)&&this.$emit(a,e.data)})).catch((e=>{e.response&&(this.error=e.response.data.message),this.errorDelServidor()}))}}};var s=a(12807);const u=(0,s.A)(n,[["render",o]]),m=u},83501:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>H});var o=a(61758),r=a(58790),i=a(29104),l=a(16902),n=a.n(l);const s=(0,o.Lk)("img",{src:n()},null,-1),u={key:0},m={key:0},d={key:0,class:"q-pl-lg"},c={class:"tool"},g={key:0},h={class:"tool"},p={class:"float-left",style:{"margin-top":"10px","margin-bottom":"10px","margin-left":"15px"}},b=(0,o.Lk)("div",{class:"text-caption float-right items-center creditos"},[(0,o.Lk)("p",{style:{"font-size":"12px","margin-right":"20px","padding-top":"16px"}},[(0,o.Lk)("strong",null,"© 2022. LOS DERECHOS RESERVADOS. RCS EXPRESS")])],-1);function f(e,t,a,l,n,f){const v=(0,o.g2)("q-btn"),k=(0,o.g2)("q-toolbar-title"),A=(0,o.g2)("q-space"),T=(0,o.g2)("q-icon"),_=(0,o.g2)("q-avatar"),F=(0,o.g2)("q-item-section"),I=(0,o.g2)("q-item"),S=(0,o.g2)("q-list"),w=(0,o.g2)("q-menu"),L=(0,o.g2)("q-toolbar"),x=(0,o.g2)("q-header"),C=(0,o.g2)("q-item-label"),D=(0,o.g2)("q-tooltip"),E=(0,o.g2)("q-expansion-item"),y=(0,o.g2)("q-drawer"),$=(0,o.g2)("router-view"),q=(0,o.g2)("user-logout"),Q=(0,o.g2)("q-footer"),X=(0,o.g2)("q-page-container"),W=(0,o.g2)("q-layout"),z=(0,o.g2)("methods"),V=(0,o.gN)("ripple");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(W,{view:"hHh Lpr fFf"},{default:(0,o.k6)((()=>[(0,o.bF)(X,{style:{padding:"0px"}},{default:(0,o.k6)((()=>[(0,o.bF)(x,{elevated:""},{default:(0,o.k6)((()=>[(0,o.bF)(L,{class:"bg-indigo-9"},{default:(0,o.k6)((()=>[(0,o.bF)(v,{flat:"",dense:"",round:"",onClick:t[0]||(t[0]=e=>{this.hideItems(),this.drawerClick()}),icon:"menu","aria-label":"Menu",class:"q-mr-sm"}),(0,o.bF)(k,{class:"titleMainLayout"},{default:(0,o.k6)((()=>[(0,o.eW)((0,r.v_)(n.title),1)])),_:1}),(0,o.bF)(k,{class:"titleMainLayoutMobile"},{default:(0,o.k6)((()=>[(0,o.eW)((0,r.v_)(n.titleMobile),1)])),_:1}),(0,o.bF)(A),(0,o.bF)(v,{dense:"",color:"white",round:"",style:{"margin-right":"10px"},clickable:"",to:"/m_bancos",padding:"xs"},{default:(0,o.k6)((()=>[(0,o.bF)(T,{size:"20px",name:"question_mark",color:"primary"})])),_:1}),(0,o.bF)(v,{flat:"",dense:""},{default:(0,o.k6)((()=>[(0,o.bF)(_,{size:"42px"},{default:(0,o.k6)((()=>[s])),_:1}),(0,o.bF)(w,{"transition-show":"flip-right","transition-hide":"flip-left","auto-close":""},{default:(0,o.k6)((()=>[(0,o.bF)(S,{style:{"min-width":"100px"}},{default:(0,o.k6)((()=>[(0,o.bo)(((0,o.uX)(),(0,o.Wv)(I,{clickable:"",onClick:f.logout},{default:(0,o.k6)((()=>[(0,o.bF)(F,{avatar:""},{default:(0,o.k6)((()=>[(0,o.bF)(T,{name:"logout"})])),_:1}),(0,o.bF)(F,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,r.v_)(e.$t("Menu.logout")),1)])),_:1})])),_:1},8,["onClick"])),[[V]])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,o.bF)(y,{modelValue:n.drawer,"onUpdate:modelValue":t[1]||(t[1]=e=>n.drawer=e),"show-if-above":"",breakpoint:500,bordered:"",width:350,"auto-close":"",mini:!n.drawer||n.miniState,onClick:t[2]||(t[2]=e=>n.miniState=!1),"content-class":"bg-grey-3"},{default:(0,o.k6)((()=>[(0,o.bF)(S,null,{default:(0,o.k6)((()=>[(0,o.Lk)("div",null,[(0,o.bF)(S,{class:"rounded-borders"},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.items,(e=>((0,o.uX)(),(0,o.CE)("div",null,[0==e.level?((0,o.uX)(),(0,o.CE)("div",u,[e.qitem?((0,o.uX)(),(0,o.Wv)(I,{key:0,style:{"margin-top":"5px"},clickable:"",to:e.url,disable:f.allowOption(e),exact:""},{default:(0,o.k6)((()=>[(0,o.bF)(F,{avatar:""},{default:(0,o.k6)((()=>[(0,o.bF)(T,{size:"28px",name:e.icon},null,8,["name"])])),_:2},1024),(0,o.bF)(F,null,{default:(0,o.k6)((()=>[(0,o.bF)(C,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,r.v_)(e.label),1)])),_:2},1024),(0,o.bF)(C,{caption:""})])),_:2},1024)])),_:2},1032,["to","disable"])):((0,o.uX)(),(0,o.Wv)(E,{key:1,"expand-separator":"",icon:e.icon,group:"somegroup","default-opened":"",label:e.label,modelValue:n.items_model[e.name],"onUpdate:modelValue":t=>n.items_model[e.name]=t},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.items,(t=>((0,o.uX)(),(0,o.CE)("div",null,[1==t.level&&e.name==t.padre?((0,o.uX)(),(0,o.CE)("div",m,[t.qitem?((0,o.uX)(),(0,o.CE)("div",d,[(0,o.bF)(I,{clickable:"",to:t.url,disable:f.allowOption(t),exact:""},{default:(0,o.k6)((()=>[(0,o.bF)(F,{avatar:""},{default:(0,o.k6)((()=>[(0,o.bF)(T,{size:"28px",name:t.icon},null,8,["name"]),n.miniState?((0,o.uX)(),(0,o.Wv)(D,{key:0,anchor:"center right",self:"center left",offset:[10,10],"transition-show":"scale","transition-hide":"scale"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",c,(0,r.v_)(t.label),1)])),_:2},1024)):(0,o.Q3)("",!0)])),_:2},1024),(0,o.bF)(F,null,{default:(0,o.k6)((()=>[(0,o.bF)(C,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,r.v_)(t.label),1)])),_:2},1024),(0,o.bF)(C,{caption:""})])),_:2},1024)])),_:2},1032,["to","disable"])])):((0,o.uX)(),(0,o.Wv)(E,{key:1,"header-inset-level":.4,"content-inset-level":.9,"expand-separator":"",group:"somegroup2","default-opened":"",icon:t.icon,label:t.label,modelValue:n.items_model[t.name],"onUpdate:modelValue":e=>n.items_model[t.name]=e},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.items,(e=>((0,o.uX)(),(0,o.CE)("div",null,[2==e.level&&t.name==e.padre?((0,o.uX)(),(0,o.CE)("div",g,[(0,o.bF)(I,{clickable:"",to:e.url,disable:f.allowOption(e),exact:""},{default:(0,o.k6)((()=>[(0,o.bF)(F,{avatar:""},{default:(0,o.k6)((()=>[(0,o.bF)(T,{size:"28px",name:e.icon},null,8,["name"]),n.miniState?((0,o.uX)(),(0,o.Wv)(D,{key:0,anchor:"center right",self:"center left",offset:[10,10],"transition-show":"scale","transition-hide":"scale"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",h,(0,r.v_)(e.label),1)])),_:2},1024)):(0,o.Q3)("",!0)])),_:2},1024),(0,o.bF)(F,null,{default:(0,o.k6)((()=>[(0,o.bF)(C,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,r.v_)(e.label),1)])),_:2},1024),(0,o.bF)(C,{caption:""})])),_:2},1024)])),_:2},1032,["to","disable"])])):(0,o.Q3)("",!0)])))),256))])),_:2},1032,["icon","label","modelValue","onUpdate:modelValue"]))])):(0,o.Q3)("",!0)])))),256))])),_:2},1032,["icon","label","modelValue","onUpdate:modelValue"]))])):(0,o.Q3)("",!0)])))),256))])),_:1})])])),_:1})])),_:1},8,["modelValue","mini"]),(0,o.bF)($,{onChangeTitle:f.changeTitle,onMouseover:t[3]||(t[3]=e=>{this.hideItems(),this.miniState=!0})},null,8,["onChangeTitle"]),(0,o.bF)(o.PR),(0,o.bF)(Q,{elevated:"",bordered:""},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.directs,((e,t)=>((0,o.uX)(),(0,o.CE)("div",p,[(0,o.bo)((0,o.bF)(v,{dense:"",color:"white",round:"",class:(0,r.C4)(`b${t+1}`),clickable:"",to:e.url,exact:"",padding:"xs",disable:f.allowOption(e)},{default:(0,o.k6)((()=>[(0,o.bF)(T,{size:"25px",name:e.icon,color:"primary"},{default:(0,o.k6)((()=>[(0,o.bF)(D,{"transition-show":"flip-right","transition-hide":"flip-left",class:"bg-primary",style:{"max-height":"30px"},color:"primary","max-height":"40px"},{default:(0,o.k6)((()=>[(0,o.eW)((0,r.v_)(e.label),1)])),_:2},1024)])),_:2},1032,["name"])])),_:2},1032,["class","to","disable"]),[[i.aG,e.direct]])])))),256)),b,(0,o.bF)(q,{ref:"component"},null,512)])),_:1})])),_:1})])),_:1}),(0,o.bF)(z,{ref:"methods",onSetData:f.setData},null,8,["onSetData"])],64)}a(10239);var v=a(45022),k=a(27946),A=a(93899),T=a(80660);const _={emits:["changeTitle","mouseover"],components:{"user-logout":k.A,methods:A.A},data(){return{directs:[],title:"SCEN - Sistema de Control de Encomiendas",titleMobile:"SCEN",items:[],items_model:{},events:["click","mousemove","mousedown","scroll","keypress","load"],drawer:!1,miniState:!1,intervalLogout:null,dashboard:this.$t("Menu.dashboard"),form:{username:"",token:""}}},mounted(){this.events.forEach((function(e){window.addEventListener(e,this.resetLogoutTimer)}),this),this.resetLogoutTimer(),this.miniState=!0,this.authenticator(),this.refreshTimer(),this.getData("/menus","setData","items",{headers:{rol:v.A.getItem("tokenTraducido").usuario.roles.id,read:"S"}}),this.getData("/menus","setData","directs",{headers:{rol:v.A.getItem("tokenTraducido").usuario.roles.id,direct:1,read:"S"}})},methods:{getData(e,t,a,o){this.$refs.methods.getData(e,t,a,o)},setData(e,t){this[t]=e},drawerClick(){this.miniState?(this.miniState=!1,this.drawer=!0):(this.miniState=!0,this.drawer=!0)},allowOption(e){return 0==e.acciones[0].rpermisos.length},authenticator(){1!=v.A.getItem("user")&&this.$router.push("/login")},logout(){v.A.remove("user"),this.$router.push("/login")},refreshTimer(){let e=this;var t;let a=119,o=localStorage.getItem("currentTime"),r=localStorage.getItem("targetTime");function i(){!0===v.A.getItem("user")?(o=localStorage.getItem("currentTime"),r=localStorage.getItem("targetTime"),o>r?(clearInterval(t),v.A.remove("currentTime"),v.A.remove("targetTime"),e.refreshToken(),e.refreshTimer()):(o=new Date,localStorage.setItem("currentTime",o))):(clearInterval(t),v.A.remove("currentTime"),v.A.remove("targetTime"),e.$router.push("/login"))}null==r&&null==o?(o=new Date,r=new Date(o.getTime()+6e4*a),localStorage.setItem("currentTime",o),localStorage.setItem("targetTime",r)):(o=new Date(o),r=new Date(r)),i()||(t=setInterval(i,1e3)),document.onbeforeunload=function(){localStorage.setItem("currentTime",o)}},refreshToken(){!0===v.A.getItem("user")&&(this.form.username=v.A.getItem("usuario"),this.form.token=v.A.getItem("refreshToken"),T.api.post("/usuarios/refresh",this.form).then((e=>{(e.status=201)&&(v.A.set("token",`${e.data.data.accessToken}`),this.refreshTimer())})).catch((e=>{$q.notify({message:e.response.data.statusCode,color:"red"})})))},resetLogoutTimer(){clearInterval(this.intervalLogout),v.A.remove("currentTimeLogout"),v.A.remove("targetTimeLogout");var e=new Date,t=new Date(e.getTime()+36e5);localStorage.setItem("currentTimeLogout",e),localStorage.setItem("targetTimeLogout",t),this.logoutTimer()},logoutTimer(){let e=this,t=60,a=localStorage.getItem("currentTimeLogout"),o=localStorage.getItem("targetTimeLogout");function r(){!0===v.A.getItem("user")?(a=localStorage.getItem("currentTimeLogout"),o=localStorage.getItem("targetTimeLogout"),a>o?(clearInterval(e.intervalLogout),v.A.remove("currentTimeLogout"),v.A.remove("targetTimeLogout"),v.A.remove("user"),e.$router.push("/login")):(a=new Date,localStorage.setItem("currentTimeLogout",a))):(clearInterval(e.intervalLogout),v.A.remove("currentTimeLogout"),v.A.remove("targetTimeLogout"),e.$router.push("/login"))}null==o&&null==a?(a=new Date,o=new Date(a.getTime()+6e4*t),localStorage.setItem("currentTimeLogout",a),localStorage.setItem("targetTimeLogout",o)):(a=new Date(a),o=new Date(o)),r()||(e.intervalLogout=setInterval(r,1e3)),document.onbeforeunload=function(){localStorage.setItem("currentTime",a)}},hideItems(){for(var e=0;e<this.items.length-1;e++)this.items_model[this.items[e].name]=!1},changeTitle(e,t){this.title=e,this.titleMobile=t}}};var F=a(12807),I=a(29078),S=a(45205),w=a(8416),L=a(36914),x=a(56384),C=a(39150),D=a(93676),E=a(50492),y=a(3952),$=a(84436),q=a(53999),Q=a(90124),X=a(25173),W=a(76056),z=a(13796),V=a(9459),M=a(97410),O=a(57092),R=a(39626),B=a(98582),K=a.n(B);const U=(0,F.A)(_,[["render",f]]),H=U;K()(_,"components",{QLayout:I.A,QPageContainer:S.A,QHeader:w.A,QToolbar:L.A,QBtn:x.A,QToolbarTitle:C.A,QSpace:D.A,QIcon:E.A,QAvatar:y.A,QMenu:$.A,QList:q.A,QItem:Q.A,QItemSection:X.A,QDrawer:W.A,QItemLabel:z.A,QExpansionItem:V.A,QTooltip:M.A,QFooter:O.A}),K()(_,"directives",{Ripple:R.A})},16902:(e,t,a)=>{e.exports=a.p+"img/avatar.498e291a.jpg"}}]);